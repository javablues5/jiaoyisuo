{"remainingRequest":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/thread-loader/dist/cjs.js!/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/babel-loader/lib/index.js!/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ddmac/Downloads/javanew/echo2.0-admin/src/views/bussiness/trade-robot/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/src/views/bussiness/trade-robot/index.vue","mtime":1698845798000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/babel.config.js","mtime":1698845798000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2RkbWFjL0Rvd25sb2Fkcy9qYXZhbmV3L2VjaG8yLjAtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZGRtYWMvRG93bmxvYWRzL2phdmFuZXcvZWNobzIuMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IFRpbWVGb3JtYXRlciBmcm9tICJ0aW1lLWZvcm1hdGVyIjsKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICJlY2hhcnRzIjsKaW1wb3J0IHsgZ2VuZXJhdGVUaW1lTGlzdCwgZ2V0S0xpbmVZUmFuZG9tTGlzdCwgZGlzdHJpYnV0ZU1pbnV0ZXMsIGdldE1vY2tLTGluZU9wdGlvbiB9IGZyb20gIi4vdXRpbCI7CmltcG9ydCB7IF90b0ZpeGVkLCBfZGl2LCBfbXVsIH0gZnJvbSAiLi9kZWNpbWFsIjsKaW1wb3J0IHsgZ2V0U3ltYm9sTGlzdEFwaSwgc2F2ZVRyYWRlUm9ib3RBcGksIGdldERldGFpbEFwaSwgdXBkYXRlRGV0YWlsQXBpIH0gZnJvbSAiQC9hcGkvYnVzc2luZXNzL3RyYWRlLXJvYm90LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUcmFkZVJvYm90IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGV0YWlsOiBudWxsLAogICAgICAvLyDljoblj7JpZAogICAgICBpZDogbnVsbCwKICAgICAgLy8g57G75Z6LIHByaXZpZXcgdXBkYXRlCiAgICAgIHR5cGU6IG51bGwsCiAgICAgIC8vIOaOp+ebmOetlueVpeWIl+ihqAogICAgICBtb2RlbExpc3Q6IFt7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbGFiZWw6ICLot5/pmo/lnovotovlir8iCiAgICAgIH0sCiAgICAgIC8vIHsgdmFsdWU6IDEsIGxhYmVsOiAi6Ieq5a6a5LmJ6LaL5Yq/IiB9LAogICAgICB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICLnp5LmnYDlnovotovlir8iCiAgICAgIH1dLAogICAgICAvLyDluIHnp43liJfooagKICAgICAgc3ltYm9sTGlzdDogW10sCiAgICAgIC8vIOihqOWNlQogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgc3ltYm9sOiB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLluIHnp43kuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyDmgLvliIbpkp/mlbAKICAgICAgdG90YWxNaW51dGVzOiAwLAogICAgICAvLyDln7rnoYDnspLluqYKICAgICAgZ3JhbnVsYXJpdHk6IDE1LAogICAgICAvLyBY6L205pe26Ze0CiAgICAgIHhUaW1lU2NhbGVMaXN0OiBbXSwKICAgICAgLy8gWei9tOiuoeeul+avlOS+iwogICAgICB5UmFuZG9tTGlzdDogW10sCiAgICAgIC8vIOWbvuihqOWunuS+iwogICAgICBsaW5lQ2hhcnQ6IG51bGwsCiAgICAgIC8vIOWbvuihqOWunuS+iwogICAgICBLTGluZUNoYXJ0OiBudWxsLAogICAgICAvKioNCiAgICAgICAqIGvnur/pooTlpITnkIbmlbDmja4NCiAgICAgICAqLwogICAgICBrbGluZVlSYW5kb21MaXN0OiBbXSwKICAgICAgLyoqDQogICAgICAgKiBr57q/5pWw5o2uDQogICAgICAgKi8KICAgICAga2xpbmVNb2NrWURhdGE6IFtdLAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgLy/orr7nva7npoHnlKjnirbmgIHvvIzlj4LmlbDkuLrlvZPliY3ml6XmnJ8KICAgICAgICBkaXNhYmxlZERhdGU6IGZ1bmN0aW9uIGRpc2FibGVkRGF0ZSh0aW1lKSB7CiAgICAgICAgICByZXR1cm4gdGltZS5nZXRUaW1lKCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDg2NDAwMDAwOyAvLyAgLSA4NjQwMDAwMOaYr+WQpuWMheaLrOW9k+WkqQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLyoqDQogICAgICog562W55Wl5L+h5oGvDQogICAgICovCiAgICBtb2RlbEluZm86IGZ1bmN0aW9uIG1vZGVsSW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMubW9kZWxMaXN0LmZpbmQoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICB2YXIgX3RoaXMkZm9ybTsKICAgICAgICByZXR1cm4gZWxlbS52YWx1ZSA9PSAoKChfdGhpcyRmb3JtID0gX3RoaXMuZm9ybSkgPT09IG51bGwgfHwgX3RoaXMkZm9ybSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZm9ybS5tb2RlbCkgfHwgMCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOaOp+WItueykuW6puWIl+ihqA0KICAgICAqLwogICAgZ3JhbnVsYXJpdHlMaXN0OiBmdW5jdGlvbiBncmFudWxhcml0eUxpc3QoKSB7CiAgICAgIHZhciB0ZW1wTGlzdCA9IFt7CiAgICAgICAgdmFsdWU6IDE1LAogICAgICAgIGxhYmVsOiAiMTXliIbpkp8iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMzAsCiAgICAgICAgbGFiZWw6ICIzMOWIhumSnyIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiA2MCwKICAgICAgICBsYWJlbDogIjHlsI/ml7YiCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMTIwLAogICAgICAgIGxhYmVsOiAiMuWwj+aXtiIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyNDAsCiAgICAgICAgbGFiZWw6ICI05bCP5pe2IgogICAgICB9XTsKICAgICAgaWYgKHRoaXMuZm9ybS5tb2RlbCA9PSAyKSB7CiAgICAgICAgLy8g56eS5p2A5Z6L6LaL5Yq/CiAgICAgICAgdGVtcExpc3QgPSBbewogICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICBsYWJlbDogIjHliIbpkp8iCiAgICAgICAgfSwgewogICAgICAgICAgdmFsdWU6IDUsCiAgICAgICAgICBsYWJlbDogIjXliIbpkp8iCiAgICAgICAgfSwgewogICAgICAgICAgdmFsdWU6IDEwLAogICAgICAgICAgbGFiZWw6ICIxMOWIhumSnyIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWx1ZTogMTUsCiAgICAgICAgICBsYWJlbDogIjE15YiG6ZKfIgogICAgICAgIH1dOwogICAgICB9CiAgICAgIHJldHVybiB0ZW1wTGlzdDsKICAgIH0sCiAgICAvKioNCiAgICAgKiDmmK/lkKbkuLrpooTop4gNCiAgICAgKi8KICAgIGlzUHJpdmlldzogZnVuY3Rpb24gaXNQcml2aWV3KCkgewogICAgICByZXR1cm4gdGhpcy50eXBlID09ICJwcml2aWV3IjsKICAgIH0sCiAgICAvKioNCiAgICAgKiDmmK/lkKbkuLrkv67mlLkNCiAgICAgKi8KICAgIGlzVXBkYXRlOiBmdW5jdGlvbiBpc1VwZGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PSAidXBkYXRlIjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldFN5bWJvbExpc3QoKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgX3RoaXMyLmlkID0gX3RoaXMyLiRyb3V0ZS5xdWVyeS5pZCB8fCBudWxsOwogICAgICAgICAgICBfdGhpczIudHlwZSA9IF90aGlzMi4kcm91dGUucXVlcnkudHlwZSB8fCBudWxsOwogICAgICAgICAgICBpZiAoX3RoaXMyLmlkKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmdldERldGFpbCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5yZXNldCgpOwogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBfdGhpczIucmVzaXplKTsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiDojrflj5bmlbDmja7or6bmg4UNCiAgICAgKi8KICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlcywgdGVtcERhdGE7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0RGV0YWlsQXBpKF90aGlzMy5pZCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgdGVtcERhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMy5kZXRhaWwgPSB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLnN5bWJvbExpc3Quc29tZShmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5zeW1ib2wgPT0gdGVtcERhdGEuc3ltYm9sOwogICAgICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICAgICAgdGVtcERhdGEuc3ltYm9sID0gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpczMuZm9ybSA9IHsKICAgICAgICAgICAgICAgICAgZGVjbGluZTogdGVtcERhdGEuZGVjbGluZSwKICAgICAgICAgICAgICAgICAgaW5jcmVhc2U6IHRlbXBEYXRhLmluY3JlYXNlLAogICAgICAgICAgICAgICAgICBncmFudWxhcml0eTogdGVtcERhdGEuZ3JhbnVsYXJpdHksCiAgICAgICAgICAgICAgICAgIG1vZGVsOiB0ZW1wRGF0YS5tb2RlbCwKICAgICAgICAgICAgICAgICAgY29uUHJpY2U6IHRlbXBEYXRhLmNvblByaWNlLAogICAgICAgICAgICAgICAgICBwcmljZVBlbmNlbnQ6IHRlbXBEYXRhLnByaWNlUGVuY2VudCwKICAgICAgICAgICAgICAgICAgc3ltYm9sOiB0ZW1wRGF0YS5zeW1ib2wsCiAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHRlbXBEYXRhLmJlZ2luVGltZSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpczMua2xpbmVNb2NrWURhdGEgPSB0ZW1wRGF0YS5ib3RJbmZvTGlzdC5tYXAoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmtsaW5lWVJhbmRvbUxpc3RbZWxlbS54XSA9IGVsZW0ueTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbGVtLm9wZW4sIGVsZW0uY2xvc2UsIGVsZW0uaGlnaCwgZWxlbS5sb3ddOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczMuZ3JhbnVsYXJpdHkgPSBfdGhpczMuZ3JhbnVsYXJpdHlMaXN0WzBdLnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKHRlbXBEYXRhLm1vZGVsID09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnRvdGFsTWludXRlcyA9IDYwOwogICAgICAgICAgICAgICAgICBfdGhpczMueFRpbWVTY2FsZUxpc3QgPSBnZW5lcmF0ZVRpbWVMaXN0KF90aGlzMy5mb3JtLnRpbWUsIF90aGlzMy5ncmFudWxhcml0eSwgX3RoaXMzLnRvdGFsTWludXRlcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpczMueVJhbmRvbUxpc3QgPSBKU09OLnBhcnNlKHRlbXBEYXRhLmxpbmVDaGFydERhdGEpOwogICAgICAgICAgICAgICAgX3RoaXMzLmRyYXdMaW5lKCk7CiAgICAgICAgICAgICAgICBfdGhpczMuZHJhd0tMaW5lKCk7CiAgICAgICAgICAgICAgICBfdGhpczMuS0xpbmVQZXJ2aWV3KHsKICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICAgICAgICAgIGRhdGE6IF90aGlzMy5rbGluZU1vY2tZRGF0YQogICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgeEF4aXM6IF90aGlzMy54VGltZVNjYWxlTGlzdAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDmj5DkuqQNCiAgICAgKi8KICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHRlbXBCb3RJbmZvTGlzdCwgbm93RGF0ZSwgdGltZSwgcGFyYW1zLCByZXMsIF9yZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLooajljZXmlbDmja4iLCBfdGhpczQuZm9ybSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkvnur/mlbDmja4gb3BlbiwgY2xvc2UsIGhpZ2gsIGxvdyIsIF90aGlzNC5rbGluZU1vY2tZRGF0YSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkvnur/mlbDmja4g5pe26Ze0IiwgX3RoaXM0LmtsaW5lWVJhbmRvbUxpc3QsIF90aGlzNC5mb3JtLnRpbWUuZ2V0VGltZSgpKTsKICAgICAgICAgICAgICB0ZW1wQm90SW5mb0xpc3QgPSBbXTsKICAgICAgICAgICAgICBfdGhpczQuZm9ybS50aW1lLnNldFNlY29uZHMoMCk7CiAgICAgICAgICAgICAgX3RoaXM0LmZvcm0udGltZS5zZXRNaWxsaXNlY29uZHMoMCk7CiAgICAgICAgICAgICAgbm93RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgbm93RGF0ZS5zZXRTZWNvbmRzKDApOwogICAgICAgICAgICAgIG5vd0RhdGUuc2V0TWlsbGlzZWNvbmRzKDApOwogICAgICAgICAgICAgIHRpbWUgPSBfdGhpczQuZm9ybS50aW1lLmdldFRpbWUoKTsgLy8gaWYgKAogICAgICAgICAgICAgIC8vICAgWzJdLmluY2x1ZGVzKHRoaXMuZm9ybS5tb2RlbCkgJiYKICAgICAgICAgICAgICAvLyAgIHRpbWUgPCBub3dEYXRlLmdldFRpbWUoKSArIDEyMCAqIDEwMDAKICAgICAgICAgICAgICAvLyApIHsKICAgICAgICAgICAgICAvLyAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLor7flsIbmjqfnm5jml7bpl7Torr7nva7kuLog5b2T5YmN5pe26Ze0ICsg5Lik5YiG6ZKfIik7CiAgICAgICAgICAgICAgLy8gICByZXR1cm47CiAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIGlmIChbMSwgMl0uaW5jbHVkZXMoX3RoaXM0LmZvcm0ubW9kZWwpKSB7CiAgICAgICAgICAgICAgICB0ZW1wQm90SW5mb0xpc3QgPSBPYmplY3Qua2V5cyhfdGhpczQua2xpbmVZUmFuZG9tTGlzdCkubWFwKGZ1bmN0aW9uIChlbGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHg6IGVsZW0sCiAgICAgICAgICAgICAgICAgICAgeTogIiIuY29uY2F0KF90aGlzNC5rbGluZVlSYW5kb21MaXN0W2luZGV4XSksCiAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWU6IHRpbWUgKyBlbGVtICogX3RoaXM0LmZvcm0uZ3JhbnVsYXJpdHkgKiA2MCAqIDEwMDAsCiAgICAgICAgICAgICAgICAgICAgb3BlbjogX3RoaXM0LmtsaW5lTW9ja1lEYXRhW2luZGV4XVswXSwKICAgICAgICAgICAgICAgICAgICBjbG9zZTogX3RoaXM0LmtsaW5lTW9ja1lEYXRhW2luZGV4XVsxXSwKICAgICAgICAgICAgICAgICAgICBoaWdoOiBfdGhpczQua2xpbmVNb2NrWURhdGFbaW5kZXhdWzJdLAogICAgICAgICAgICAgICAgICAgIGxvdzogX3RoaXM0LmtsaW5lTW9ja1lEYXRhW2luZGV4XVszXQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIC8vIOacgOWkp+i3jOW5hQogICAgICAgICAgICAgICAgZGVjbGluZTogX3RoaXM0LmZvcm0ucHJpY2VQZW5jZW50LAogICAgICAgICAgICAgICAgLy8g5pyA5aSn5rao5bmFCiAgICAgICAgICAgICAgICBpbmNyZWFzZTogX3RoaXM0LmZvcm0ucHJpY2VQZW5jZW50LAogICAgICAgICAgICAgICAgLy8g5o6n5Yi257KS5bqmCiAgICAgICAgICAgICAgICBncmFudWxhcml0eTogIiIsCiAgICAgICAgICAgICAgICAvLyDmjqfnm5jnrZbnlaUgMCDot5/pmo/lnosgMSDoh6rlrprkuYkgMiDnp5LmnYDlnosKICAgICAgICAgICAgICAgIG1vZGVsOiBfdGhpczQuZm9ybS5tb2RlbCwKICAgICAgICAgICAgICAgIC8vIOa1ruWKqOS7t+agvCAgbW9kZWzkuLogMCDml7bmnInmlYgKICAgICAgICAgICAgICAgIGNvblByaWNlOiBfdGhpczQuZm9ybS5jb25QcmljZSwKICAgICAgICAgICAgICAgIC8vIOa1ruWKqOavlOS+iwogICAgICAgICAgICAgICAgcHJpY2VQZW5jZW50OiBfdGhpczQuZm9ybS5wcmljZVBlbmNlbnQsCiAgICAgICAgICAgICAgICAvLyDkuqTmmJPlr7kKICAgICAgICAgICAgICAgIHN5bWJvbDogX3RoaXM0LmZvcm0uc3ltYm9sLAogICAgICAgICAgICAgICAgLy8g5byA5aeL5pe26Ze0CiAgICAgICAgICAgICAgICBiZWdpblRpbWU6IHRpbWUsCiAgICAgICAgICAgICAgICAvLyDnu5PmnZ/ml7bpl7QKICAgICAgICAgICAgICAgIGVuZFRpbWU6ICIiLAogICAgICAgICAgICAgICAgLy8g6LaL5Yq/5YiX6KGoCiAgICAgICAgICAgICAgICBib3RJbmZvTGlzdDogW3sKICAgICAgICAgICAgICAgICAgY2xvc2U6IDAsCiAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiB0aW1lLAogICAgICAgICAgICAgICAgICBoaWdoOiAwLAogICAgICAgICAgICAgICAgICBsb3c6IDAsCiAgICAgICAgICAgICAgICAgIG9wZW46IDAsCiAgICAgICAgICAgICAgICAgIHg6ICIwIiwKICAgICAgICAgICAgICAgICAgeTogIjAiCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgIC8vIOWbvuihqOWIu+W6puaVsOaNrgogICAgICAgICAgICAgICAgbGluZUNoYXJ0RGF0YTogIltdIgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKFsxLCAyXS5pbmNsdWRlcyhfdGhpczQuZm9ybS5tb2RlbCkpIHsKICAgICAgICAgICAgICAgIC8vIOacgOWkp+i3jOW5hQogICAgICAgICAgICAgICAgcGFyYW1zLmRlY2xpbmUgPSBfdGhpczQuZm9ybS5kZWNsaW5lOwogICAgICAgICAgICAgICAgLy8g5pyA5aSn5rao5bmFCiAgICAgICAgICAgICAgICBwYXJhbXMuaW5jcmVhc2UgPSBfdGhpczQuZm9ybS5pbmNyZWFzZTsKICAgICAgICAgICAgICAgIC8vIOaOp+WItueykuW6pgogICAgICAgICAgICAgICAgcGFyYW1zLmdyYW51bGFyaXR5ID0gX3RoaXM0LmZvcm0uZ3JhbnVsYXJpdHk7CiAgICAgICAgICAgICAgICAvLyDlvIDlp4vml7bpl7QKICAgICAgICAgICAgICAgIHBhcmFtcy5iZWdpblRpbWUgPSB0ZW1wQm90SW5mb0xpc3RbMF0uZGF0ZVRpbWU7CiAgICAgICAgICAgICAgICAvLyDnu5PmnZ/ml7bpl7QKICAgICAgICAgICAgICAgIHBhcmFtcy5lbmRUaW1lID0gdGVtcEJvdEluZm9MaXN0W3RlbXBCb3RJbmZvTGlzdC5sZW5ndGggLSAxXS5kYXRlVGltZTsKICAgICAgICAgICAgICAgIC8vIOi2i+WKv+WIl+ihqAogICAgICAgICAgICAgICAgcGFyYW1zLmJvdEluZm9MaXN0ID0gdGVtcEJvdEluZm9MaXN0OwogICAgICAgICAgICAgICAgLy8g5Zu+6KGo5Yi75bqm5pWw5o2uCiAgICAgICAgICAgICAgICBwYXJhbXMubGluZUNoYXJ0RGF0YSA9IEpTT04uc3RyaW5naWZ5KF90aGlzNC55UmFuZG9tTGlzdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7CiAgICAgICAgICAgICAgaWYgKCEoX3RoaXM0LmZvcm0uc3ltYm9sID09ICIiKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ0Vycm9yKCLkuqTmmJPlr7nkuI3og73kuLrnqboiKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGlmICghX3RoaXM0LmlkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIOS/ruaUuQogICAgICAgICAgICAgIHBhcmFtcy5pZCA9IF90aGlzNC5pZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiB1cGRhdGVEZXRhaWxBcGkocGFyYW1zKTsKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICAvLyDmjqfnm5jnrZbnlaUgMCDot5/pmo/lnosgMSDoh6rlrprkuYkgMiDnp5LmnYDlnosKICAgICAgICAgICAgICAgIGlmIChfdGhpczQuZm9ybS5tb2RlbCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5mb3JtLmNvblByaWNlID0gIiI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczQucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM0LiRtb2RhbC5tc2dFcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI3OwogICAgICAgICAgICAgIHJldHVybiBzYXZlVHJhZGVSb2JvdEFwaShwYXJhbXMpOwogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBpZiAoX3Jlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM0LiRtb2RhbC5tc2dTdWNjZXNzKF9yZXMubXNnKTsKICAgICAgICAgICAgICAgIC8vIOaOp+ebmOetlueVpSAwIOi3n+maj+WeiyAxIOiHquWumuS5iSAyIOenkuadgOWeiwogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5mb3JtLm1vZGVsID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmZvcm0uY29uUHJpY2UgPSAiIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5yZXNldCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ0Vycm9yKF9yZXMubXNnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDnm5HlkKznspLluqbmlLnlj5gNCiAgICAgKi8KICAgIG9uTW9kZWxDaGFuZ2U6IGZ1bmN0aW9uIG9uTW9kZWxDaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAvLyBjb25zb2xlLmxvZygi55uR5ZCs57KS5bqm5pS55Y+YIiwgdmFsKTsKICAgICAgaWYgKFsxLCAyXS5pbmNsdWRlcyh2YWwpKSB7CiAgICAgICAgdGhpcy5ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHlMaXN0WzBdLnZhbHVlOwogICAgICAgIHRoaXMuZm9ybS5ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHk7CiAgICAgICAgdGhpcy5wcmljZVBlbmNlbnQgPSA1OwogICAgICB9CiAgICAgIGlmICh2YWwgPT0gMikgewogICAgICAgIHRoaXMudG90YWxNaW51dGVzID0gNjA7CiAgICAgICAgdGhpcy54VGltZVNjYWxlTGlzdCA9IGdlbmVyYXRlVGltZUxpc3QodGhpcy5mb3JtLnRpbWUsIHRoaXMuZ3JhbnVsYXJpdHksIHRoaXMudG90YWxNaW51dGVzKTsKICAgICAgICB0aGlzLmRyYXdMaW5lKCk7CiAgICAgICAgdGhpcy5kcmF3S0xpbmUoKTsKICAgICAgICB0aGlzLktMaW5lUGVydmlldygpOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PSAxKSB7CiAgICAgICAgdGhpcy50b3RhbE1pbnV0ZXMgPSAxICogMjQgKiA2MDsKICAgICAgICB0aGlzLnhUaW1lU2NhbGVMaXN0ID0gZ2VuZXJhdGVUaW1lTGlzdCh0aGlzLmZvcm0udGltZSwgdGhpcy5ncmFudWxhcml0eSk7CiAgICAgICAgdGhpcy5kcmF3TGluZSgpOwogICAgICAgIHRoaXMuZHJhd0tMaW5lKCk7CiAgICAgICAgdGhpcy5LTGluZVBlcnZpZXcoKTsKICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMCkgewogICAgICAgIHRoaXMucmVzZXRGb3JtKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5mb3JtLm1vZGVsID0gdmFsOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqDQogICAgICog5YWF5YC86KGo5Y2VDQogICAgICovCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybShjYWxsYmFjaykgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgLy8g5Lqk5piT5a+5CiAgICAgICAgc3ltYm9sOiAiIiwKICAgICAgICAvLyDmqKHlvI8KICAgICAgICBtb2RlbDogMiwKICAgICAgICAvLyDmqKHmi5/ml7bpl7QKICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLAogICAgICAgIC8vIOacgOWkp+a2qOW5hQogICAgICAgIGluY3JlYXNlOiA1LAogICAgICAgIC8vIOacgOWkp+i3jOW5hQogICAgICAgIGRlY2xpbmU6IDUsCiAgICAgICAgLy8g5o6n5Yi257KS5bqmCiAgICAgICAgZ3JhbnVsYXJpdHk6IDE1LAogICAgICAgIC8vIOa1ruWKqOS7t+agvAogICAgICAgIGNvblByaWNlOiAwLAogICAgICAgIC8vIOS7t+agvOa1ruWKqOavlOS+iwogICAgICAgIHByaWNlUGVuY2VudDogNQogICAgICB9OwogICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpOwogICAgfSwKICAgIC8qKg0KICAgICAqIOmHjee9ruihqOWNlQ0KICAgICAqLwogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICBpZiAodGhpcy5saW5lQ2hhcnQpIHsKICAgICAgICB0aGlzLmxpbmVDaGFydC5kaXNwb3NlKCk7CiAgICAgICAgdGhpcy5saW5lQ2hhcnQgPSBudWxsOwogICAgICB9CiAgICAgIGlmICh0aGlzLktMaW5lQ2hhcnQpIHsKICAgICAgICB0aGlzLktMaW5lQ2hhcnQuZGlzcG9zZSgpOwogICAgICAgIHRoaXMuS0xpbmVDaGFydCA9IG51bGw7CiAgICAgIH0KICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgdGhpcy5pZCA9IG51bGw7CiAgICAgIHRoaXMudHlwZSA9IG51bGw7CiAgICAgIHRoaXMuZGV0YWlsID0gbnVsbDsKICAgICAgLy8g5oC75YiG6ZKf5pWwCiAgICAgIHRoaXMudG90YWxNaW51dGVzID0gMSAqIDI0ICogNjA7CiAgICAgIC8vIOWfuuehgOeykuW6pgogICAgICB0aGlzLmdyYW51bGFyaXR5ID0gMTU7CiAgICAgIC8vIFjovbTml7bpl7QKICAgICAgdGhpcy54VGltZVNjYWxlTGlzdCA9IFtdOwogICAgICAvLyBZ6L206K6h566X5q+U5L6LCiAgICAgIHRoaXMueVJhbmRvbUxpc3QgPSBbXTsKICAgICAgLy8gS+e6v+iuoeeul+absue6v+avlOS+iwogICAgICB0aGlzLmtsaW5lWVJhbmRvbUxpc3QgPSBbXTsKICAgICAgLy8gS+e6v+aooeaLn+aVsOaNrgogICAgICB0aGlzLmtsaW5lTW9ja1lEYXRhID0gW107CiAgICAgIHRoaXMub25Nb2RlbENoYW5nZSh0aGlzLmZvcm0ubW9kZWwpOwogICAgfSwKICAgIC8qKg0KICAgICAqIOmihOiniA0KICAgICAqLwogICAgS0xpbmVQZXJ2aWV3OiBmdW5jdGlvbiBLTGluZVBlcnZpZXcob3B0aW9uKSB7CiAgICAgIGlmICghb3B0aW9uKSB7CiAgICAgICAgb3B0aW9uID0gZ2V0TW9ja0tMaW5lT3B0aW9uKHRoaXMueFRpbWVTY2FsZUxpc3QsIHRoaXMua2xpbmVZUmFuZG9tTGlzdCwgdGhpcy5mb3JtLnByaWNlUGVuY2VudCk7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2cob3B0aW9uKTsKICAgICAgdGhpcy5rbGluZU1vY2tZRGF0YSA9IG9wdGlvbi5zZXJpZXNbMF0uZGF0YSB8fCBbXTsKICAgICAgdGhpcy5LTGluZUNoYXJ0ICYmIHRoaXMuS0xpbmVDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDnu5jliLYgS0xpbmVDaGFydA0KICAgICAqLwogICAgZHJhd0tMaW5lOiBmdW5jdGlvbiBkcmF3S0xpbmUoKSB7CiAgICAgIGlmICghdGhpcy5LTGluZUNoYXJ0ICYmIHRoaXMuJHJlZnMuS0xpbmVDaGFydFJlZikgewogICAgICAgIHRoaXMuS0xpbmVDaGFydCA9IGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLktMaW5lQ2hhcnRSZWYpOwogICAgICB9CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIGxlZnQ6IDMwLAogICAgICAgICAgcmlnaHQ6IDUwLAogICAgICAgICAgdG9wOiAxMCwKICAgICAgICAgIGJvdHRvbTogMzAKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAiY2F0ZWdvcnkiLAogICAgICAgICAgbmFtZTogIuaXtumXtCIsCiAgICAgICAgICBib3VuZGFyeUdhcDogZmFsc2UsCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgZm9udFNpemU6IDgsCiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKHBhcmFtcykgewogICAgICAgICAgICAgIHJldHVybiBUaW1lRm9ybWF0ZXIoTnVtYmVyKHBhcmFtcykpLmZvcm1hdCgiSEg6bW0iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IHRoaXMueFRpbWVTY2FsZUxpc3QKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICAvLyAgIG1pbjogMCAtIHRoaXMuZm9ybS5kZWNsaW5lLAogICAgICAgICAgLy8gICBtYXg6IHRoaXMuZm9ybS5pbmNyZWFzZSwKICAgICAgICAgIG5hbWU6ICLku7fmoLwiLAogICAgICAgICAgdHlwZTogInZhbHVlIiwKICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgIG9uWmVybzogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgZm9udFNpemU6IDgKICAgICAgICAgIH0sCiAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6IFsiI0NDQyJdLAogICAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICAgIHR5cGU6ICJkYXNoZWQiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIHR5cGU6ICJjYW5kbGVzdGljayIsCiAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjNGJiZDgzIiwKICAgICAgICAgICAgLy8g57u/6Imy77yI5rao77yJCiAgICAgICAgICAgIGNvbG9yMDogIiNkNjI1NDgiLAogICAgICAgICAgICAvLyDnuqLoibLvvIjot4zvvIkKICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICIjNGJiZDgzIiwKICAgICAgICAgICAgLy8g57u/6Imy77yI5rao77yJCiAgICAgICAgICAgIGJvcmRlckNvbG9yMDogIiNkNjI1NDgiLAogICAgICAgICAgICAvLyDnuqLoibLvvIjot4zvvIkKICAgICAgICAgICAgYm9yZGVyQ29sb3JEb2ppOiBudWxsLAogICAgICAgICAgICBib3JkZXJXaWR0aDogIjEiCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogW10KICAgICAgICB9XQogICAgICB9OwogICAgICB0aGlzLktMaW5lQ2hhcnQgJiYgdGhpcy5LTGluZUNoYXJ0LnNldE9wdGlvbihvcHRpb25zKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDnu5jliLYgbGluZUNoYXJ0DQogICAgICovCiAgICBkcmF3TGluZTogZnVuY3Rpb24gZHJhd0xpbmUoKSB7CiAgICAgIHZhciBfdGhpcyRkZXRhaWwsCiAgICAgICAgX3RoaXM2ID0gdGhpczsKICAgICAgaWYgKHRoaXMubGluZUNoYXJ0KSB7CiAgICAgICAgdGhpcy5saW5lQ2hhcnQuZGlzcG9zZSgpOwogICAgICAgIHRoaXMubGluZUNoYXJ0ID0gbnVsbDsKICAgICAgfQogICAgICBpZiAodGhpcy4kcmVmcy5saW5lQ2hhcnRSZWYpIHsKICAgICAgICB0aGlzLmxpbmVDaGFydCA9IGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLmxpbmVDaGFydFJlZik7CiAgICAgIH0KICAgICAgLy8g5qC55o2u5o6n5Yi257KS5bqm6K6h566XWOi9tOaXtumXtOWIu+W6pgogICAgICBpZiAoIXRoaXMudHlwZSB8fCAoKF90aGlzJGRldGFpbCA9IHRoaXMuZGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpcyRkZXRhaWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRldGFpbC5ncmFudWxhcml0eSkgIT0gdGhpcy5mb3JtLmdyYW51bGFyaXR5KSB7CiAgICAgICAgLy8g6I635Y+W5b2T5YmN57KS5bqmWOaVsOe7hAogICAgICAgIHZhciB4VGltZVNjYWxlTGlzdCA9IGRpc3RyaWJ1dGVNaW51dGVzKHRoaXMudG90YWxNaW51dGVzLCB0aGlzLmZvcm0uZ3JhbnVsYXJpdHkpOwogICAgICAgIC8vIOWIneWni+WMlum7mOiupFnmlbDnu4QKICAgICAgICB0aGlzLnlSYW5kb21MaXN0ID0geFRpbWVTY2FsZUxpc3QubWFwKGZ1bmN0aW9uIChlbGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIFt4VGltZVNjYWxlTGlzdFtpbmRleF0gLyBfdGhpczYuZ3JhbnVsYXJpdHksIDBdOwogICAgICAgIH0pOwogICAgICAgIC8vIOiOt+WPluaooeaLn0vnur/mlbDmja4KICAgICAgICB0aGlzLmtsaW5lWVJhbmRvbUxpc3QgPSBnZXRLTGluZVlSYW5kb21MaXN0KHRoaXMueFRpbWVTY2FsZUxpc3QsIHRoaXMueVJhbmRvbUxpc3QpLnNsaWNlKDAsIHRoaXMueFRpbWVTY2FsZUxpc3QubGVuZ3RoKTsKICAgICAgfQogICAgICAvLyDorqHnrpdvcHRpb25zCiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogIiNmZmYiLAogICAgICAgIGdyYXBoaWM6IG51bGwsCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICIiLAogICAgICAgICAgc3VidGV4dDogIiIsCiAgICAgICAgICB4OiAiY2VudGVyIgogICAgICAgIH0sCiAgICAgICAgaW50ZXJ2YWw6IDEsCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogMzAsCiAgICAgICAgICByaWdodDogNTAsCiAgICAgICAgICB0b3A6IDEwLAogICAgICAgICAgYm90dG9tOiAzMCwKICAgICAgICAgIGNvbnRhaW5MYWJlbDogZmFsc2UgLy9ncmlkIOWMuuWfn+aYr+WQpuWMheWQq+WdkOagh+i9tOeahOWIu+W6puagh+etvgogICAgICAgIH0sCgogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICJheGlzIiwKICAgICAgICAgIGF4aXNQb2ludGVyOiB7CiAgICAgICAgICAgIHR5cGU6ICJjcm9zcyIsCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIocGFyYW1zKSB7CiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmF4aXNEaW1lbnNpb24gPT0gIngiKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBUaW1lRm9ybWF0ZXIoTnVtYmVyKHBhcmFtcy52YWx1ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbSIpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuYXhpc0RpbWVuc2lvbiA9PSAieSIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90b0ZpeGVkKHBhcmFtcy52YWx1ZSwgNCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogIiMzQjkxRkYiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAiY2F0ZWdvcnkiLAogICAgICAgICAgbmFtZTogIuaXtumXtCIsCiAgICAgICAgICBib3VuZGFyeUdhcDogZmFsc2UsCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgZm9udFNpemU6IDgsCiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKHBhcmFtcykgewogICAgICAgICAgICAgIHJldHVybiBUaW1lRm9ybWF0ZXIoTnVtYmVyKHBhcmFtcykpLmZvcm1hdCgiSEg6bW0iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHNwbGl0TGluZTogewogICAgICAgICAgICAvL+e9keagvOe6vwogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogWyIjQ0NDIl0sCiAgICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgICAgdHlwZTogImRhc2hlZCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IHRoaXMueFRpbWVTY2FsZUxpc3QKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICBtaW46IDAgLSB0aGlzLmZvcm0uZGVjbGluZSwKICAgICAgICAgIG1heDogdGhpcy5mb3JtLmluY3JlYXNlLAogICAgICAgICAgbmFtZTogIuS7t+agvCIsCiAgICAgICAgICB0eXBlOiAidmFsdWUiLAogICAgICAgICAgLy8gICBheGlzTGluZTogeyBvblplcm86IGZhbHNlIH0sCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgZm9udFNpemU6IDgKICAgICAgICAgIH0sCiAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6IFsiI0NDQyJdLAogICAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICAgIHR5cGU6ICJkYXNoZWQiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIGRhdGE6IHRoaXMueVJhbmRvbUxpc3QsCiAgICAgICAgICB0eXBlOiAibGluZSIsCiAgICAgICAgICBzbW9vdGg6IHRydWUsCiAgICAgICAgICBzeW1ib2w6ICJjaXJjbGUiLAogICAgICAgICAgc2hvd1N5bWJvbDogdHJ1ZSwKICAgICAgICAgIHN5bWJvbFNpemU6IDEyLAogICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAiIzNCOTFGRiIKICAgICAgICAgIH0sCiAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjM0I5MUZGIgogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMubGluZUNoYXJ0ICYmIHRoaXMubGluZUNoYXJ0LnNldE9wdGlvbihvcHRpb25zKTsKICAgICAgaWYgKCF0aGlzLmlzUHJpdmlldykgewogICAgICAgIHRoaXMuc2V0TGluZU9wdGlvbigpOwogICAgICB9CiAgICB9LAogICAgLyoqDQogICAgICog6K6+572u5ouW5ou9DQogICAgICovCiAgICBzZXRMaW5lT3B0aW9uOiBmdW5jdGlvbiBzZXRMaW5lT3B0aW9uKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgdGhpcy5saW5lQ2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICBncmFwaGljOiBlY2hhcnRzLnV0aWwubWFwKHRoaXMueVJhbmRvbUxpc3QsIGZ1bmN0aW9uIChkYXRhSXRlbSwgZGF0YUluZGV4KSB7CiAgICAgICAgICB2YXIgdGhhdCA9IF90aGlzNzsgLy8g5Zug5Li6b25kcmFn5Ye95pWw5b+F6aG75Zyo5Zue6LCD5YaF5L2/55SodGhpcy5wb3NpdGlvbuiOt+WPluWunuaXtuWdkOagh++8jOatpOWkhOW/hemhu+eUqHRoYXTmm7/mjaJ0aGlzCiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAiY2lyY2xlIiwKICAgICAgICAgICAgc2hhcGU6IHsKICAgICAgICAgICAgICAvLyDlnIbngrnnmoTljYrlvoTjgIIKICAgICAgICAgICAgICByOiAxMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGZpbGw6ICIjM0I5MUZGIiAvLyDorr7nva7lnIbngrnnmoTloavlhYXoibLvvIzov5nph4zorr7nva7kuLrnuqLoibIKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHBvc2l0aW9uOiBfdGhpczcubGluZUNoYXJ0LmNvbnZlcnRUb1BpeGVsKCJncmlkIiwgZGF0YUl0ZW0pLAogICAgICAgICAgICBpbnZpc2libGU6IHRydWUsCiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgejogMTAwLAogICAgICAgICAgICBvbmRyYWc6IGVjaGFydHMudXRpbC5jdXJyeShmdW5jdGlvbiAoZGF0YUluZGV4KSB7CiAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHRoYXQubGluZUNoYXJ0LmNvbnZlcnRUb1BpeGVsKCJncmlkIiwgdGhhdC55UmFuZG9tTGlzdFtkYXRhSW5kZXhdKTsKICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uWzBdID0gb3JpZ2luWzBdOyAvLyDmjqfliLbmr4/kuKrngrnkvY3lj6rog73lnKh56L205pa55ZCR56e75YqoCiAgICAgICAgICAgICAgLy8gdGhpcy5wb3NpdGlvblsxXSA9IG9yaWdpblsxXSAvLyDmjqfliLbmr4/kuKrngrnkvY3lj6rog73lnKh46L205pa55ZCR56e75YqoCiAgICAgICAgICAgICAgLy8g5a6e5pe26I635Y+W5ouW5Yqo55qE54K55L2N5L+h5oGv5bm25qC55o2u5q2k5L+h5oGv6YeN5paw55S75Zu+CiAgICAgICAgICAgICAgdmFyIHRlbXBEYXRhID0gdGhhdC5saW5lQ2hhcnQuY29udmVydEZyb21QaXhlbCgiZ3JpZCIsIHRoaXMucG9zaXRpb24pOwogICAgICAgICAgICAgIGlmICh0ZW1wRGF0YVsxXSA+IHRoYXQuZm9ybS5pbmNyZWFzZSkgewogICAgICAgICAgICAgICAgdGVtcERhdGFbMV0gPSB0aGF0LmZvcm0uaW5jcmVhc2U7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZW1wRGF0YVsxXSA8IDAgLSB0aGF0LmZvcm0uZGVjbGluZSkgewogICAgICAgICAgICAgICAgdGVtcERhdGFbMV0gPSAwIC0gdGhhdC5mb3JtLmRlY2xpbmU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoYXQueVJhbmRvbUxpc3RbZGF0YUluZGV4XSA9IHRlbXBEYXRhOwogICAgICAgICAgICAgIHRoYXQubGluZUNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICAgICAgICAgIGRhdGE6IHRoYXQueVJhbmRvbUxpc3QKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIGRhdGFJbmRleCksCiAgICAgICAgICAgIG9uZHJhZ2VuZDogZnVuY3Rpb24gb25kcmFnZW5kKCkgewogICAgICAgICAgICAgIHRoYXQua2xpbmVZUmFuZG9tTGlzdCA9IGdldEtMaW5lWVJhbmRvbUxpc3QodGhhdC54VGltZVNjYWxlTGlzdCwgdGhhdC55UmFuZG9tTGlzdCkuc2xpY2UoMCwgdGhhdC54VGltZVNjYWxlTGlzdC5sZW5ndGgpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQodGhhdC5LTGluZVBlcnZpZXcsIDMwMCk7CiAgICAgICAgICAgICAgLy8g5ouW5ou957uT5p2f5pe277yM5YaN5qyh5qOA5p+l5L2N572u5piv5ZCm6LaF5Ye66IyD5Zu077yM5aaC5p6c6LaF5Ye65YiZ6YeN572u5Li65ZCI5rOV5L2N572uCiAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHRoYXQubGluZUNoYXJ0LmNvbnZlcnRUb1BpeGVsKCJncmlkIiwgdGhhdC55UmFuZG9tTGlzdFtkYXRhSW5kZXhdKTsKICAgICAgICAgICAgICB2YXIgdGVtcERhdGEgPSB0aGF0LmxpbmVDaGFydC5jb252ZXJ0RnJvbVBpeGVsKCJncmlkIiwgdGhpcy5wb3NpdGlvbik7CiAgICAgICAgICAgICAgaWYgKHRlbXBEYXRhWzFdID4gdGhhdC5mb3JtLmluY3JlYXNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uWzFdID0gb3JpZ2luWzFdOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVtcERhdGFbMV0gPCAwIC0gdGhhdC5mb3JtLmRlY2xpbmUpIHsKICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25bMV0gPSBvcmlnaW5bMV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOebkeWQrOWkp+Wwjw0KICAgICAqLwogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIHRoaXMubGluZUNoYXJ0ICYmIHRoaXMubGluZUNoYXJ0LnJlc2l6ZSgpOwogICAgICB0aGlzLktMaW5lQ2hhcnQgJiYgdGhpcy5LTGluZUNoYXJ0LnJlc2l6ZSgpOwogICAgfSwKICAgIGdldFN5bWJvbExpc3Q6IGZ1bmN0aW9uIGdldFN5bWJvbExpc3QoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldFN5bWJvbExpc3RBcGkoewogICAgICAgICAgICAgICAgcGFnZU51bTogMSwKICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczguc3ltYm9sTGlzdCA9IHJlcy5yb3dzOwogICAgICAgICAgICAgICAgX3RoaXM4LmZvcm0uc3ltYm9sID0gX3RoaXM4LnN5bWJvbExpc3RbMF0uc3ltYm9sOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},null]}