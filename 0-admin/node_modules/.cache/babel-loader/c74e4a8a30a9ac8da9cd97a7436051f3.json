{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\src\\plugins\\socket\\noticeWebSocket.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\src\\plugins\\socket\\noticeWebSocket.js","mtime":1715769511000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\babel.config.js","mtime":1698845798000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvXHU0RUE0XHU2NjEzXHU2MjQwOS4yNy8wLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL1x1NEVBNFx1NjYxM1x1NjI0MDkuMjcvMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIpKTsKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9cdTRFQTRcdTY2MTNcdTYyNDA5LjI3LzAtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiKSk7CnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvXHU0RUE0XHU2NjEzXHU2MjQwOS4yNy8wLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIikpOwp2YXIgX3N0b3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3N0b3JlIikpOwp2YXIgX2luZGV4ID0gcmVxdWlyZSgiQC9wbHVnaW5zL2F1ZGlvL2luZGV4LmpzIik7CnZhciBOb3RpY2VXZWJTb2NrZXQgPSBleHBvcnRzLmRlZmF1bHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE5vdGljZVdlYlNvY2tldCh1c2VySWQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBOb3RpY2VXZWJTb2NrZXQpOwogICAgLyoqCiAgICAgKiDlv4Pot7Plrprml7blmagKICAgICAqLwogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImhlYXJ0YmVhdFRpbWVyIiwgbnVsbCk7CiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAidXJsIiwgIiIpOwogICAgLyoqCiAgICAgKiDnlKjmiLdpZAogICAgICovCiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAidXNlcklkIiwgIiIpOwogICAgLyoqCiAgICAgKiDnrYnlvoXlj5HpgIHliJfooagKICAgICAqLwogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgIndhaXRTZW5kTGlzdCIsIFtdKTsKICAgIC8qKgogICAgICogc29ja2V0IOWunuS+iwogICAgICovCiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAid3MiLCBudWxsKTsKICAgIC8vIOW3sui/nuaOpQogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgIldTX1JFQURZX1NUQVRFX09QRU4iLCAxKTsKICAgIC8qKgogICAgICog5Y+R6YCBCiAgICAgKi8KICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJzZW5kIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgICB9CiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGRhdGEgPSAiIjsKICAgICAgfQogICAgICBpZiAoZGF0YSkgewogICAgICAgIHZhciBfdGhpcyR3czsKICAgICAgICB2YXIgaXNXc1JlYWR5ID0gKChfdGhpcyR3cyA9IF90aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3MucmVhZHlTdGF0ZSkgPT09IF90aGlzLldTX1JFQURZX1NUQVRFX09QRU47CiAgICAgICAgaWYgKGlzV3NSZWFkeSkgewogICAgICAgICAgX3RoaXMud3Muc2VuZChkYXRhKTsKICAgICAgICAgIF90aGlzLndhaXRTZW5kTGlzdCA9IF90aGlzLndhaXRTZW5kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGVsZW0gIT0gZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIV90aGlzLndhaXRTZW5kTGlzdC5pbmNsdWRlcyhkYXRhKSkgewogICAgICAgICAgICBfdGhpcy53YWl0U2VuZExpc3QucHVzaChkYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImhlYXJ0YmVhdCIsIHZvaWQgMCk7CiAgICAvKioKICAgICAqIOW3sui/nuaOpQogICAgICovCiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAib25PcGVuIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZW5kKHsKICAgICAgICBtZXNzYWdlOiAicGluZyIKICAgICAgfSk7CiAgICAgIF90aGlzLndhaXRTZW5kTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgX3RoaXMuc2VuZCh0ZXh0KTsKICAgICAgfSk7CiAgICB9KTsKICAgIC8qKgogICAgICog5b+D6LezCiAgICAgKi8KICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJoZWFydGJlYXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmhlYXJ0YmVhdFRpbWVyICYmIGNsZWFyVGltZW91dChfdGhpcy5oZWFydGJlYXRUaW1lcik7CiAgICAgIF90aGlzLmhlYXJ0YmVhdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2VuZCh7CiAgICAgICAgICBtZXNzYWdlOiAicGluZyIKICAgICAgICB9KTsKICAgICAgfSwgMyAqIDEwMDApOwogICAgfSk7CiAgICAvKioKICAgICAqIOWTjeW6lOaVsOaNrgogICAgICovCiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAib25NZXNzYWdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YSk7CiAgICAgIGlmIChkYXRhLm1lc3NhZ2UgPT0gInBpbmciKSB7CiAgICAgICAgLy8g5b+D6LezCiAgICAgICAgX3RoaXMuaGVhcnRiZWF0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coInN1YnNjcmliZU5vdGljZSIsIGRhdGEpOwogICAgICAgIGlmICgoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnZlcmlmaWVkKSA+PSAwKSB7CiAgICAgICAgICBfc3RvcmUuZGVmYXVsdC5jb21taXQoIlNFVF9WRVJJRklFRE5VTSIsIGRhdGEudmVyaWZpZWQpOwogICAgICAgICAgLy8g6K6k6K+B6YCa55+lCiAgICAgICAgICAvLyBpZiAoZGF0YS52ZXJpZmllZCAhPSBzdG9yZS5nZXR0ZXJzLndpdGhkcmF3TnVtKSB7CiAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgJiYgZGF0YS52ZXJpZmllZCkgewogICAgICAgICAgICB2YXIgc3JjID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm5vdGljZTMiKTsKICAgICAgICAgICAgc3JjICYmIF9pbmRleC5fcGxheUF1ZGlvLnBsYXkoewogICAgICAgICAgICAgIHNyYzogc3JjCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIH0KICAgICAgICB9CgogICAgICAgIGlmICgoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnJlY2hhcmdlKSA+PSAwKSB7CiAgICAgICAgICBfc3RvcmUuZGVmYXVsdC5jb21taXQoIlNFVF9SRUNIQVJHRU5VTSIsIGRhdGEucmVjaGFyZ2UpOwogICAgICAgICAgLy8g5YWF5YC86YCa55+lCgogICAgICAgICAgLy8gaWYgKGRhdGEucmVjaGFyZ2UgIT0gc3RvcmUuZ2V0dGVycy53aXRoZHJhd051bSkgewogICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwICYmIGRhdGEucmVjaGFyZ2UpIHsKICAgICAgICAgICAgdmFyIF9zcmMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibm90aWNlMSIpOwogICAgICAgICAgICBfc3JjICYmIF9pbmRleC5fcGxheUF1ZGlvLnBsYXkoewogICAgICAgICAgICAgIHNyYzogX3NyYwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgJiYgZGF0YS53aXRoZHJhdykgewogICAgICAgICAgX3N0b3JlLmRlZmF1bHQuY29tbWl0KCJTRVRfV0lUSERSQVdOVU0iLCBkYXRhLndpdGhkcmF3KTsKICAgICAgICAgIC8vIOaPkOeOsOmAmuefpQogICAgICAgICAgLy8gaWYgKGRhdGEud2l0aGRyYXcgIT0gc3RvcmUuZ2V0dGVycy53aXRoZHJhd051bSkgewogICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwICYmIGRhdGEud2l0aGRyYXcpIHsKICAgICAgICAgICAgdmFyIF9zcmMyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm5vdGljZTIiKTsKICAgICAgICAgICAgX3NyYzIgJiYgX2luZGV4Ll9wbGF5QXVkaW8ucGxheSh7CiAgICAgICAgICAgICAgc3JjOiBfc3JjMgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIC8qKgogICAgICog5YWz6ZetCiAgICAgKi8KICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJjbG9zZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHdzMjsKICAgICAgX3RoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJUaW1lb3V0KF90aGlzLmhlYXJ0YmVhdFRpbWVyKTsKICAgICAgKF90aGlzJHdzMiA9IF90aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3czIgPT09IHZvaWQgMCB8fCBfdGhpcyR3czIuY2xvc2UoKTsKICAgIH0pOwogICAgLyoqCiAgICAgKiDov57mjqXlvILluLgKICAgICAqLwogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgIm9uRXJyb3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmhlYXJ0YmVhdFRpbWVyICYmIGNsZWFyVGltZW91dChfdGhpcy5oZWFydGJlYXRUaW1lcik7CiAgICAgIF90aGlzLnJlY29ubmVjdCgpOwogICAgfSk7CiAgICAvKioKICAgICAqIOi/nuaOpeWFs+mXrQogICAgICovCiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAib25DbG9zZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJUaW1lb3V0KF90aGlzLmhlYXJ0YmVhdFRpbWVyKTsKICAgIH0pOwogICAgLyoqCiAgICAgKiDph43mlrDov57mjqUKICAgICAqLwogICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInJlY29ubmVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dChfdGhpcy5pbml0LmFwcGx5KF90aGlzKSwgMSAqIDEwMDApOwogICAgfSk7CiAgICB2YXIgYmFzZVVybCA9ICJ3c3M6Ly9hZG1pbmFwaS5wcm9iaXR1cy52aXAiOwogICAgLy8gfHwgX19jb25maWcuX0JBU0VfV1NTOwogICAgdGhpcy51c2VySWQgPSB1c2VySWQ7CiAgICB0aGlzLnVybCA9IGJhc2VVcmwgKyAiL3dlYlNvY2tldC9ub3RpY2UvIi5jb25jYXQodGhpcy51c2VySWQsICIvIikuY29uY2F0KCtuZXcgRGF0ZSgpKTsKICAgIHRoaXMuaW5pdCgpOwogIH0KICAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShOb3RpY2VXZWJTb2NrZXQsIFt7CiAgICBrZXk6ICJpbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkgewogICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh0aGlzLnVybCk7CiAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbk9wZW47CiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2U7CiAgICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMub25DbG9zZTsKICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbkVycm9yOwogICAgfQogIH1dKTsKICByZXR1cm4gTm90aWNlV2ViU29ja2V0Owp9KCk7"},{"version":3,"names":["_store","_interopRequireDefault","require","_index","NoticeWebSocket","exports","default","userId","_this","_classCallCheck2","_defineProperty2","data","JSON","parse","stringify","error","_this$ws","isWsReady","ws","readyState","WS_READY_STATE_OPEN","send","waitSendList","filter","elem","includes","push","message","forEach","text","heartbeatTimer","clearTimeout","setTimeout","e","heartbeat","console","log","verified","store","commit","src","localStorage","getItem","_playAudio","play","recharge","withdraw","_this$ws2","close","reconnect","init","apply","baseUrl","url","concat","Date","_createClass2","key","value","WebSocket","onopen","onOpen","onmessage","onMessage","onclose","onClose","onerror","onError"],"sources":["C:/Users/Administrator/Desktop/交易所9.27/0-admin/src/plugins/socket/noticeWebSocket.js"],"sourcesContent":["import store from \"@/store\";\nimport { _playAudio } from \"@/plugins/audio/index.js\";\n\nexport default class NoticeWebSocket {\n  /**\n   * 心跳定时器\n   */\n  heartbeatTimer = null;\n\n  url = \"\";\n  /**\n   * 用户id\n   */\n  userId = \"\";\n  /**\n   * 等待发送列表\n   */\n  waitSendList = [];\n  /**\n   * socket 实例\n   */\n  ws = null;\n  // 已连接\n  WS_READY_STATE_OPEN = 1;\n  constructor(userId) {\n    let baseUrl = \"wss://adminapi.probitus.vip\"\n      // || __config._BASE_WSS;\n    this.userId = userId;\n    this.url = baseUrl + `/webSocket/notice/${this.userId}/${+new Date()}`;\n    this.init();\n  }\n\n  init() {\n    this.ws = new WebSocket(this.url);\n    this.ws.onopen = this.onOpen;\n    this.ws.onmessage = this.onMessage;\n    this.ws.onclose = this.onClose;\n    this.ws.onerror = this.onError;\n  }\n\n  /**\n   * 发送\n   */\n  send = (data) => {\n    try {\n      if (typeof data === \"string\") {\n        data = JSON.parse(data);\n      }\n      data = JSON.stringify(data);\n    } catch (error) {\n      data = \"\";\n    }\n    if (data) {\n      const isWsReady = this.ws?.readyState === this.WS_READY_STATE_OPEN;\n\n      if (isWsReady) {\n        this.ws.send(data);\n        this.waitSendList = this.waitSendList.filter((elem) => elem != data);\n      } else {\n        if (!this.waitSendList.includes(data)) {\n          this.waitSendList.push(data);\n        }\n      }\n    }\n  };\n  heartbeat;\n  /**\n   * 已连接\n   */\n  onOpen = () => {\n    this.send({ message: \"ping\" });\n    this.waitSendList.forEach((text) => {\n      this.send(text);\n    });\n  };\n  /**\n   * 心跳\n   */\n  heartbeat = () => {\n    this.heartbeatTimer && clearTimeout(this.heartbeatTimer);\n    this.heartbeatTimer = setTimeout(() => {\n      this.send({ message: \"ping\" });\n    }, 3 * 1000);\n  };\n  /**\n   * 响应数据\n   */\n  onMessage = (e) => {\n    let data = JSON.parse(e.data);\n    if (data.message == \"ping\") {\n      // 心跳\n      this.heartbeat();\n    } else {\n      console.log(\"subscribeNotice\", data);\n\n      if (data?.verified >= 0) {\n        store.commit(\"SET_VERIFIEDNUM\", data.verified);\n        // 认证通知\n        // if (data.verified != store.getters.withdrawNum) {\n        if (data?.verified) {\n          let src = localStorage.getItem(\"notice3\");\n          src &&\n            _playAudio.play({\n              src,\n            });\n        }\n\n        // }\n      }\n      if (data?.recharge >= 0) {\n        store.commit(\"SET_RECHARGENUM\", data.recharge);\n        // 充值通知\n\n        // if (data.recharge != store.getters.withdrawNum) {\n        if (data?.recharge) {\n          let src = localStorage.getItem(\"notice1\");\n          src &&\n            _playAudio.play({\n              src,\n            });\n        }\n\n        // }\n      }\n      if (data?.withdraw) {\n        store.commit(\"SET_WITHDRAWNUM\", data.withdraw);\n        // 提现通知\n        // if (data.withdraw != store.getters.withdrawNum) {\n        if (data?.withdraw) {\n          let src = localStorage.getItem(\"notice2\");\n          src &&\n            _playAudio.play({\n              src,\n            });\n        }\n\n        // }\n      }\n    }\n  };\n\n  /**\n   * 关闭\n   */\n  close = () => {\n    this.heartbeatTimer && clearTimeout(this.heartbeatTimer);\n    this.ws?.close();\n  };\n\n  /**\n   * 连接异常\n   */\n  onError = () => {\n    this.heartbeatTimer && clearTimeout(this.heartbeatTimer);\n    this.reconnect();\n  };\n\n  /**\n   * 连接关闭\n   */\n  onClose = () => {\n    this.heartbeatTimer && clearTimeout(this.heartbeatTimer);\n  };\n\n  /**\n   * 重新连接\n   */\n  reconnect = () => {\n    setTimeout(this.init.apply(this), 1 * 1000);\n  };\n}\n"],"mappings":"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"}]}