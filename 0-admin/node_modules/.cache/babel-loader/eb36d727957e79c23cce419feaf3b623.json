{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\src\\plugins\\audio\\playAudio.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\src\\plugins\\audio\\playAudio.js","mtime":1698845798000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\babel.config.js","mtime":1698845798000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\Administrator\\Desktop\\交易所9.27\\0-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvXHU0RUE0XHU2NjEzXHU2MjQwOS4yNy8wLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9cdTRFQTRcdTY2MTNcdTYyNDA5LjI3LzAtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIikpOwp2YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL1x1NEVBNFx1NjYxM1x1NjI0MDkuMjcvMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIpKTsKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9cdTRFQTRcdTY2MTNcdTYyNDA5LjI3LzAtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiKSk7CnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvXHU0RUE0XHU2NjEzXHU2MjQwOS4yNy8wLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIikpOwp2YXIgX2luZGV4ID0gcmVxdWlyZSgiQC91dGlscy9pbmRleCIpOwp2YXIgUGxheUF1ZGlvID0gZXhwb3J0cy5kZWZhdWx0ID0gLyojX19QVVJFX18qLygwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKAovKioNCiAqIOWIneWni+WMlg0KICovCmZ1bmN0aW9uIFBsYXlBdWRpbyhfcGFyYW1zKSB7CiAgdmFyIF90aGlzID0gdGhpczsKICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBQbGF5QXVkaW8pOwogIC8qKg0KICAgKiDpn7PpopHlrp7kvosNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImF1ZGlvIiwgbnVsbCk7CiAgLyoqDQogICAqIOW9k+WJjeaSreaUvuWunuS+iw0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiY3VycmVudFBsYXlBdWRpbyIsIG51bGwpOwogIC8qKg0KICAgKiDmmK/lkKblnKjmkq3mlL7kuK0NCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImlzUGxheSIsIGZhbHNlKTsKICAvKioNCiAgICog5pKt5pS+5YiX6KGoDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJwbGF5TGlzdCIsIFtdKTsKICAvKioNCiAgICog5pKt5pS+5o6I5p2DDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJwbGF5UGVybWlzc2lvbiIsIGZ1bmN0aW9uICgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgX3RoaXMucGxheVBlcm1pc3Npb24pOwogICAgLy8g5pKt5pS+6Z+z6aKRCiAgICBfdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCJwbGF5UGVybWlzc2lvbiIsIGVycm9yKTsKICAgICAgLy8g5LiN5pSv5oyB6Ieq5Yqo5pKt5pS+CiAgICAgIF90aGlzLmdldFVzZXJNZWRpYVBlcm1pc3Npb24oKTsKICAgIH0pOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmF1ZGlvLnBhdXNlKCk7CiAgICAgIGNvbnNvbGUuaW5mbygi6I635Y+W5a6M5oiQIiwgX3RoaXMucGxheUxpc3QubGVuZ3RoKTsKICAgICAgaWYgKF90aGlzLnBsYXlMaXN0Lmxlbmd0aCkgewogICAgICAgIC8vIOiOt+WPluaOiOadg+WujOaIkO+8jOWtmOWcqOW4puaSreaUvuWIl+ihqCDnq4vljbPmkq3mlL4KICAgICAgICBfdGhpcy5jdXJyZW50UGxheUF1ZGlvID0gX3RoaXMucGxheUxpc3RbMF07CiAgICAgICAgX3RoaXMucGxheShfdGhpcy5jdXJyZW50UGxheUF1ZGlvLCB0cnVlKTsKICAgICAgfQogICAgfSwgMTAwKTsKICB9KTsKICAvKioNCiAgICog6I635Y+W5aqS5L2T6K6+5aSH5p2D6ZmQDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJnZXRVc2VyTWVkaWFQZXJtaXNzaW9uIiwgZnVuY3Rpb24gKCkgewogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoewogICAgICBhdWRpbzogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoIuiOt+WPluWqkuS9k+iuvuWkh+adg+mZkO+8miIsIHN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8g55So5oi35ouS57ud5oiW5rWP6KeI5Zmo5LiN5pSv5oyB77yM5oKo5Y+v5Lul5Zyo6L+Z6YeM5aSE55CG6ZSZ6K+vCiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoIueUqOaIt+aLkue7neaIlua1j+iniOWZqOS4jeaUr+aMge+8miIsIGVycm9yKTsKICAgIH0pOwogIH0pOwogIC8qKg0KICAgKiDmkq3mlL4NCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInBsYXkiLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7CiAgICAgIHNyYzogIiIsCiAgICAgIGNvdW50OiAxLAogICAgICBmb3JjZTogZmFsc2UsCiAgICAgIGxvb3A6IGZhbHNlLAogICAgICBjdXJyZW50VGltZTogMCwKICAgICAgdm9sdW1lOiAwLjUKICAgIH07CiAgICB2YXIgcGxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICBpZiAoISgwLCBfaW5kZXguZ2V0SXNOb3RpY2UpKCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc29sZS5sb2coIumfs+mikeaSreaUviIsIHBsYXkpOwogICAgaWYgKHBsYXkpIHsKICAgICAgaWYgKF90aGlzLmF1ZGlvLnNyYyAhPSBwYXJhbXMuc3JjKSB7CiAgICAgICAgX3RoaXMuYXVkaW8uc3JjID0gcGFyYW1zLnNyYzsKICAgICAgfQogICAgICBfdGhpcy5hdWRpby5sb29wID0gcGFyYW1zLmxvb3AgfHwgZmFsc2U7CiAgICAgIF90aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gcGFyYW1zLmN1cnJlbnRUaW1lIHx8IDA7CiAgICAgIF90aGlzLmF1ZGlvLnZvbHVtZSA9IHBhcmFtcy52b2x1bWUgfHwgMC41OwogICAgICBfdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coInBsYXkiLCBlcnJvcik7CiAgICAgICAgX3RoaXMuZ2V0VXNlck1lZGlhUGVybWlzc2lvbigpOwogICAgICB9KTsKICAgICAgX3RoaXMuaXNQbGF5ID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcmFtcy5jb3VudCA9IHBhcmFtcy5jb3VudCB8fCAxOwogICAgICBwYXJhbXMuZm9yY2UgPSBwYXJhbXMuZm9yY2UgfHwgZmFsc2U7CiAgICAgIGlmIChwYXJhbXMuc3JjKSB7CiAgICAgICAgaWYgKHBhcmFtcy5mb3JjZSkgewogICAgICAgICAgLy8g5by65Yi25pKt5pS+CiAgICAgICAgICBfdGhpcy5yZXNldEF1ZGlvKCk7CiAgICAgICAgfQogICAgICAgIF90aGlzLnBsYXlMaXN0LnB1c2gocGFyYW1zKTsKICAgICAgICBpZiAoIV90aGlzLmlzUGxheSkgewogICAgICAgICAgLy8g5pyq5Zyo5pKt5pS+5pe256uL5Y2z5pKt5pS+CiAgICAgICAgICBfdGhpcy5jdXJyZW50UGxheUF1ZGlvID0gX3RoaXMucGxheUxpc3RbMF07CiAgICAgICAgICBfdGhpcy5wbGF5KF90aGlzLmN1cnJlbnRQbGF5QXVkaW8sIHRydWUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwogIC8qKg0KICAgKiDmkq3mlL7kuIvkuIDkuKoo5YyF5ZCr5qyh5pWwKQ0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAibmV4dCIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgIGlmIChfdGhpcy5wbGF5TGlzdC5sZW5ndGgpIHsKICAgICAgX3RoaXMuYXVkaW8ucGF1c2UoKTsKICAgICAgX3RoaXMuYXVkaW9FbmRlZChmbGFnKTsKICAgIH0KICB9KTsKICAvKioNCiAgICog6YeN572u5pKt5pS+5ZmoDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJyZXNldEF1ZGlvIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuY3VycmVudFBsYXlBdWRpbyA9IG51bGw7CiAgICBfdGhpcy5pc1BsYXkgPSBmYWxzZTsKICAgIF90aGlzLnBsYXlMaXN0Lmxlbmd0aCA9IDA7CiAgICBfdGhpcy5hdWRpby5wYXVzZSgpOwogICAgX3RoaXMuYXVkaW8uY3VycmVudFRpbWUgPSAwOwogICAgX3RoaXMuYXVkaW8uc3JjID0gIiI7CiAgICBfdGhpcy5hdWRpby5sb29wID0gZmFsc2U7CiAgICBfdGhpcy5hdWRpby5zcmMgPSAwOwogICAgX3RoaXMuYXVkaW8udm9sdW1lID0gMDsKICB9KTsKICAvKioNCiAgICog6Z+z6aKR5Yqg6L295a6M5oiQDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJhdWRpb0xvYWRlZG1ldGFkYXRhIiwgZnVuY3Rpb24gKCkgewogICAgLy8gY29uc29sZS5sb2coIumfs+mikeWKoOi9veWujOaIkCIpOwogIH0pOwogIC8qKg0KICAgKiDpn7PpopHliqDovb3lpLHotKUNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImF1ZGlvRXJyb3IiLCBmdW5jdGlvbiAoKSB7CiAgICAvLyBjb25zb2xlLmxvZygi6Z+z6aKR5Yqg6L295aSx6LSlIik7CiAgICBfdGhpcy5hdWRpb0VuZGVkKCk7CiAgfSk7CiAgLyoqDQogICAqIOmfs+mikeaSreaUvuS4rQ0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiYXVkaW9QbGF5IiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuaXNQbGF5ID0gdHJ1ZTsKICAgIC8vIGNvbnNvbGUubG9nKCLpn7PpopHmkq3mlL7kuK0iKTsKICB9KTsKICAvKioNCiAgICog6Z+z6aKR5pqC5YGcDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJhdWRpb1BhdXNlIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuaXNQbGF5ID0gZmFsc2U7CiAgICAvLyBjb25zb2xlLmxvZygi6Z+z6aKR5pqC5YGcIik7CiAgfSk7CiAgLyoqDQogICAqIOmfs+mikeaSreaUvue7k+adnw0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiYXVkaW9FbmRlZCIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpcyRjdXJyZW50UGxheUF1ZGk7CiAgICB2YXIgZmxhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAvLyBjb25zb2xlLmxvZygi6Z+z6aKR5pKt5pS+57uT5p2fIik7CiAgICBpZiAoKDAsIF90eXBlb2YyLmRlZmF1bHQpKGZsYWcpID09ICJvYmplY3QiKSB7CiAgICAgIGZsYWcgPSBmYWxzZTsKICAgIH0KICAgIF90aGlzLmlzUGxheSA9IGZhbHNlOwogICAgaWYgKCgoX3RoaXMkY3VycmVudFBsYXlBdWRpID0gX3RoaXMuY3VycmVudFBsYXlBdWRpbykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudFBsYXlBdWRpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50UGxheUF1ZGkuY291bnQpID4gMCAmJiAhX3RoaXMuY3VycmVudFBsYXlBdWRpby5sb29wKSB7CiAgICAgIF90aGlzLmN1cnJlbnRQbGF5QXVkaW8uY291bnQtLTsKICAgIH0KICAgIGlmIChfdGhpcy5wbGF5TGlzdC5sZW5ndGgpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRQbGF5QXVkaTI7CiAgICAgIGlmICghKChfdGhpcyRjdXJyZW50UGxheUF1ZGkyID0gX3RoaXMuY3VycmVudFBsYXlBdWRpbykgIT09IG51bGwgJiYgX3RoaXMkY3VycmVudFBsYXlBdWRpMiAhPT0gdm9pZCAwICYmIF90aGlzJGN1cnJlbnRQbGF5QXVkaTIuY291bnQpIHx8IGZsYWcpIHsKICAgICAgICBfdGhpcy5wbGF5TGlzdC5zaGlmdCgpOwogICAgICB9CiAgICAgIF90aGlzLmN1cnJlbnRQbGF5QXVkaW8gPSBfdGhpcy5wbGF5TGlzdFswXSB8fCBudWxsOwogICAgICBpZiAoX3RoaXMuY3VycmVudFBsYXlBdWRpbykgewogICAgICAgIF90aGlzLnBsYXkoX3RoaXMuY3VycmVudFBsYXlBdWRpbywgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuYXVkaW8uc3JjID0gIiI7CiAgICAgIH0KICAgIH0KICB9KTsKICAvKioNCiAgICog6ZSA5q+BDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5yZXNldEF1ZGlvKCk7CiAgICBfdGhpcy5hdWRpbyA9IG51bGw7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmVlcCIpLnJlbW92ZSgpOwogIH0pOwogIGlmICghdGhpcy5hdWRpbykgewogICAgdGhpcy5wbGF5TGlzdCA9IChfcGFyYW1zID09PSBudWxsIHx8IF9wYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJhbXMucGxheUxpc3QpIHx8IFtdOwogICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdWRpb0JlZXAiKSB8fCBudWxsOwogICAgaWYgKCF0aGlzLmF1ZGlvKSB7CiAgICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8oKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5hdWRpbyk7CiAgICB9CiAgICB0aGlzLmF1ZGlvLmlkID0gImF1ZGlvQmVlcCI7CiAgICB0aGlzLmF1ZGlvLm11dGVkID0gZmFsc2U7CiAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDsKICAgIHRoaXMuYXVkaW8udm9sdW1lID0gMDsKICAgIC8vIOa3u+WKoOS6i+S7tuebkeWQrOWZqAogICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCJwbGF5IiwgdGhpcy5hdWRpb1BsYXkpOwogICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCJwYXVzZSIsIHRoaXMuYXVkaW9QYXVzZSk7CiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImVuZGVkIiwgdGhpcy5hdWRpb0VuZGVkKTsKICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZGVkbWV0YWRhdGEiLCB0aGlzLmF1ZGlvTG9hZGVkbWV0YWRhdGEpOwogICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsIHRoaXMuYXVkaW9FcnJvcik7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMucGxheVBlcm1pc3Npb24pOwogICAgZG9jdW1lbnQuYm9keS5jbGljaygpOwogIH0KfSk7"},{"version":3,"names":["_index","require","PlayAudio","exports","default","_createClass2","params","_this","_classCallCheck2","_defineProperty2","document","removeEventListener","playPermission","audio","play","catch","error","console","log","getUserMediaPermission","setTimeout","pause","info","playList","length","currentPlayAudio","navigator","mediaDevices","getUserMedia","then","stream","arguments","undefined","src","count","force","loop","currentTime","volume","getIsNotice","isPlay","resetAudio","push","flag","audioEnded","_this$currentPlayAudi","_typeof2","_this$currentPlayAudi2","shift","getElementById","remove","Audio","body","append","id","muted","addEventListener","audioPlay","audioPause","audioLoadedmetadata","audioError","click"],"sources":["C:/Users/Administrator/Desktop/交易所9.27/0-admin/src/plugins/audio/playAudio.js"],"sourcesContent":["import { getIsNotice } from \"@/utils/index\";\r\n\r\nexport default class PlayAudio {\r\n  /**\r\n   * 音频实例\r\n   */\r\n  audio = null;\r\n  /**\r\n   * 当前播放实例\r\n   */\r\n  currentPlayAudio = null;\r\n  /**\r\n   * 是否在播放中\r\n   */\r\n  isPlay = false;\r\n  /**\r\n   * 播放列表\r\n   */\r\n  playList = [];\r\n  /**\r\n   * 初始化\r\n   */\r\n  constructor(params) {\r\n    if (!this.audio) {\r\n      this.playList = params?.playList || [];\r\n      this.audio = document.getElementById(\"audioBeep\") || null;\r\n      if (!this.audio) {\r\n        this.audio = new Audio();\r\n        document.body.append(this.audio);\r\n      }\r\n      this.audio.id = \"audioBeep\";\r\n      this.audio.muted = false;\r\n      this.audio.currentTime = 0;\r\n      this.audio.volume = 0;\r\n      // 添加事件监听器\r\n      this.audio.addEventListener(\"play\", this.audioPlay);\r\n      this.audio.addEventListener(\"pause\", this.audioPause);\r\n      this.audio.addEventListener(\"ended\", this.audioEnded);\r\n      this.audio.addEventListener(\"loadedmetadata\", this.audioLoadedmetadata);\r\n      this.audio.addEventListener(\"error\", this.audioError);\r\n\r\n      document.addEventListener(\"click\", this.playPermission);\r\n      document.body.click();\r\n    }\r\n  }\r\n  /**\r\n   * 播放授权\r\n   */\r\n  playPermission = () => {\r\n    document.removeEventListener(\"click\", this.playPermission);\r\n    // 播放音频\r\n    this.audio.play().catch((error) => {\r\n      console.log(\"playPermission\", error);\r\n      // 不支持自动播放\r\n      this.getUserMediaPermission();\r\n    });\r\n    setTimeout(() => {\r\n      this.audio.pause();\r\n      console.info(\"获取完成\", this.playList.length);\r\n      if (this.playList.length) {\r\n        // 获取授权完成，存在带播放列表 立即播放\r\n        this.currentPlayAudio = this.playList[0];\r\n        this.play(this.currentPlayAudio, true);\r\n      }\r\n    }, 100);\r\n  };\r\n  /**\r\n   * 获取媒体设备权限\r\n   */\r\n  getUserMediaPermission = () => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({ audio: true })\r\n      .then(function (stream) {\r\n        // console.error(\"获取媒体设备权限：\", stream);\r\n      })\r\n      .catch(function (error) {\r\n        // 用户拒绝或浏览器不支持，您可以在这里处理错误\r\n        // console.error(\"用户拒绝或浏览器不支持：\", error);\r\n      });\r\n  };\r\n  /**\r\n   * 播放\r\n   */\r\n  play = (\r\n    params = {\r\n      src: \"\",\r\n      count: 1,\r\n      force: false,\r\n      loop: false,\r\n      currentTime: 0,\r\n      volume: 0.5,\r\n    },\r\n    play = false\r\n  ) => {\r\n    if (!getIsNotice()) {\r\n      return;\r\n    }\r\n    console.log(\"音频播放\", play);\r\n    if (play) {\r\n      if (this.audio.src != params.src) {\r\n        this.audio.src = params.src;\r\n      }\r\n      this.audio.loop = params.loop || false;\r\n      this.audio.currentTime = params.currentTime || 0;\r\n      this.audio.volume = params.volume || 0.5;\r\n      this.audio.play().catch((error) => {\r\n        // console.log(\"play\", error);\r\n        this.getUserMediaPermission();\r\n      });\r\n      this.isPlay = true;\r\n    } else {\r\n      params.count = params.count || 1;\r\n      params.force = params.force || false;\r\n      if (params.src) {\r\n        if (params.force) {\r\n          // 强制播放\r\n          this.resetAudio();\r\n        }\r\n        this.playList.push(params);\r\n        if (!this.isPlay) {\r\n          // 未在播放时立即播放\r\n          this.currentPlayAudio = this.playList[0];\r\n          this.play(this.currentPlayAudio, true);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * 播放下一个(包含次数)\r\n   */\r\n  next = (flag = false) => {\r\n    if (this.playList.length) {\r\n      this.audio.pause();\r\n      this.audioEnded(flag);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 重置播放器\r\n   */\r\n  resetAudio = () => {\r\n    this.currentPlayAudio = null;\r\n    this.isPlay = false;\r\n    this.playList.length = 0;\r\n    this.audio.pause();\r\n\r\n    this.audio.currentTime = 0;\r\n    this.audio.src = \"\";\r\n    this.audio.loop = false;\r\n    this.audio.src = 0;\r\n    this.audio.volume = 0;\r\n  };\r\n\r\n  /**\r\n   * 音频加载完成\r\n   */\r\n  audioLoadedmetadata = () => {\r\n    // console.log(\"音频加载完成\");\r\n  };\r\n  /**\r\n   * 音频加载失败\r\n   */\r\n  audioError = () => {\r\n    // console.log(\"音频加载失败\");\r\n    this.audioEnded();\r\n  };\r\n\r\n  /**\r\n   * 音频播放中\r\n   */\r\n  audioPlay = () => {\r\n    this.isPlay = true;\r\n    // console.log(\"音频播放中\");\r\n  };\r\n  /**\r\n   * 音频暂停\r\n   */\r\n  audioPause = () => {\r\n    this.isPlay = false;\r\n    // console.log(\"音频暂停\");\r\n  };\r\n  /**\r\n   * 音频播放结束\r\n   */\r\n  audioEnded = (flag = false) => {\r\n    // console.log(\"音频播放结束\");\r\n    if (typeof flag == \"object\") {\r\n      flag = false;\r\n    }\r\n    this.isPlay = false;\r\n    if (this.currentPlayAudio?.count > 0 && !this.currentPlayAudio.loop) {\r\n      this.currentPlayAudio.count--;\r\n    }\r\n\r\n    if (this.playList.length) {\r\n      if (!this.currentPlayAudio?.count || flag) {\r\n        this.playList.shift();\r\n      }\r\n      this.currentPlayAudio = this.playList[0] || null;\r\n      if (this.currentPlayAudio) {\r\n        this.play(this.currentPlayAudio, true);\r\n      } else {\r\n        this.audio.src = \"\";\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * 销毁\r\n   */\r\n  remove = () => {\r\n    this.resetAudio();\r\n    this.audio = null;\r\n    document.getElementById(\"beep\").remove();\r\n  };\r\n}\r\n"],"mappings":"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"}]}