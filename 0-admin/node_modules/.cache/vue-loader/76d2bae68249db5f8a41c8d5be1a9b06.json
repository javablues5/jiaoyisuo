{"remainingRequest":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ddmac/Downloads/javanew/echo2.0-admin/src/views/bussiness/trade-robot/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/src/views/bussiness/trade-robot/index.vue","mtime":1698845798000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ddmac/Downloads/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGltZUZvcm1hdGVyIGZyb20gInRpbWUtZm9ybWF0ZXIiOw0KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICJlY2hhcnRzIjsNCmltcG9ydCB7DQogIGdlbmVyYXRlVGltZUxpc3QsDQogIGdldEtMaW5lWVJhbmRvbUxpc3QsDQogIGRpc3RyaWJ1dGVNaW51dGVzLA0KICBnZXRNb2NrS0xpbmVPcHRpb24sDQp9IGZyb20gIi4vdXRpbCI7DQppbXBvcnQgeyBfdG9GaXhlZCwgX2RpdiwgX211bCB9IGZyb20gIi4vZGVjaW1hbCI7DQppbXBvcnQgew0KICBnZXRTeW1ib2xMaXN0QXBpLA0KICBzYXZlVHJhZGVSb2JvdEFwaSwNCiAgZ2V0RGV0YWlsQXBpLA0KICB1cGRhdGVEZXRhaWxBcGksDQp9IGZyb20gIkAvYXBpL2J1c3NpbmVzcy90cmFkZS1yb2JvdC5qcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJUcmFkZVJvYm90IiwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkZXRhaWw6IG51bGwsDQogICAgICAvLyDljoblj7JpZA0KICAgICAgaWQ6IG51bGwsDQogICAgICAvLyDnsbvlnosgcHJpdmlldyB1cGRhdGUNCiAgICAgIHR5cGU6IG51bGwsDQogICAgICAvLyDmjqfnm5jnrZbnlaXliJfooagNCiAgICAgIG1vZGVsTGlzdDogWw0KICAgICAgICB7IHZhbHVlOiAwLCBsYWJlbDogIui3n+maj+Wei+i2i+WKvyIgfSwNCiAgICAgICAgLy8geyB2YWx1ZTogMSwgbGFiZWw6ICLoh6rlrprkuYnotovlir8iIH0sDQogICAgICAgIHsgdmFsdWU6IDIsIGxhYmVsOiAi56eS5p2A5Z6L6LaL5Yq/IiB9LA0KICAgICAgXSwNCiAgICAgIC8vIOW4geenjeWIl+ihqA0KICAgICAgc3ltYm9sTGlzdDogW10sDQogICAgICAvLyDooajljZUNCiAgICAgIGZvcm06IHt9LA0KICAgICAgLy8g6KGo5Y2V5qCh6aqMDQogICAgICBydWxlczogew0KICAgICAgICBzeW1ib2w6IHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLluIHnp43kuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgIH0sDQogICAgICAvLyDmgLvliIbpkp/mlbANCiAgICAgIHRvdGFsTWludXRlczogMCwNCiAgICAgIC8vIOWfuuehgOeykuW6pg0KICAgICAgZ3JhbnVsYXJpdHk6IDE1LA0KICAgICAgLy8gWOi9tOaXtumXtA0KICAgICAgeFRpbWVTY2FsZUxpc3Q6IFtdLA0KICAgICAgLy8gWei9tOiuoeeul+avlOS+iw0KICAgICAgeVJhbmRvbUxpc3Q6IFtdLA0KICAgICAgLy8g5Zu+6KGo5a6e5L6LDQogICAgICBsaW5lQ2hhcnQ6IG51bGwsDQogICAgICAvLyDlm77ooajlrp7kvosNCiAgICAgIEtMaW5lQ2hhcnQ6IG51bGwsDQogICAgICAvKioNCiAgICAgICAqIGvnur/pooTlpITnkIbmlbDmja4NCiAgICAgICAqLw0KICAgICAga2xpbmVZUmFuZG9tTGlzdDogW10sDQogICAgICAvKioNCiAgICAgICAqIGvnur/mlbDmja4NCiAgICAgICAqLw0KICAgICAga2xpbmVNb2NrWURhdGE6IFtdLA0KDQogICAgICBwaWNrZXJPcHRpb25zOiB7DQogICAgICAgIC8v6K6+572u56aB55So54q25oCB77yM5Y+C5pWw5Li65b2T5YmN5pel5pyfDQogICAgICAgIGRpc2FibGVkRGF0ZSh0aW1lKSB7DQogICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSA4NjQwMDAwMDsgLy8gIC0gODY0MDAwMDDmmK/lkKbljIXmi6zlvZPlpKkNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvKioNCiAgICAgKiDnrZbnlaXkv6Hmga8NCiAgICAgKi8NCiAgICBtb2RlbEluZm8oKSB7DQogICAgICByZXR1cm4gdGhpcy5tb2RlbExpc3QuZmluZCgNCiAgICAgICAgKGVsZW0pID0+IGVsZW0udmFsdWUgPT0gKHRoaXMuZm9ybT8ubW9kZWwgfHwgMCkNCiAgICAgICk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmjqfliLbnspLluqbliJfooagNCiAgICAgKi8NCiAgICBncmFudWxhcml0eUxpc3QoKSB7DQogICAgICBsZXQgdGVtcExpc3QgPSBbDQogICAgICAgIHsgdmFsdWU6IDE1LCBsYWJlbDogIjE15YiG6ZKfIiB9LA0KICAgICAgICB7IHZhbHVlOiAzMCwgbGFiZWw6ICIzMOWIhumSnyIgfSwNCiAgICAgICAgeyB2YWx1ZTogNjAsIGxhYmVsOiAiMeWwj+aXtiIgfSwNCiAgICAgICAgeyB2YWx1ZTogMTIwLCBsYWJlbDogIjLlsI/ml7YiIH0sDQogICAgICAgIHsgdmFsdWU6IDI0MCwgbGFiZWw6ICI05bCP5pe2IiB9LA0KICAgICAgXTsNCg0KICAgICAgaWYgKHRoaXMuZm9ybS5tb2RlbCA9PSAyKSB7DQogICAgICAgIC8vIOenkuadgOWei+i2i+WKvw0KICAgICAgICB0ZW1wTGlzdCA9IFsNCiAgICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogIjHliIbpkp8iIH0sDQogICAgICAgICAgeyB2YWx1ZTogNSwgbGFiZWw6ICI15YiG6ZKfIiB9LA0KICAgICAgICAgIHsgdmFsdWU6IDEwLCBsYWJlbDogIjEw5YiG6ZKfIiB9LA0KICAgICAgICAgIHsgdmFsdWU6IDE1LCBsYWJlbDogIjE15YiG6ZKfIiB9LA0KICAgICAgICBdOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRlbXBMaXN0Ow0KICAgIH0sDQogICAgLyoqDQogICAgICog5piv5ZCm5Li66aKE6KeIDQogICAgICovDQogICAgaXNQcml2aWV3KCkgew0KICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PSAicHJpdmlldyI7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKbkuLrkv67mlLkNCiAgICAgKi8NCiAgICBpc1VwZGF0ZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT0gInVwZGF0ZSI7DQogICAgfSwNCiAgfSwNCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICBhd2FpdCB0aGlzLmdldFN5bWJvbExpc3QoKTsNCiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQgfHwgbnVsbDsNCiAgICB0aGlzLnR5cGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlIHx8IG51bGw7DQogICAgaWYgKHRoaXMuaWQpIHsNCiAgICAgIHRoaXMuZ2V0RGV0YWlsKCk7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMucmVzZXQoKTsNCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnJlc2l6ZSk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLyoqDQogICAgICog6I635Y+W5pWw5o2u6K+m5oOFDQogICAgICovDQogICAgYXN5bmMgZ2V0RGV0YWlsKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0RGV0YWlsQXBpKHRoaXMuaWQpOw0KICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICBsZXQgdGVtcERhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgdGhpcy5kZXRhaWwgPSB0ZW1wRGF0YTsNCiAgICAgICAgaWYgKCF0aGlzLnN5bWJvbExpc3Quc29tZSgoZWxlbSkgPT4gZWxlbS5zeW1ib2wgPT0gdGVtcERhdGEuc3ltYm9sKSkgew0KICAgICAgICAgIHRlbXBEYXRhLnN5bWJvbCA9ICIiOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgICBkZWNsaW5lOiB0ZW1wRGF0YS5kZWNsaW5lLA0KICAgICAgICAgIGluY3JlYXNlOiB0ZW1wRGF0YS5pbmNyZWFzZSwNCiAgICAgICAgICBncmFudWxhcml0eTogdGVtcERhdGEuZ3JhbnVsYXJpdHksDQogICAgICAgICAgbW9kZWw6IHRlbXBEYXRhLm1vZGVsLA0KICAgICAgICAgIGNvblByaWNlOiB0ZW1wRGF0YS5jb25QcmljZSwNCiAgICAgICAgICBwcmljZVBlbmNlbnQ6IHRlbXBEYXRhLnByaWNlUGVuY2VudCwNCiAgICAgICAgICBzeW1ib2w6IHRlbXBEYXRhLnN5bWJvbCwNCiAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSh0ZW1wRGF0YS5iZWdpblRpbWUpLA0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLmtsaW5lTW9ja1lEYXRhID0gdGVtcERhdGEuYm90SW5mb0xpc3QubWFwKChlbGVtKSA9PiB7DQogICAgICAgICAgdGhpcy5rbGluZVlSYW5kb21MaXN0W2VsZW0ueF0gPSBlbGVtLnk7DQogICAgICAgICAgcmV0dXJuIFtlbGVtLm9wZW4sIGVsZW0uY2xvc2UsIGVsZW0uaGlnaCwgZWxlbS5sb3ddOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHlMaXN0WzBdLnZhbHVlOw0KDQogICAgICAgIGlmICh0ZW1wRGF0YS5tb2RlbCA9PSAyKSB7DQogICAgICAgICAgdGhpcy50b3RhbE1pbnV0ZXMgPSA2MDsNCiAgICAgICAgICB0aGlzLnhUaW1lU2NhbGVMaXN0ID0gZ2VuZXJhdGVUaW1lTGlzdCgNCiAgICAgICAgICAgIHRoaXMuZm9ybS50aW1lLA0KICAgICAgICAgICAgdGhpcy5ncmFudWxhcml0eSwNCiAgICAgICAgICAgIHRoaXMudG90YWxNaW51dGVzDQogICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnlSYW5kb21MaXN0ID0gSlNPTi5wYXJzZSh0ZW1wRGF0YS5saW5lQ2hhcnREYXRhKTsNCiAgICAgICAgdGhpcy5kcmF3TGluZSgpOw0KICAgICAgICB0aGlzLmRyYXdLTGluZSgpOw0KICAgICAgICB0aGlzLktMaW5lUGVydmlldyh7DQogICAgICAgICAgc2VyaWVzOiBbeyBkYXRhOiB0aGlzLmtsaW5lTW9ja1lEYXRhIH1dLA0KICAgICAgICAgIHhBeGlzOiB0aGlzLnhUaW1lU2NhbGVMaXN0LA0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaPkOS6pA0KICAgICAqLw0KICAgIGFzeW5jIHN1Ym1pdCgpIHsNCiAgICAgIGNvbnNvbGUubG9nKCLooajljZXmlbDmja4iLCB0aGlzLmZvcm0pOw0KICAgICAgY29uc29sZS5sb2coIkvnur/mlbDmja4gb3BlbiwgY2xvc2UsIGhpZ2gsIGxvdyIsIHRoaXMua2xpbmVNb2NrWURhdGEpOw0KICAgICAgY29uc29sZS5sb2coDQogICAgICAgICJL57q/5pWw5o2uIOaXtumXtCIsDQogICAgICAgIHRoaXMua2xpbmVZUmFuZG9tTGlzdCwNCiAgICAgICAgdGhpcy5mb3JtLnRpbWUuZ2V0VGltZSgpDQogICAgICApOw0KICAgICAgbGV0IHRlbXBCb3RJbmZvTGlzdCA9IFtdOw0KICAgICAgdGhpcy5mb3JtLnRpbWUuc2V0U2Vjb25kcygwKTsNCiAgICAgIHRoaXMuZm9ybS50aW1lLnNldE1pbGxpc2Vjb25kcygwKTsNCg0KICAgICAgbGV0IG5vd0RhdGUgPSBuZXcgRGF0ZSgpOw0KICAgICAgbm93RGF0ZS5zZXRTZWNvbmRzKDApOw0KICAgICAgbm93RGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7DQoNCiAgICAgIGxldCB0aW1lID0gdGhpcy5mb3JtLnRpbWUuZ2V0VGltZSgpOw0KICAgICAgLy8gaWYgKA0KICAgICAgLy8gICBbMl0uaW5jbHVkZXModGhpcy5mb3JtLm1vZGVsKSAmJg0KICAgICAgLy8gICB0aW1lIDwgbm93RGF0ZS5nZXRUaW1lKCkgKyAxMjAgKiAxMDAwDQogICAgICAvLyApIHsNCiAgICAgIC8vICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIuivt+WwhuaOp+ebmOaXtumXtOiuvue9ruS4uiDlvZPliY3ml7bpl7QgKyDkuKTliIbpkp8iKTsNCiAgICAgIC8vICAgcmV0dXJuOw0KICAgICAgLy8gfQ0KICAgICAgaWYgKFsxLCAyXS5pbmNsdWRlcyh0aGlzLmZvcm0ubW9kZWwpKSB7DQogICAgICAgIHRlbXBCb3RJbmZvTGlzdCA9IE9iamVjdC5rZXlzKHRoaXMua2xpbmVZUmFuZG9tTGlzdCkubWFwKA0KICAgICAgICAgIChlbGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgeDogZWxlbSwNCiAgICAgICAgICAgICAgeTogYCR7dGhpcy5rbGluZVlSYW5kb21MaXN0W2luZGV4XX1gLA0KDQogICAgICAgICAgICAgIGRhdGVUaW1lOiB0aW1lICsgZWxlbSAqIHRoaXMuZm9ybS5ncmFudWxhcml0eSAqIDYwICogMTAwMCwNCiAgICAgICAgICAgICAgb3BlbjogdGhpcy5rbGluZU1vY2tZRGF0YVtpbmRleF1bMF0sDQogICAgICAgICAgICAgIGNsb3NlOiB0aGlzLmtsaW5lTW9ja1lEYXRhW2luZGV4XVsxXSwNCiAgICAgICAgICAgICAgaGlnaDogdGhpcy5rbGluZU1vY2tZRGF0YVtpbmRleF1bMl0sDQogICAgICAgICAgICAgIGxvdzogdGhpcy5rbGluZU1vY2tZRGF0YVtpbmRleF1bM10sDQogICAgICAgICAgICB9Ow0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIC8vIOacgOWkp+i3jOW5hQ0KICAgICAgICBkZWNsaW5lOiB0aGlzLmZvcm0ucHJpY2VQZW5jZW50LA0KICAgICAgICAvLyDmnIDlpKfmtqjluYUNCiAgICAgICAgaW5jcmVhc2U6IHRoaXMuZm9ybS5wcmljZVBlbmNlbnQsDQogICAgICAgIC8vIOaOp+WItueykuW6pg0KICAgICAgICBncmFudWxhcml0eTogIiIsDQogICAgICAgIC8vIOaOp+ebmOetlueVpSAwIOi3n+maj+WeiyAxIOiHquWumuS5iSAyIOenkuadgOWeiw0KICAgICAgICBtb2RlbDogdGhpcy5mb3JtLm1vZGVsLA0KICAgICAgICAvLyDmta7liqjku7fmoLwgIG1vZGVs5Li6IDAg5pe25pyJ5pWIDQogICAgICAgIGNvblByaWNlOiB0aGlzLmZvcm0uY29uUHJpY2UsDQogICAgICAgIC8vIOa1ruWKqOavlOS+iw0KICAgICAgICBwcmljZVBlbmNlbnQ6IHRoaXMuZm9ybS5wcmljZVBlbmNlbnQsDQogICAgICAgIC8vIOS6pOaYk+WvuQ0KICAgICAgICBzeW1ib2w6IHRoaXMuZm9ybS5zeW1ib2wsDQogICAgICAgIC8vIOW8gOWni+aXtumXtA0KICAgICAgICBiZWdpblRpbWU6IHRpbWUsDQogICAgICAgIC8vIOe7k+adn+aXtumXtA0KICAgICAgICBlbmRUaW1lOiAiIiwNCiAgICAgICAgLy8g6LaL5Yq/5YiX6KGoDQogICAgICAgIGJvdEluZm9MaXN0OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgY2xvc2U6IDAsDQogICAgICAgICAgICBkYXRlVGltZTogdGltZSwNCiAgICAgICAgICAgIGhpZ2g6IDAsDQogICAgICAgICAgICBsb3c6IDAsDQogICAgICAgICAgICBvcGVuOiAwLA0KICAgICAgICAgICAgeDogIjAiLA0KICAgICAgICAgICAgeTogIjAiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIC8vIOWbvuihqOWIu+W6puaVsOaNrg0KICAgICAgICBsaW5lQ2hhcnREYXRhOiAiW10iLA0KICAgICAgfTsNCiAgICAgIGlmIChbMSwgMl0uaW5jbHVkZXModGhpcy5mb3JtLm1vZGVsKSkgew0KICAgICAgICAvLyDmnIDlpKfot4zluYUNCiAgICAgICAgcGFyYW1zLmRlY2xpbmUgPSB0aGlzLmZvcm0uZGVjbGluZTsNCiAgICAgICAgLy8g5pyA5aSn5rao5bmFDQogICAgICAgIHBhcmFtcy5pbmNyZWFzZSA9IHRoaXMuZm9ybS5pbmNyZWFzZTsNCiAgICAgICAgLy8g5o6n5Yi257KS5bqmDQogICAgICAgIHBhcmFtcy5ncmFudWxhcml0eSA9IHRoaXMuZm9ybS5ncmFudWxhcml0eTsNCiAgICAgICAgLy8g5byA5aeL5pe26Ze0DQogICAgICAgIHBhcmFtcy5iZWdpblRpbWUgPSB0ZW1wQm90SW5mb0xpc3RbMF0uZGF0ZVRpbWU7DQogICAgICAgIC8vIOe7k+adn+aXtumXtA0KICAgICAgICBwYXJhbXMuZW5kVGltZSA9IHRlbXBCb3RJbmZvTGlzdFt0ZW1wQm90SW5mb0xpc3QubGVuZ3RoIC0gMV0uZGF0ZVRpbWU7DQogICAgICAgIC8vIOi2i+WKv+WIl+ihqA0KICAgICAgICBwYXJhbXMuYm90SW5mb0xpc3QgPSB0ZW1wQm90SW5mb0xpc3Q7DQogICAgICAgIC8vIOWbvuihqOWIu+W6puaVsOaNrg0KICAgICAgICBwYXJhbXMubGluZUNoYXJ0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMueVJhbmRvbUxpc3QpOw0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsNCiAgICAgIGlmICh0aGlzLmZvcm0uc3ltYm9sID09ICIiKSB7DQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLkuqTmmJPlr7nkuI3og73kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuaWQpIHsNCiAgICAgICAgLy8g5L+u5pS5DQogICAgICAgIHBhcmFtcy5pZCA9IHRoaXMuaWQ7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVwZGF0ZURldGFpbEFwaShwYXJhbXMpOw0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2VzcyhyZXMubXNnKTsNCiAgICAgICAgICAvLyDmjqfnm5jnrZbnlaUgMCDot5/pmo/lnosgMSDoh6rlrprkuYkgMiDnp5LmnYDlnosNCiAgICAgICAgICBpZiAodGhpcy5mb3JtLm1vZGVsID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5jb25QcmljZSA9ICIiOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKHJlcy5tc2cpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzYXZlVHJhZGVSb2JvdEFwaShwYXJhbXMpOw0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2VzcyhyZXMubXNnKTsNCiAgICAgICAgICAvLyDmjqfnm5jnrZbnlaUgMCDot5/pmo/lnosgMSDoh6rlrprkuYkgMiDnp5LmnYDlnosNCiAgICAgICAgICBpZiAodGhpcy5mb3JtLm1vZGVsID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5jb25QcmljZSA9ICIiOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKHJlcy5tc2cpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnm5HlkKznspLluqbmlLnlj5gNCiAgICAgKi8NCiAgICBvbk1vZGVsQ2hhbmdlKHZhbCkgew0KICAgICAgLy8gY29uc29sZS5sb2coIuebkeWQrOeykuW6puaUueWPmCIsIHZhbCk7DQogICAgICBpZiAoWzEsIDJdLmluY2x1ZGVzKHZhbCkpIHsNCiAgICAgICAgdGhpcy5ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHlMaXN0WzBdLnZhbHVlOw0KICAgICAgICB0aGlzLmZvcm0uZ3JhbnVsYXJpdHkgPSB0aGlzLmdyYW51bGFyaXR5Ow0KICAgICAgICB0aGlzLnByaWNlUGVuY2VudCA9IDU7DQogICAgICB9DQoNCiAgICAgIGlmICh2YWwgPT0gMikgew0KICAgICAgICB0aGlzLnRvdGFsTWludXRlcyA9IDYwOw0KICAgICAgICB0aGlzLnhUaW1lU2NhbGVMaXN0ID0gZ2VuZXJhdGVUaW1lTGlzdCgNCiAgICAgICAgICB0aGlzLmZvcm0udGltZSwNCiAgICAgICAgICB0aGlzLmdyYW51bGFyaXR5LA0KICAgICAgICAgIHRoaXMudG90YWxNaW51dGVzDQogICAgICAgICk7DQogICAgICAgIHRoaXMuZHJhd0xpbmUoKTsNCiAgICAgICAgdGhpcy5kcmF3S0xpbmUoKTsNCiAgICAgICAgdGhpcy5LTGluZVBlcnZpZXcoKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsID09IDEpIHsNCiAgICAgICAgdGhpcy50b3RhbE1pbnV0ZXMgPSAxICogMjQgKiA2MDsNCiAgICAgICAgdGhpcy54VGltZVNjYWxlTGlzdCA9IGdlbmVyYXRlVGltZUxpc3QoDQogICAgICAgICAgdGhpcy5mb3JtLnRpbWUsDQogICAgICAgICAgdGhpcy5ncmFudWxhcml0eQ0KICAgICAgICApOw0KICAgICAgICB0aGlzLmRyYXdMaW5lKCk7DQogICAgICAgIHRoaXMuZHJhd0tMaW5lKCk7DQogICAgICAgIHRoaXMuS0xpbmVQZXJ2aWV3KCk7DQogICAgICB9IGVsc2UgaWYgKHZhbCA9PSAwKSB7DQogICAgICAgIHRoaXMucmVzZXRGb3JtKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmZvcm0ubW9kZWwgPSB2YWw7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog5YWF5YC86KGo5Y2VDQogICAgICovDQogICAgcmVzZXRGb3JtKGNhbGxiYWNrKSB7DQogICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgIC8vIOS6pOaYk+WvuQ0KICAgICAgICBzeW1ib2w6ICIiLA0KICAgICAgICAvLyDmqKHlvI8NCiAgICAgICAgbW9kZWw6IDIsDQogICAgICAgIC8vIOaooeaLn+aXtumXtA0KICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLA0KICAgICAgICAvLyDmnIDlpKfmtqjluYUNCiAgICAgICAgaW5jcmVhc2U6IDUsDQogICAgICAgIC8vIOacgOWkp+i3jOW5hQ0KICAgICAgICBkZWNsaW5lOiA1LA0KICAgICAgICAvLyDmjqfliLbnspLluqYNCiAgICAgICAgZ3JhbnVsYXJpdHk6IDE1LA0KICAgICAgICAvLyDmta7liqjku7fmoLwNCiAgICAgICAgY29uUHJpY2U6IDAsDQogICAgICAgIC8vIOS7t+agvOa1ruWKqOavlOS+iw0KICAgICAgICBwcmljZVBlbmNlbnQ6IDUsDQogICAgICB9Ow0KICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOmHjee9ruihqOWNlQ0KICAgICAqLw0KICAgIHJlc2V0KCkgew0KICAgICAgaWYgKHRoaXMubGluZUNoYXJ0KSB7DQogICAgICAgIHRoaXMubGluZUNoYXJ0LmRpc3Bvc2UoKTsNCiAgICAgICAgdGhpcy5saW5lQ2hhcnQgPSBudWxsOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuS0xpbmVDaGFydCkgew0KICAgICAgICB0aGlzLktMaW5lQ2hhcnQuZGlzcG9zZSgpOw0KICAgICAgICB0aGlzLktMaW5lQ2hhcnQgPSBudWxsOw0KICAgICAgfQ0KICAgICAgdGhpcy5yZXNldEZvcm0oKTsNCiAgICAgIHRoaXMuaWQgPSBudWxsOw0KICAgICAgdGhpcy50eXBlID0gbnVsbDsNCiAgICAgIHRoaXMuZGV0YWlsID0gbnVsbDsNCiAgICAgIC8vIOaAu+WIhumSn+aVsA0KICAgICAgdGhpcy50b3RhbE1pbnV0ZXMgPSAxICogMjQgKiA2MDsNCiAgICAgIC8vIOWfuuehgOeykuW6pg0KICAgICAgdGhpcy5ncmFudWxhcml0eSA9IDE1Ow0KICAgICAgLy8gWOi9tOaXtumXtA0KICAgICAgdGhpcy54VGltZVNjYWxlTGlzdCA9IFtdOw0KICAgICAgLy8gWei9tOiuoeeul+avlOS+iw0KICAgICAgdGhpcy55UmFuZG9tTGlzdCA9IFtdOw0KICAgICAgLy8gS+e6v+iuoeeul+absue6v+avlOS+iw0KICAgICAgdGhpcy5rbGluZVlSYW5kb21MaXN0ID0gW107DQogICAgICAvLyBL57q/5qih5ouf5pWw5o2uDQogICAgICB0aGlzLmtsaW5lTW9ja1lEYXRhID0gW107DQogICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodGhpcy5mb3JtLm1vZGVsKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOmihOiniA0KICAgICAqLw0KICAgIEtMaW5lUGVydmlldyhvcHRpb24pIHsNCiAgICAgIGlmICghb3B0aW9uKSB7DQogICAgICAgIG9wdGlvbiA9IGdldE1vY2tLTGluZU9wdGlvbigNCiAgICAgICAgICB0aGlzLnhUaW1lU2NhbGVMaXN0LA0KICAgICAgICAgIHRoaXMua2xpbmVZUmFuZG9tTGlzdCwNCiAgICAgICAgICB0aGlzLmZvcm0ucHJpY2VQZW5jZW50DQogICAgICAgICk7DQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhvcHRpb24pOw0KICAgICAgdGhpcy5rbGluZU1vY2tZRGF0YSA9IG9wdGlvbi5zZXJpZXNbMF0uZGF0YSB8fCBbXTsNCiAgICAgIHRoaXMuS0xpbmVDaGFydCAmJiB0aGlzLktMaW5lQ2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnu5jliLYgS0xpbmVDaGFydA0KICAgICAqLw0KICAgIGRyYXdLTGluZSgpIHsNCiAgICAgIGlmICghdGhpcy5LTGluZUNoYXJ0ICYmIHRoaXMuJHJlZnMuS0xpbmVDaGFydFJlZikgew0KICAgICAgICB0aGlzLktMaW5lQ2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5LTGluZUNoYXJ0UmVmKTsNCiAgICAgIH0NCiAgICAgIGxldCBvcHRpb25zID0gew0KICAgICAgICBncmlkOiB7DQogICAgICAgICAgbGVmdDogMzAsDQogICAgICAgICAgcmlnaHQ6IDUwLA0KICAgICAgICAgIHRvcDogMTAsDQogICAgICAgICAgYm90dG9tOiAzMCwNCiAgICAgICAgfSwNCiAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAiY2F0ZWdvcnkiLA0KICAgICAgICAgIG5hbWU6ICLml7bpl7QiLA0KICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSwNCiAgICAgICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgICAgIGZvbnRTaXplOiA4LA0KICAgICAgICAgICAgZm9ybWF0dGVyOiAocGFyYW1zKSA9PiB7DQogICAgICAgICAgICAgIHJldHVybiBUaW1lRm9ybWF0ZXIoTnVtYmVyKHBhcmFtcykpLmZvcm1hdCgiSEg6bW0iKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwNCiAgICAgICAgICBkYXRhOiB0aGlzLnhUaW1lU2NhbGVMaXN0LA0KICAgICAgICB9LA0KICAgICAgICB5QXhpczogew0KICAgICAgICAgIC8vICAgbWluOiAwIC0gdGhpcy5mb3JtLmRlY2xpbmUsDQogICAgICAgICAgLy8gICBtYXg6IHRoaXMuZm9ybS5pbmNyZWFzZSwNCiAgICAgICAgICBuYW1lOiAi5Lu35qC8IiwNCiAgICAgICAgICB0eXBlOiAidmFsdWUiLA0KICAgICAgICAgIGF4aXNMaW5lOiB7IG9uWmVybzogZmFsc2UgfSwNCiAgICAgICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgICAgIGZvbnRTaXplOiA4LA0KICAgICAgICAgIH0sDQogICAgICAgICAgc3BsaXRMaW5lOiB7DQogICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgbGluZVN0eWxlOiB7DQogICAgICAgICAgICAgIGNvbG9yOiBbIiNDQ0MiXSwNCiAgICAgICAgICAgICAgd2lkdGg6IDEsDQogICAgICAgICAgICAgIHR5cGU6ICJkYXNoZWQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAiY2FuZGxlc3RpY2siLA0KICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgIGNvbG9yOiAiIzRiYmQ4MyIsIC8vIOe7v+iJsu+8iOa2qO+8iQ0KICAgICAgICAgICAgICBjb2xvcjA6ICIjZDYyNTQ4IiwgLy8g57qi6Imy77yI6LeM77yJDQogICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAiIzRiYmQ4MyIsIC8vIOe7v+iJsu+8iOa2qO+8iQ0KICAgICAgICAgICAgICBib3JkZXJDb2xvcjA6ICIjZDYyNTQ4IiwgLy8g57qi6Imy77yI6LeM77yJDQogICAgICAgICAgICAgIGJvcmRlckNvbG9yRG9qaTogbnVsbCwNCiAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6ICIxIiwNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGRhdGE6IFtdLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9Ow0KICAgICAgdGhpcy5LTGluZUNoYXJ0ICYmIHRoaXMuS0xpbmVDaGFydC5zZXRPcHRpb24ob3B0aW9ucyk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnu5jliLYgbGluZUNoYXJ0DQogICAgICovDQogICAgZHJhd0xpbmUoKSB7DQogICAgICBpZiAodGhpcy5saW5lQ2hhcnQpIHsNCiAgICAgICAgdGhpcy5saW5lQ2hhcnQuZGlzcG9zZSgpOw0KICAgICAgICB0aGlzLmxpbmVDaGFydCA9IG51bGw7DQogICAgICB9DQogICAgICBpZiAodGhpcy4kcmVmcy5saW5lQ2hhcnRSZWYpIHsNCiAgICAgICAgdGhpcy5saW5lQ2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5saW5lQ2hhcnRSZWYpOw0KICAgICAgfQ0KICAgICAgLy8g5qC55o2u5o6n5Yi257KS5bqm6K6h566XWOi9tOaXtumXtOWIu+W6pg0KICAgICAgaWYgKCF0aGlzLnR5cGUgfHwgdGhpcy5kZXRhaWw/LmdyYW51bGFyaXR5ICE9IHRoaXMuZm9ybS5ncmFudWxhcml0eSkgew0KICAgICAgICAvLyDojrflj5blvZPliY3nspLluqZY5pWw57uEDQogICAgICAgIGxldCB4VGltZVNjYWxlTGlzdCA9IGRpc3RyaWJ1dGVNaW51dGVzKA0KICAgICAgICAgIHRoaXMudG90YWxNaW51dGVzLA0KICAgICAgICAgIHRoaXMuZm9ybS5ncmFudWxhcml0eQ0KICAgICAgICApOw0KICAgICAgICAvLyDliJ3lp4vljJbpu5jorqRZ5pWw57uEDQogICAgICAgIHRoaXMueVJhbmRvbUxpc3QgPSB4VGltZVNjYWxlTGlzdC5tYXAoKGVsZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgcmV0dXJuIFt4VGltZVNjYWxlTGlzdFtpbmRleF0gLyB0aGlzLmdyYW51bGFyaXR5LCAwXTsNCiAgICAgICAgfSk7DQogICAgICAgIC8vIOiOt+WPluaooeaLn0vnur/mlbDmja4NCiAgICAgICAgdGhpcy5rbGluZVlSYW5kb21MaXN0ID0gZ2V0S0xpbmVZUmFuZG9tTGlzdCgNCiAgICAgICAgICB0aGlzLnhUaW1lU2NhbGVMaXN0LA0KICAgICAgICAgIHRoaXMueVJhbmRvbUxpc3QNCiAgICAgICAgKS5zbGljZSgwLCB0aGlzLnhUaW1lU2NhbGVMaXN0Lmxlbmd0aCk7DQogICAgICB9DQogICAgICAvLyDorqHnrpdvcHRpb25zDQogICAgICBsZXQgb3B0aW9ucyA9IHsNCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAiI2ZmZiIsDQogICAgICAgIGdyYXBoaWM6IG51bGwsDQogICAgICAgIHRpdGxlOiB7DQogICAgICAgICAgdGV4dDogIiIsDQogICAgICAgICAgc3VidGV4dDogIiIsDQogICAgICAgICAgeDogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIGludGVydmFsOiAxLA0KICAgICAgICBncmlkOiB7DQogICAgICAgICAgbGVmdDogMzAsDQogICAgICAgICAgcmlnaHQ6IDUwLA0KICAgICAgICAgIHRvcDogMTAsDQogICAgICAgICAgYm90dG9tOiAzMCwNCiAgICAgICAgICBjb250YWluTGFiZWw6IGZhbHNlLCAvL2dyaWQg5Yy65Z+f5piv5ZCm5YyF5ZCr5Z2Q5qCH6L2055qE5Yi75bqm5qCH562+DQogICAgICAgIH0sDQogICAgICAgIHRvb2x0aXA6IHsNCiAgICAgICAgICB0cmlnZ2VyOiAiYXhpcyIsDQogICAgICAgICAgYXhpc1BvaW50ZXI6IHsNCiAgICAgICAgICAgIHR5cGU6ICJjcm9zcyIsDQogICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICBmb3JtYXR0ZXI6IChwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmF4aXNEaW1lbnNpb24gPT0gIngiKSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gVGltZUZvcm1hdGVyKE51bWJlcihwYXJhbXMudmFsdWUpKS5mb3JtYXQoDQogICAgICAgICAgICAgICAgICAgICJZWVlZLU1NLUREIEhIOm1tIg0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5heGlzRGltZW5zaW9uID09ICJ5Iikgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIF90b0ZpeGVkKHBhcmFtcy52YWx1ZSwgNCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogIiMzQjkxRkYiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIHR5cGU6ICJjYXRlZ29yeSIsDQogICAgICAgICAgbmFtZTogIuaXtumXtCIsDQogICAgICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLA0KICAgICAgICAgIGF4aXNMYWJlbDogew0KICAgICAgICAgICAgZm9udFNpemU6IDgsDQogICAgICAgICAgICBmb3JtYXR0ZXI6IChwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgcmV0dXJuIFRpbWVGb3JtYXRlcihOdW1iZXIocGFyYW1zKSkuZm9ybWF0KCJISDptbSIpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KDQogICAgICAgICAgc3BsaXRMaW5lOiB7DQogICAgICAgICAgICAvL+e9keagvOe6vw0KICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogWyIjQ0NDIl0sDQogICAgICAgICAgICAgIHdpZHRoOiAxLA0KICAgICAgICAgICAgICB0eXBlOiAiZGFzaGVkIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwNCiAgICAgICAgICBkYXRhOiB0aGlzLnhUaW1lU2NhbGVMaXN0LA0KICAgICAgICB9LA0KICAgICAgICB5QXhpczogew0KICAgICAgICAgIG1pbjogMCAtIHRoaXMuZm9ybS5kZWNsaW5lLA0KICAgICAgICAgIG1heDogdGhpcy5mb3JtLmluY3JlYXNlLA0KICAgICAgICAgIG5hbWU6ICLku7fmoLwiLA0KICAgICAgICAgIHR5cGU6ICJ2YWx1ZSIsDQogICAgICAgICAgLy8gICBheGlzTGluZTogeyBvblplcm86IGZhbHNlIH0sDQogICAgICAgICAgYXhpc0xhYmVsOiB7DQogICAgICAgICAgICBmb250U2l6ZTogOCwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHNwbGl0TGluZTogew0KICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogWyIjQ0NDIl0sDQogICAgICAgICAgICAgIHdpZHRoOiAxLA0KICAgICAgICAgICAgICB0eXBlOiAiZGFzaGVkIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCg0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBkYXRhOiB0aGlzLnlSYW5kb21MaXN0LA0KICAgICAgICAgICAgdHlwZTogImxpbmUiLA0KICAgICAgICAgICAgc21vb3RoOiB0cnVlLA0KICAgICAgICAgICAgc3ltYm9sOiAiY2lyY2xlIiwNCiAgICAgICAgICAgIHNob3dTeW1ib2w6IHRydWUsDQogICAgICAgICAgICBzeW1ib2xTaXplOiAxMiwNCiAgICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogIiMzQjkxRkYiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogIiMzQjkxRkYiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgfTsNCiAgICAgIHRoaXMubGluZUNoYXJ0ICYmIHRoaXMubGluZUNoYXJ0LnNldE9wdGlvbihvcHRpb25zKTsNCiAgICAgIGlmICghdGhpcy5pc1ByaXZpZXcpIHsNCiAgICAgICAgdGhpcy5zZXRMaW5lT3B0aW9uKCk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDorr7nva7mi5bmi70NCiAgICAgKi8NCiAgICBzZXRMaW5lT3B0aW9uKCkgew0KICAgICAgdGhpcy5saW5lQ2hhcnQuc2V0T3B0aW9uKHsNCiAgICAgICAgZ3JhcGhpYzogZWNoYXJ0cy51dGlsLm1hcCh0aGlzLnlSYW5kb21MaXN0LCAoZGF0YUl0ZW0sIGRhdGFJbmRleCkgPT4gew0KICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOyAvLyDlm6DkuLpvbmRyYWflh73mlbDlv4XpobvlnKjlm57osIPlhoXkvb/nlKh0aGlzLnBvc2l0aW9u6I635Y+W5a6e5pe25Z2Q5qCH77yM5q2k5aSE5b+F6aG755SodGhhdOabv+aNonRoaXMNCiAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdHlwZTogImNpcmNsZSIsDQogICAgICAgICAgICBzaGFwZTogew0KICAgICAgICAgICAgICAvLyDlnIbngrnnmoTljYrlvoTjgIINCiAgICAgICAgICAgICAgcjogMTAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgZmlsbDogIiMzQjkxRkYiLCAvLyDorr7nva7lnIbngrnnmoTloavlhYXoibLvvIzov5nph4zorr7nva7kuLrnuqLoibINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5saW5lQ2hhcnQuY29udmVydFRvUGl4ZWwoImdyaWQiLCBkYXRhSXRlbSksDQogICAgICAgICAgICBpbnZpc2libGU6IHRydWUsDQogICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsDQogICAgICAgICAgICB6OiAxMDAsDQogICAgICAgICAgICBvbmRyYWc6IGVjaGFydHMudXRpbC5jdXJyeShmdW5jdGlvbiAoZGF0YUluZGV4KSB7DQogICAgICAgICAgICAgIGxldCBvcmlnaW4gPSB0aGF0LmxpbmVDaGFydC5jb252ZXJ0VG9QaXhlbCgNCiAgICAgICAgICAgICAgICAiZ3JpZCIsDQogICAgICAgICAgICAgICAgdGhhdC55UmFuZG9tTGlzdFtkYXRhSW5kZXhdDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIHRoaXMucG9zaXRpb25bMF0gPSBvcmlnaW5bMF07IC8vIOaOp+WItuavj+S4queCueS9jeWPquiDveWcqHnovbTmlrnlkJHnp7vliqgNCiAgICAgICAgICAgICAgLy8gdGhpcy5wb3NpdGlvblsxXSA9IG9yaWdpblsxXSAvLyDmjqfliLbmr4/kuKrngrnkvY3lj6rog73lnKh46L205pa55ZCR56e75YqoDQogICAgICAgICAgICAgIC8vIOWunuaXtuiOt+WPluaLluWKqOeahOeCueS9jeS/oeaBr+W5tuagueaNruatpOS/oeaBr+mHjeaWsOeUu+Wbvg0KICAgICAgICAgICAgICBsZXQgdGVtcERhdGEgPSB0aGF0LmxpbmVDaGFydC5jb252ZXJ0RnJvbVBpeGVsKA0KICAgICAgICAgICAgICAgICJncmlkIiwNCiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIGlmICh0ZW1wRGF0YVsxXSA+IHRoYXQuZm9ybS5pbmNyZWFzZSkgew0KICAgICAgICAgICAgICAgIHRlbXBEYXRhWzFdID0gdGhhdC5mb3JtLmluY3JlYXNlOw0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRlbXBEYXRhWzFdIDwgMCAtIHRoYXQuZm9ybS5kZWNsaW5lKSB7DQogICAgICAgICAgICAgICAgdGVtcERhdGFbMV0gPSAwIC0gdGhhdC5mb3JtLmRlY2xpbmU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhhdC55UmFuZG9tTGlzdFtkYXRhSW5kZXhdID0gdGVtcERhdGE7DQoNCiAgICAgICAgICAgICAgdGhhdC5saW5lQ2hhcnQuc2V0T3B0aW9uKHsNCiAgICAgICAgICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhhdC55UmFuZG9tTGlzdCwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LCBkYXRhSW5kZXgpLA0KICAgICAgICAgICAgb25kcmFnZW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgIHRoYXQua2xpbmVZUmFuZG9tTGlzdCA9IGdldEtMaW5lWVJhbmRvbUxpc3QoDQogICAgICAgICAgICAgICAgdGhhdC54VGltZVNjYWxlTGlzdCwNCiAgICAgICAgICAgICAgICB0aGF0LnlSYW5kb21MaXN0DQogICAgICAgICAgICAgICkuc2xpY2UoMCwgdGhhdC54VGltZVNjYWxlTGlzdC5sZW5ndGgpOw0KICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoYXQuS0xpbmVQZXJ2aWV3LCAzMDApOw0KICAgICAgICAgICAgICAvLyDmi5bmi73nu5PmnZ/ml7bvvIzlho3mrKHmo4Dmn6XkvY3nva7mmK/lkKbotoXlh7rojIPlm7TvvIzlpoLmnpzotoXlh7rliJnph43nva7kuLrlkIjms5XkvY3nva4NCiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gdGhhdC5saW5lQ2hhcnQuY29udmVydFRvUGl4ZWwoDQogICAgICAgICAgICAgICAgImdyaWQiLA0KICAgICAgICAgICAgICAgIHRoYXQueVJhbmRvbUxpc3RbZGF0YUluZGV4XQ0KICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICBjb25zdCB0ZW1wRGF0YSA9IHRoYXQubGluZUNoYXJ0LmNvbnZlcnRGcm9tUGl4ZWwoDQogICAgICAgICAgICAgICAgImdyaWQiLA0KICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24NCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgaWYgKHRlbXBEYXRhWzFdID4gdGhhdC5mb3JtLmluY3JlYXNlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvblsxXSA9IG9yaWdpblsxXTsNCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZW1wRGF0YVsxXSA8IDAgLSB0aGF0LmZvcm0uZGVjbGluZSkgew0KICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25bMV0gPSBvcmlnaW5bMV07DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfTsNCiAgICAgICAgfSksDQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOebkeWQrOWkp+Wwjw0KICAgICAqLw0KICAgIHJlc2l6ZSgpIHsNCiAgICAgIHRoaXMubGluZUNoYXJ0ICYmIHRoaXMubGluZUNoYXJ0LnJlc2l6ZSgpOw0KICAgICAgdGhpcy5LTGluZUNoYXJ0ICYmIHRoaXMuS0xpbmVDaGFydC5yZXNpemUoKTsNCiAgICB9LA0KICAgIGFzeW5jIGdldFN5bWJvbExpc3QoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRTeW1ib2xMaXN0QXBpKHsNCiAgICAgICAgcGFnZU51bTogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwMDAsDQogICAgICB9KTsNCiAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5zeW1ib2xMaXN0ID0gcmVzLnJvd3M7DQogICAgICAgIHRoaXMuZm9ybS5zeW1ib2wgPSB0aGlzLnN5bWJvbExpc3RbMF0uc3ltYm9sOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},null]}