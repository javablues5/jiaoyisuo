{"remainingRequest":"/Users/atk/Desktop/交易所9.27/0-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atk/Desktop/交易所9.27/0-admin/src/views/bussiness/trade-robot/list.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/atk/Desktop/交易所9.27/0-admin/src/views/bussiness/trade-robot/list.vue","mtime":1698845798000},{"path":"/Users/atk/Desktop/交易所9.27/0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atk/Desktop/交易所9.27/0-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/atk/Desktop/交易所9.27/0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atk/Desktop/交易所9.27/0-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXREYXRhTGlzdEFwaSwNCiAgZGVsZXRlRGV0YWlsQXBpLA0KfSBmcm9tICJAL2FwaS9idXNzaW5lc3MvdHJhZGUtcm9ib3QuanMiOw0KaW1wb3J0IFRpbWVGb3JtYXRlciBmcm9tICJ0aW1lLWZvcm1hdGVyIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiSW5mbyIsDQogIGRpY3RzOiBbInRfYWRkcmVzc190eXBlIl0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOmBrue9qeWxgg0KICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tg0KICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvLyDpkrHljIXlnLDlnYDmjojmnYPor6bmg4XooajmoLzmlbDmja4NCiAgICAgIGRhdGFMaXN0OiBbXSwNCiAgICAgIC8vIOafpeivouWPguaVsA0KICAgICAgcXVlcnlQYXJhbXM6IHsNCiAgICAgICAgcGFnZU51bTogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB1c2VySWQ6IG51bGwsDQogICAgICAgIGFkZHJlc3M6IG51bGwsDQogICAgICB9LA0KICAgICAgLy8g6KGo5Y2V5Y+C5pWwDQogICAgICBmb3JtOiB7fSwNCiAgICAgIC8vIOaOp+ebmOetlueVpeWIl+ihqA0KICAgICAgbW9kZWxMaXN0OiBbDQogICAgICAgIHsgdmFsdWU6IDAsIGxhYmVsOiAi6Lef6ZqP5Z6L6LaL5Yq/IiB9LA0KICAgICAgICAvLyB7IHZhbHVlOiAxLCBsYWJlbDogIuiHquWumuS5iei2i+WKvyIgfSwNCiAgICAgICAgeyB2YWx1ZTogMiwgbGFiZWw6ICLnp5LmnYDlnovotovlir8iIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBUaW1lRm9ybWF0ZXI6IFRpbWVGb3JtYXRlciwNCiAgICAvKioNCiAgICAgKiDojrflj5bnrZbnlaXlkI0NCiAgICAgKiBAcGFyYW0geyp9IHZhbA0KICAgICAqLw0KICAgIGdldE1vZGVsTmFtZSh2YWwpIHsNCiAgICAgIHJldHVybiB0aGlzLm1vZGVsTGlzdC5maW5kKChlbGVtKSA9PiBlbGVtLnZhbHVlID09IHZhbCk/LmxhYmVsIHx8ICIiOw0KICAgIH0sDQogICAgLyoqIOafpeivoumSseWMheWcsOWdgOaOiOadg+ivpuaDheWIl+ihqCAqLw0KICAgIGdldExpc3QoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0RGF0YUxpc3RBcGkodGhpcy5xdWVyeVBhcmFtcykudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgdGhpcy5kYXRhTGlzdCA9IHJlc3BvbnNlLnJvd3MubWFwKChlbGVtKSA9PiB7DQogICAgICAgICAgZWxlbS5wb3BvdmVyU2hvdyA9IGZhbHNlOw0KICAgICAgICAgIHJldHVybiBlbGVtOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOw0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g6KGo5Y2V6YeN572uDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLmZvcm0gPSB7fTsNCiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7DQogICAgfSwNCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlUXVlcnkoKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOw0KICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgfSwNCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovDQogICAgcmVzZXRRdWVyeSgpIHsNCiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsNCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsNCiAgICB9LA0KDQogICAgLyoqIOmihOiniCAqLw0KICAgIGhhbmRsZVByaXZpZXcocm93KSB7DQogICAgICByb3cucG9wb3ZlclNob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogIi9ib3QvdHJhZGUtcm9ib3QiLA0KICAgICAgICBxdWVyeTogeyBpZDogcm93LmlkLCB0eXBlOiAicHJpdmlldyIgfSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqIOS/ruaUuSAqLw0KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsNCiAgICAgIHJvdy5wb3BvdmVyU2hvdyA9IGZhbHNlOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAiL2JvdC90cmFkZS1yb2JvdCIsDQogICAgICAgIHF1ZXJ5OiB7IGlkOiByb3cuaWQsIHR5cGU6ICJ1cGRhdGUiIH0sDQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKiDliKDpmaQgKi8NCiAgICBhc3luYyBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICByb3cucG9wb3ZlclNob3cgPSBmYWxzZTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRlbGV0ZURldGFpbEFwaShyb3cuaWQpOw0KICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKHJlcy5tc2cpOw0KICAgICAgICB0aGlzLnJlc2V0UXVlcnkoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKHJlcy5tc2cpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/bussiness/trade-robot","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <SearchFormBox>\r\n      <el-form\r\n        :model=\"queryParams\"\r\n        ref=\"queryForm\"\r\n        size=\"small\"\r\n        :inline=\"true\"\r\n        v-show=\"showSearch\"\r\n        label-width=\"120px\"\r\n      >\r\n        <el-form-item label=\"交易对\" prop=\"symbol\">\r\n          <el-input\r\n            v-model=\"queryParams.symbol\"\r\n            placeholder=\"请输入交易对\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"控制粒度 (分钟)\" prop=\"granularity\">\r\n          <el-input\r\n            v-model=\"queryParams.granularity\"\r\n            placeholder=\"请选择控制粒度\"\r\n            clearable\r\n            @keyup.enter.native=\"handleQuery\"\r\n          />\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"状态\" prop=\"walletType\">\r\n          <el-select\r\n            v-model=\"queryParams.walletType\"\r\n            placeholder=\"请选择状态\"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"dict in dict.type.t_address_type\"\r\n              :key=\"dict.value\"\r\n              :label=\"dict.label\"\r\n              :value=\"dict.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item> -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            size=\"mini\"\r\n            @click=\"handleQuery\"\r\n            >搜索</el-button\r\n          >\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\"\r\n            >重置</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </SearchFormBox>\r\n    <TableContentBox>\r\n      <el-row :gutter=\"10\" class=\"mb8\">\r\n        <right-toolbar\r\n          :showSearch.sync=\"showSearch\"\r\n          @queryTable=\"getList\"\r\n        ></right-toolbar>\r\n      </el-row>\r\n\r\n      <el-table\r\n        height=\"calc(100vh - 360px)\"\r\n        border\r\n        v-loading=\"loading\"\r\n        :data=\"dataList\"\r\n      >\r\n        <el-table-column label=\"交易对\" align=\"center\" prop=\"symbol\" />\r\n        <el-table-column label=\"控盘策略\" align=\"center\" prop=\"model\">\r\n          <template slot-scope=\"scope\">\r\n            {{ getModelName(scope.row.model) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"控制粒度 (分钟)\"\r\n          align=\"center\"\r\n          prop=\"granularity\"\r\n        />\r\n        <el-table-column\r\n          label=\"浮动比例 (%)\"\r\n          align=\"center\"\r\n          prop=\"pricePencent\"\r\n        />\r\n\r\n        <el-table-column label=\"最大涨幅\" align=\"center\" prop=\"increase\" />\r\n        <el-table-column label=\"最大跌幅\" align=\"center\" prop=\"decline\" />\r\n        <el-table-column label=\"开始时间\" align=\"center\" prop=\"beginTime\">\r\n          <template slot-scope=\"scope\">\r\n            {{ TimeFormater(scope.row.beginTime).format(\"YYYY-MM-DD HH:mm\") }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"结束时间\" align=\"center\" prop=\"endTime\">\r\n          <template slot-scope=\"scope\">\r\n            {{ TimeFormater(scope.row.endTime).format(\"YYYY-MM-DD HH:mm\") }}\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column label=\"状态\" align=\"center\" prop=\"usdtMonitor\" /> -->\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          width=\"80\"\r\n          class-name=\"small-padding fixed-width\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-popover\r\n              class=\"popover-table-menu\"\r\n              placement=\"bottom\"\r\n              width=\"50\"\r\n              trigger=\"click\"\r\n              v-model=\"scope.row.popoverShow\"\r\n            >\r\n              <div class=\"popover-table-menu-btn-list\">\r\n                <el-button\r\n                  size=\"mini\"\r\n                  plain\r\n                  type=\"success\"\r\n                  v-hasPermi=\"['bussiness:trade-robot:detail']\"\r\n                  @click=\"handlePriview(scope.row)\"\r\n                >\r\n                  预览\r\n                </el-button>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  plain\r\n                  type=\"warning\"\r\n                  v-hasPermi=\"['bussiness:trade-robot:edit']\"\r\n                  @click=\"handleUpdate(scope.row)\"\r\n                >\r\n                  修改\r\n                </el-button>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  plain\r\n                  type=\"danger\"\r\n                  v-hasPermi=\"['bussiness:trade-robot:remove']\"\r\n                  @click=\"handleDelete(scope.row)\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </div>\r\n\r\n              <div class=\"menu\" slot=\"reference\">···</div>\r\n            </el-popover>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <pagination\r\n        v-show=\"total\"\r\n        :total=\"total\"\r\n        :page.sync=\"queryParams.pageNum\"\r\n        :limit.sync=\"queryParams.pageSize\"\r\n        @pagination=\"getList\"\r\n      />\r\n    </TableContentBox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDataListApi,\r\n  deleteDetailApi,\r\n} from \"@/api/bussiness/trade-robot.js\";\r\nimport TimeFormater from \"time-formater\";\r\n\r\nexport default {\r\n  name: \"Info\",\r\n  dicts: [\"t_address_type\"],\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 钱包地址授权详情表格数据\r\n      dataList: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        userId: null,\r\n        address: null,\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 控盘策略列表\r\n      modelList: [\r\n        { value: 0, label: \"跟随型趋势\" },\r\n        // { value: 1, label: \"自定义趋势\" },\r\n        { value: 2, label: \"秒杀型趋势\" },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    TimeFormater: TimeFormater,\r\n    /**\r\n     * 获取策略名\r\n     * @param {*} val\r\n     */\r\n    getModelName(val) {\r\n      return this.modelList.find((elem) => elem.value == val)?.label || \"\";\r\n    },\r\n    /** 查询钱包地址授权详情列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      getDataListApi(this.queryParams).then((response) => {\r\n        this.dataList = response.rows.map((elem) => {\r\n          elem.popoverShow = false;\r\n          return elem;\r\n        });\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {};\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n\r\n    /** 预览 */\r\n    handlePriview(row) {\r\n      row.popoverShow = false;\r\n      this.$router.push({\r\n        path: \"/bot/trade-robot\",\r\n        query: { id: row.id, type: \"priview\" },\r\n      });\r\n    },\r\n    /** 修改 */\r\n    handleUpdate(row) {\r\n      row.popoverShow = false;\r\n      this.$router.push({\r\n        path: \"/bot/trade-robot\",\r\n        query: { id: row.id, type: \"update\" },\r\n      });\r\n    },\r\n    /** 删除 */\r\n    async handleDelete(row) {\r\n      row.popoverShow = false;\r\n      const res = await deleteDetailApi(row.id);\r\n      if (res.code == 200) {\r\n        this.$modal.msgSuccess(res.msg);\r\n        this.resetQuery();\r\n      } else {\r\n        this.$modal.msgError(res.msg);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}