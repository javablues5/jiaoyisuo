{"remainingRequest":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/src/views/tool/build/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/src/views/tool/build/index.vue","mtime":1700759091827},{"path":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ying/Downloads/Telegram Desktop/javanew/echo2.0-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IGJlYXV0aWZpZXIgZnJvbSAianMtYmVhdXRpZnkiOwppbXBvcnQgQ2xpcGJvYXJkSlMgZnJvbSAiY2xpcGJvYXJkIjsKaW1wb3J0IHJlbmRlciBmcm9tICJAL3V0aWxzL2dlbmVyYXRvci9yZW5kZXIiOwppbXBvcnQgUmlnaHRQYW5lbCBmcm9tICIuL1JpZ2h0UGFuZWwiOwppbXBvcnQgewogIGlucHV0Q29tcG9uZW50cywKICBzZWxlY3RDb21wb25lbnRzLAogIGxheW91dENvbXBvbmVudHMsCiAgZm9ybUNvbmYsCn0gZnJvbSAiQC91dGlscy9nZW5lcmF0b3IvY29uZmlnIjsKaW1wb3J0IHsgYmVhdXRpZmllckNvbmYsIHRpdGxlQ2FzZSB9IGZyb20gIkAvdXRpbHMvaW5kZXgiOwppbXBvcnQgewogIG1ha2VVcEh0bWwsCiAgdnVlVGVtcGxhdGUsCiAgdnVlU2NyaXB0LAogIGNzc1N0eWxlLAp9IGZyb20gIkAvdXRpbHMvZ2VuZXJhdG9yL2h0bWwiOwppbXBvcnQgeyBtYWtlVXBKcyB9IGZyb20gIkAvdXRpbHMvZ2VuZXJhdG9yL2pzIjsKaW1wb3J0IHsgbWFrZVVwQ3NzIH0gZnJvbSAiQC91dGlscy9nZW5lcmF0b3IvY3NzIjsKaW1wb3J0IGRyYXdpbmdEZWZhdWx0IGZyb20gIkAvdXRpbHMvZ2VuZXJhdG9yL2RyYXdpbmdEZWZhdWx0IjsKaW1wb3J0IENvZGVUeXBlRGlhbG9nIGZyb20gIi4vQ29kZVR5cGVEaWFsb2ciOwppbXBvcnQgRHJhZ2dhYmxlSXRlbSBmcm9tICIuL0RyYWdnYWJsZUl0ZW0iOwoKbGV0IG9sZEFjdGl2ZUlkOwpsZXQgdGVtcEFjdGl2ZURhdGE7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlLAogICAgcmVuZGVyLAogICAgUmlnaHRQYW5lbCwKICAgIENvZGVUeXBlRGlhbG9nLAogICAgRHJhZ2dhYmxlSXRlbSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZEdsb2JhbDogMTAwLAogICAgICBmb3JtQ29uZiwKICAgICAgaW5wdXRDb21wb25lbnRzLAogICAgICBzZWxlY3RDb21wb25lbnRzLAogICAgICBsYXlvdXRDb21wb25lbnRzLAogICAgICBsYWJlbFdpZHRoOiAxMDAsCiAgICAgIGRyYXdpbmdMaXN0OiBkcmF3aW5nRGVmYXVsdCwKICAgICAgZHJhd2luZ0RhdGE6IHt9LAogICAgICBhY3RpdmVJZDogZHJhd2luZ0RlZmF1bHRbMF0uZm9ybUlkLAogICAgICBkcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZ2VuZXJhdGVDb25mOiBudWxsLAogICAgICBzaG93RmlsZU5hbWU6IGZhbHNlLAogICAgICBhY3RpdmVEYXRhOiBkcmF3aW5nRGVmYXVsdFswXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nbygpIHsKICAgICAgcmV0dXJuIGAvcGxhdGZvcm0vZGV2L2xvZ28ucG5nYDsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8g6Ziy5q2iIGZpcmVmb3gg5LiLIOaLluaLvSDkvJrmlrDmiZPljaHkuIDkuKrpgInpobnljaEKICAgIGRvY3VtZW50LmJvZHkub25kcm9wID0gKGV2ZW50KSA9PiB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgImFjdGl2ZURhdGEubGFiZWwiOiBmdW5jdGlvbiAodmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMuYWN0aXZlRGF0YS5wbGFjZWhvbGRlciA9PT0gdW5kZWZpbmVkIHx8CiAgICAgICAgIXRoaXMuYWN0aXZlRGF0YS50YWcgfHwKICAgICAgICBvbGRBY3RpdmVJZCAhPT0gdGhpcy5hY3RpdmVJZAogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyID0KICAgICAgICB0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIucmVwbGFjZShvbGRWYWwsICIiKSArIHZhbDsKICAgIH0sCiAgICBhY3RpdmVJZDogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIG9sZEFjdGl2ZUlkID0gdmFsOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGNvbnN0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygiI2NvcHlOb2RlIiwgewogICAgICB0ZXh0OiAodHJpZ2dlcikgPT4gewogICAgICAgIGNvbnN0IGNvZGVTdHIgPSB0aGlzLmdlbmVyYXRlQ29kZSgpOwogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICBtZXNzYWdlOiAi5Luj56CB5bey5aSN5Yi25Yiw5Ymq5YiH5p2/77yM5Y+v57KY6LS044CCIiwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY29kZVN0cjsKICAgICAgfSwKICAgIH0pOwogICAgY2xpcGJvYXJkLm9uKCJlcnJvciIsIChlKSA9PiB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS7o+eggeWkjeWItuWksei0pSIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhY3RpdmVGb3JtSXRlbShlbGVtZW50KSB7CiAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IGVsZW1lbnQ7CiAgICAgIHRoaXMuYWN0aXZlSWQgPSBlbGVtZW50LmZvcm1JZDsKICAgIH0sCiAgICBvbkVuZChvYmosIGEpIHsKICAgICAgaWYgKG9iai5mcm9tICE9PSBvYmoudG8pIHsKICAgICAgICB0aGlzLmFjdGl2ZURhdGEgPSB0ZW1wQWN0aXZlRGF0YTsKICAgICAgICB0aGlzLmFjdGl2ZUlkID0gdGhpcy5pZEdsb2JhbDsKICAgICAgfQogICAgfSwKICAgIGFkZENvbXBvbmVudChpdGVtKSB7CiAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5jbG9uZUNvbXBvbmVudChpdGVtKTsKICAgICAgdGhpcy5kcmF3aW5nTGlzdC5wdXNoKGNsb25lKTsKICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbShjbG9uZSk7CiAgICB9LAogICAgY2xvbmVDb21wb25lbnQob3JpZ2luKSB7CiAgICAgIGNvbnN0IGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW4pKTsKICAgICAgY2xvbmUuZm9ybUlkID0gKyt0aGlzLmlkR2xvYmFsOwogICAgICBjbG9uZS5zcGFuID0gZm9ybUNvbmYuc3BhbjsKICAgICAgY2xvbmUucmVuZGVyS2V5ID0gK25ldyBEYXRlKCk7IC8vIOaUueWPmHJlbmRlcktleeWQjuWPr+S7peWunueOsOW8uuWItuabtOaWsOe7hOS7tgogICAgICBpZiAoIWNsb25lLmxheW91dCkgY2xvbmUubGF5b3V0ID0gImNvbEZvcm1JdGVtIjsKICAgICAgaWYgKGNsb25lLmxheW91dCA9PT0gImNvbEZvcm1JdGVtIikgewogICAgICAgIGNsb25lLnZNb2RlbCA9IGBmaWVsZCR7dGhpcy5pZEdsb2JhbH1gOwogICAgICAgIGNsb25lLnBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgJiYgKGNsb25lLnBsYWNlaG9sZGVyICs9IGNsb25lLmxhYmVsKTsKICAgICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lOwogICAgICB9IGVsc2UgaWYgKGNsb25lLmxheW91dCA9PT0gInJvd0Zvcm1JdGVtIikgewogICAgICAgIGRlbGV0ZSBjbG9uZS5sYWJlbDsKICAgICAgICBjbG9uZS5jb21wb25lbnROYW1lID0gYHJvdyR7dGhpcy5pZEdsb2JhbH1gOwogICAgICAgIGNsb25lLmd1dHRlciA9IHRoaXMuZm9ybUNvbmYuZ3V0dGVyOwogICAgICAgIHRlbXBBY3RpdmVEYXRhID0gY2xvbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIHRlbXBBY3RpdmVEYXRhOwogICAgfSwKICAgIEFzc2VtYmxlRm9ybURhdGEoKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSB7CiAgICAgICAgZmllbGRzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZHJhd2luZ0xpc3QpKSwKICAgICAgICAuLi50aGlzLmZvcm1Db25mLAogICAgICB9OwogICAgfSwKICAgIGdlbmVyYXRlKGRhdGEpIHsKICAgICAgY29uc3QgZnVuYyA9IHRoaXNbYGV4ZWMke3RpdGxlQ2FzZSh0aGlzLm9wZXJhdGlvblR5cGUpfWBdOwogICAgICB0aGlzLmdlbmVyYXRlQ29uZiA9IGRhdGE7CiAgICAgIGZ1bmMgJiYgZnVuYyhkYXRhKTsKICAgIH0sCiAgICBleGVjUnVuKGRhdGEpIHsKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCk7CiAgICAgIHRoaXMuZHJhd2VyVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZXhlY0Rvd25sb2FkKGRhdGEpIHsKICAgICAgY29uc3QgY29kZVN0ciA9IHRoaXMuZ2VuZXJhdGVDb2RlKCk7CiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY29kZVN0cl0sIHsgdHlwZTogInRleHQvcGxhaW47Y2hhcnNldD11dGYtOCIgfSk7CiAgICAgIHRoaXMuJGRvd25sb2FkLnNhdmVBcyhibG9iLCBkYXRhLmZpbGVOYW1lKTsKICAgIH0sCiAgICBleGVjQ29weShkYXRhKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3B5Tm9kZSIpLmNsaWNrKCk7CiAgICB9LAogICAgZW1wdHkoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruWumuimgea4heepuuaJgOaciee7hOS7tuWQl++8nyIsICLmj5DnpLoiLCB7IHR5cGU6ICJ3YXJuaW5nIiB9KS50aGVuKAogICAgICAgICgpID0+IHsKICAgICAgICAgIHRoaXMuZHJhd2luZ0xpc3QgPSBbXTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgZHJhd2luZ0l0ZW1Db3B5KGl0ZW0sIHBhcmVudCkgewogICAgICBsZXQgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgY2xvbmUgPSB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNsb25lKTsKICAgICAgcGFyZW50LnB1c2goY2xvbmUpOwogICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKGNsb25lKTsKICAgIH0sCiAgICBjcmVhdGVJZEFuZEtleShpdGVtKSB7CiAgICAgIGl0ZW0uZm9ybUlkID0gKyt0aGlzLmlkR2xvYmFsOwogICAgICBpdGVtLnJlbmRlcktleSA9ICtuZXcgRGF0ZSgpOwogICAgICBpZiAoaXRlbS5sYXlvdXQgPT09ICJjb2xGb3JtSXRlbSIpIHsKICAgICAgICBpdGVtLnZNb2RlbCA9IGBmaWVsZCR7dGhpcy5pZEdsb2JhbH1gOwogICAgICB9IGVsc2UgaWYgKGl0ZW0ubGF5b3V0ID09PSAicm93Rm9ybUl0ZW0iKSB7CiAgICAgICAgaXRlbS5jb21wb25lbnROYW1lID0gYHJvdyR7dGhpcy5pZEdsb2JhbH1gOwogICAgICB9CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uY2hpbGRyZW4pKSB7CiAgICAgICAgaXRlbS5jaGlsZHJlbiA9IGl0ZW0uY2hpbGRyZW4ubWFwKChjaGlsZEl0ZW0pID0+CiAgICAgICAgICB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNoaWxkSXRlbSkKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiBpdGVtOwogICAgfSwKICAgIGRyYXdpbmdJdGVtRGVsZXRlKGluZGV4LCBwYXJlbnQpIHsKICAgICAgcGFyZW50LnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmRyYXdpbmdMaXN0Lmxlbmd0aDsKICAgICAgICBpZiAobGVuKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKHRoaXMuZHJhd2luZ0xpc3RbbGVuIC0gMV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVDb2RlKCkgewogICAgICBjb25zdCB7IHR5cGUgfSA9IHRoaXMuZ2VuZXJhdGVDb25mOwogICAgICB0aGlzLkFzc2VtYmxlRm9ybURhdGEoKTsKICAgICAgY29uc3Qgc2NyaXB0ID0gdnVlU2NyaXB0KG1ha2VVcEpzKHRoaXMuZm9ybURhdGEsIHR5cGUpKTsKICAgICAgY29uc3QgaHRtbCA9IHZ1ZVRlbXBsYXRlKG1ha2VVcEh0bWwodGhpcy5mb3JtRGF0YSwgdHlwZSkpOwogICAgICBjb25zdCBjc3MgPSBjc3NTdHlsZShtYWtlVXBDc3ModGhpcy5mb3JtRGF0YSkpOwogICAgICByZXR1cm4gYmVhdXRpZmllci5odG1sKGh0bWwgKyBzY3JpcHQgKyBjc3MsIGJlYXV0aWZpZXJDb25mLmh0bWwpOwogICAgfSwKICAgIGRvd25sb2FkKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IHRydWU7CiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICJkb3dubG9hZCI7CiAgICB9LAogICAgcnVuKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IGZhbHNlOwogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAicnVuIjsKICAgIH0sCiAgICBjb3B5KCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IGZhbHNlOwogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAiY29weSI7CiAgICB9LAogICAgdGFnQ2hhbmdlKG5ld1RhZykgewogICAgICBuZXdUYWcgPSB0aGlzLmNsb25lQ29tcG9uZW50KG5ld1RhZyk7CiAgICAgIG5ld1RhZy52TW9kZWwgPSB0aGlzLmFjdGl2ZURhdGEudk1vZGVsOwogICAgICBuZXdUYWcuZm9ybUlkID0gdGhpcy5hY3RpdmVJZDsKICAgICAgbmV3VGFnLnNwYW4gPSB0aGlzLmFjdGl2ZURhdGEuc3BhbjsKICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlRGF0YS50YWc7CiAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZURhdGEudGFnSWNvbjsKICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlRGF0YS5kb2N1bWVudDsKICAgICAgT2JqZWN0LmtleXMobmV3VGFnKS5mb3JFYWNoKChrZXkpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICB0aGlzLmFjdGl2ZURhdGFba2V5XSAhPT0gdW5kZWZpbmVkICYmCiAgICAgICAgICB0eXBlb2YgdGhpcy5hY3RpdmVEYXRhW2tleV0gPT09IHR5cGVvZiBuZXdUYWdba2V5XQogICAgICAgICkgewogICAgICAgICAgbmV3VGFnW2tleV0gPSB0aGlzLmFjdGl2ZURhdGFba2V5XTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmFjdGl2ZURhdGEgPSBuZXdUYWc7CiAgICAgIHRoaXMudXBkYXRlRHJhd2luZ0xpc3QobmV3VGFnLCB0aGlzLmRyYXdpbmdMaXN0KTsKICAgIH0sCiAgICB1cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIGxpc3QpIHsKICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5mb3JtSWQgPT09IHRoaXMuYWN0aXZlSWQpOwogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxLCBuZXdUYWcpOwogICAgICB9IGVsc2UgewogICAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jaGlsZHJlbikpCiAgICAgICAgICAgIHRoaXMudXBkYXRlRHJhd2luZ0xpc3QobmV3VGFnLCBpdGVtLmNoaWxkcmVuKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/tool/build","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\"><img :src=\"logo\" alt=\"logo\" /> Form Generator</div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" />输入型组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"inputComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in inputComponents\"\n              :key=\"index\"\n              class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" />选择型组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"selectComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in selectComponents\"\n              :key=\"index\"\n              class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" /> 布局型组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"layoutComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in layoutComponents\"\n              :key=\"index\"\n              class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n\n    <div class=\"center-board\">\n      <div class=\"action-bar\">\n        <el-button icon=\"el-icon-download\" type=\"text\" @click=\"download\">\n          导出vue文件\n        </el-button>\n        <el-button\n          class=\"copy-btn-main\"\n          icon=\"el-icon-document-copy\"\n          type=\"text\"\n          @click=\"copy\"\n        >\n          复制代码\n        </el-button>\n        <el-button\n          class=\"delete-btn\"\n          icon=\"el-icon-delete\"\n          type=\"text\"\n          @click=\"empty\"\n        >\n          清空\n        </el-button>\n      </div>\n      <el-scrollbar class=\"center-scrollbar\">\n        <el-row class=\"center-board-row\" :gutter=\"formConf.gutter\">\n          <el-form\n            :size=\"formConf.size\"\n            :label-position=\"formConf.labelPosition\"\n            :disabled=\"formConf.disabled\"\n            :label-width=\"formConf.labelWidth + 'px'\"\n          >\n            <draggable\n              class=\"drawing-board\"\n              :list=\"drawingList\"\n              :animation=\"340\"\n              group=\"componentsGroup\"\n            >\n              <draggable-item\n                v-for=\"(element, index) in drawingList\"\n                :key=\"element.renderKey\"\n                :drawing-list=\"drawingList\"\n                :element=\"element\"\n                :index=\"index\"\n                :active-id=\"activeId\"\n                :form-conf=\"formConf\"\n                @activeItem=\"activeFormItem\"\n                @copyItem=\"drawingItemCopy\"\n                @deleteItem=\"drawingItemDelete\"\n              />\n            </draggable>\n            <div v-show=\"!drawingList.length\" class=\"empty-info\">\n              从左侧拖入或点选组件进行表单设计\n            </div>\n          </el-form>\n        </el-row>\n      </el-scrollbar>\n    </div>\n\n    <right-panel\n      :active-data=\"activeData\"\n      :form-conf=\"formConf\"\n      :show-field=\"!!drawingList.length\"\n      @tag-change=\"tagChange\"\n    />\n\n    <code-type-dialog\n      :visible.sync=\"dialogVisible\"\n      title=\"选择生成类型\"\n      :show-file-name=\"showFileName\"\n      @confirm=\"generate\"\n    />\n    <input id=\"copyNode\" type=\"hidden\" />\n  </div>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\nimport beautifier from \"js-beautify\";\nimport ClipboardJS from \"clipboard\";\nimport render from \"@/utils/generator/render\";\nimport RightPanel from \"./RightPanel\";\nimport {\n  inputComponents,\n  selectComponents,\n  layoutComponents,\n  formConf,\n} from \"@/utils/generator/config\";\nimport { beautifierConf, titleCase } from \"@/utils/index\";\nimport {\n  makeUpHtml,\n  vueTemplate,\n  vueScript,\n  cssStyle,\n} from \"@/utils/generator/html\";\nimport { makeUpJs } from \"@/utils/generator/js\";\nimport { makeUpCss } from \"@/utils/generator/css\";\nimport drawingDefault from \"@/utils/generator/drawingDefault\";\nimport CodeTypeDialog from \"./CodeTypeDialog\";\nimport DraggableItem from \"./DraggableItem\";\n\nlet oldActiveId;\nlet tempActiveData;\n\nexport default {\n  components: {\n    draggable,\n    render,\n    RightPanel,\n    CodeTypeDialog,\n    DraggableItem,\n  },\n  data() {\n    return {\n      idGlobal: 100,\n      formConf,\n      inputComponents,\n      selectComponents,\n      layoutComponents,\n      labelWidth: 100,\n      drawingList: drawingDefault,\n      drawingData: {},\n      activeId: drawingDefault[0].formId,\n      drawerVisible: false,\n      formData: {},\n      dialogVisible: false,\n      generateConf: null,\n      showFileName: false,\n      activeData: drawingDefault[0],\n    };\n  },\n  computed: {\n    logo() {\n      return `/platform/dev/logo.png`;\n    },\n  },\n  created() {\n    // 防止 firefox 下 拖拽 会新打卡一个选项卡\n    document.body.ondrop = (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n    };\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    \"activeData.label\": function (val, oldVal) {\n      if (\n        this.activeData.placeholder === undefined ||\n        !this.activeData.tag ||\n        oldActiveId !== this.activeId\n      ) {\n        return;\n      }\n      this.activeData.placeholder =\n        this.activeData.placeholder.replace(oldVal, \"\") + val;\n    },\n    activeId: {\n      handler(val) {\n        oldActiveId = val;\n      },\n      immediate: true,\n    },\n  },\n  mounted() {\n    const clipboard = new ClipboardJS(\"#copyNode\", {\n      text: (trigger) => {\n        const codeStr = this.generateCode();\n        this.$notify({\n          title: \"成功\",\n          message: \"代码已复制到剪切板，可粘贴。\",\n          type: \"success\",\n        });\n        return codeStr;\n      },\n    });\n    clipboard.on(\"error\", (e) => {\n      this.$message.error(\"代码复制失败\");\n    });\n  },\n  methods: {\n    activeFormItem(element) {\n      this.activeData = element;\n      this.activeId = element.formId;\n    },\n    onEnd(obj, a) {\n      if (obj.from !== obj.to) {\n        this.activeData = tempActiveData;\n        this.activeId = this.idGlobal;\n      }\n    },\n    addComponent(item) {\n      const clone = this.cloneComponent(item);\n      this.drawingList.push(clone);\n      this.activeFormItem(clone);\n    },\n    cloneComponent(origin) {\n      const clone = JSON.parse(JSON.stringify(origin));\n      clone.formId = ++this.idGlobal;\n      clone.span = formConf.span;\n      clone.renderKey = +new Date(); // 改变renderKey后可以实现强制更新组件\n      if (!clone.layout) clone.layout = \"colFormItem\";\n      if (clone.layout === \"colFormItem\") {\n        clone.vModel = `field${this.idGlobal}`;\n        clone.placeholder !== undefined && (clone.placeholder += clone.label);\n        tempActiveData = clone;\n      } else if (clone.layout === \"rowFormItem\") {\n        delete clone.label;\n        clone.componentName = `row${this.idGlobal}`;\n        clone.gutter = this.formConf.gutter;\n        tempActiveData = clone;\n      }\n      return tempActiveData;\n    },\n    AssembleFormData() {\n      this.formData = {\n        fields: JSON.parse(JSON.stringify(this.drawingList)),\n        ...this.formConf,\n      };\n    },\n    generate(data) {\n      const func = this[`exec${titleCase(this.operationType)}`];\n      this.generateConf = data;\n      func && func(data);\n    },\n    execRun(data) {\n      this.AssembleFormData();\n      this.drawerVisible = true;\n    },\n    execDownload(data) {\n      const codeStr = this.generateCode();\n      const blob = new Blob([codeStr], { type: \"text/plain;charset=utf-8\" });\n      this.$download.saveAs(blob, data.fileName);\n    },\n    execCopy(data) {\n      document.getElementById(\"copyNode\").click();\n    },\n    empty() {\n      this.$confirm(\"确定要清空所有组件吗？\", \"提示\", { type: \"warning\" }).then(\n        () => {\n          this.drawingList = [];\n        }\n      );\n    },\n    drawingItemCopy(item, parent) {\n      let clone = JSON.parse(JSON.stringify(item));\n      clone = this.createIdAndKey(clone);\n      parent.push(clone);\n      this.activeFormItem(clone);\n    },\n    createIdAndKey(item) {\n      item.formId = ++this.idGlobal;\n      item.renderKey = +new Date();\n      if (item.layout === \"colFormItem\") {\n        item.vModel = `field${this.idGlobal}`;\n      } else if (item.layout === \"rowFormItem\") {\n        item.componentName = `row${this.idGlobal}`;\n      }\n      if (Array.isArray(item.children)) {\n        item.children = item.children.map((childItem) =>\n          this.createIdAndKey(childItem)\n        );\n      }\n      return item;\n    },\n    drawingItemDelete(index, parent) {\n      parent.splice(index, 1);\n      this.$nextTick(() => {\n        const len = this.drawingList.length;\n        if (len) {\n          this.activeFormItem(this.drawingList[len - 1]);\n        }\n      });\n    },\n    generateCode() {\n      const { type } = this.generateConf;\n      this.AssembleFormData();\n      const script = vueScript(makeUpJs(this.formData, type));\n      const html = vueTemplate(makeUpHtml(this.formData, type));\n      const css = cssStyle(makeUpCss(this.formData));\n      return beautifier.html(html + script + css, beautifierConf.html);\n    },\n    download() {\n      this.dialogVisible = true;\n      this.showFileName = true;\n      this.operationType = \"download\";\n    },\n    run() {\n      this.dialogVisible = true;\n      this.showFileName = false;\n      this.operationType = \"run\";\n    },\n    copy() {\n      this.dialogVisible = true;\n      this.showFileName = false;\n      this.operationType = \"copy\";\n    },\n    tagChange(newTag) {\n      newTag = this.cloneComponent(newTag);\n      newTag.vModel = this.activeData.vModel;\n      newTag.formId = this.activeId;\n      newTag.span = this.activeData.span;\n      delete this.activeData.tag;\n      delete this.activeData.tagIcon;\n      delete this.activeData.document;\n      Object.keys(newTag).forEach((key) => {\n        if (\n          this.activeData[key] !== undefined &&\n          typeof this.activeData[key] === typeof newTag[key]\n        ) {\n          newTag[key] = this.activeData[key];\n        }\n      });\n      this.activeData = newTag;\n      this.updateDrawingList(newTag, this.drawingList);\n    },\n    updateDrawingList(newTag, list) {\n      const index = list.findIndex((item) => item.formId === this.activeId);\n      if (index > -1) {\n        list.splice(index, 1, newTag);\n      } else {\n        list.forEach((item) => {\n          if (Array.isArray(item.children))\n            this.updateDrawingList(newTag, item.children);\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editor-tabs {\n  background: #121315;\n  .el-tabs__header {\n    margin: 0;\n    border-bottom-color: #121315;\n    .el-tabs__nav {\n      border-color: #121315;\n    }\n  }\n  .el-tabs__item {\n    height: 32px;\n    line-height: 32px;\n    color: #888a8e;\n    border-left: 1px solid #121315 !important;\n    background: #363636;\n    margin-right: 5px;\n    user-select: none;\n  }\n  .el-tabs__item.is-active {\n    background: #1e1e1e;\n    border-bottom-color: #1e1e1e !important;\n    color: #fff;\n  }\n  .el-icon-edit {\n    color: #f1fa8c;\n  }\n  .el-icon-document {\n    color: #a95812;\n  }\n}\n\n// home\n.right-scrollbar {\n  .el-scrollbar__view {\n    padding: 12px 18px 15px 15px;\n  }\n}\n.left-scrollbar .el-scrollbar__wrap {\n  box-sizing: border-box;\n  overflow-x: hidden !important;\n  margin-bottom: 0 !important;\n}\n.center-tabs {\n  .el-tabs__header {\n    margin-bottom: 0 !important;\n  }\n  .el-tabs__item {\n    width: 50%;\n    text-align: center;\n  }\n  .el-tabs__nav {\n    width: 100%;\n  }\n}\n.reg-item {\n  padding: 12px 6px;\n  background: #f8f8f8;\n  position: relative;\n  border-radius: 4px;\n  .close-btn {\n    position: absolute;\n    right: -6px;\n    top: -6px;\n    display: block;\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n    background: rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    color: #fff;\n    text-align: center;\n    z-index: 1;\n    cursor: pointer;\n    font-size: 12px;\n    &:hover {\n      background: rgba(210, 23, 23, 0.5);\n    }\n  }\n  & + .reg-item {\n    margin-top: 18px;\n  }\n}\n.action-bar {\n  & .el-button + .el-button {\n    margin-left: 15px;\n  }\n  & i {\n    font-size: 20px;\n    vertical-align: middle;\n    position: relative;\n    top: -1px;\n  }\n}\n\n.custom-tree-node {\n  width: 100%;\n  font-size: 14px;\n  .node-operation {\n    float: right;\n  }\n  i[class*=\"el-icon\"] + i[class*=\"el-icon\"] {\n    margin-left: 6px;\n  }\n  .el-icon-plus {\n    color: #409eff;\n  }\n  .el-icon-delete {\n    color: #157a0c;\n  }\n}\n\n.left-scrollbar .el-scrollbar__view {\n  overflow-x: hidden;\n}\n\n.el-rate {\n  display: inline-block;\n  vertical-align: text-top;\n}\n.el-upload__tip {\n  line-height: 1.2;\n}\n\n$selectedColor: #f6f7ff;\n$lighterBlue: #409eff;\n\n.container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.components-list {\n  padding: 8px;\n  box-sizing: border-box;\n  height: 100%;\n  .components-item {\n    display: inline-block;\n    width: 48%;\n    margin: 1%;\n    transition: transform 0ms !important;\n  }\n}\n.components-draggable {\n  padding-bottom: 20px;\n}\n.components-title {\n  font-size: 14px;\n  color: #222;\n  margin: 6px 2px;\n  .svg-icon {\n    color: #666;\n    font-size: 18px;\n  }\n}\n\n.components-body {\n  padding: 8px 10px;\n  background: $selectedColor;\n  font-size: 12px;\n  cursor: move;\n  border: 1px dashed $selectedColor;\n  border-radius: 3px;\n  .svg-icon {\n    color: #777;\n    font-size: 15px;\n  }\n  &:hover {\n    border: 1px dashed #787be8;\n    color: #787be8;\n    .svg-icon {\n      color: #787be8;\n    }\n  }\n}\n\n.left-board {\n  width: 260px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n}\n.left-scrollbar {\n  height: calc(100vh - 42px);\n  overflow: hidden;\n}\n.center-scrollbar {\n  height: calc(100vh - 42px);\n  overflow: hidden;\n  border-left: 1px solid #f1e8e8;\n  border-right: 1px solid #f1e8e8;\n  box-sizing: border-box;\n}\n.center-board {\n  height: 100vh;\n  width: auto;\n  margin: 0 350px 0 260px;\n  box-sizing: border-box;\n}\n.empty-info {\n  position: absolute;\n  top: 46%;\n  left: 0;\n  right: 0;\n  text-align: center;\n  font-size: 18px;\n  color: #ccb1ea;\n  letter-spacing: 4px;\n}\n.action-bar {\n  position: relative;\n  height: 42px;\n  text-align: right;\n  padding: 0 15px;\n  box-sizing: border-box;\n  border: 1px solid #f1e8e8;\n  border-top: none;\n  border-left: none;\n  .delete-btn {\n    color: #f56c6c;\n  }\n}\n.logo-wrapper {\n  position: relative;\n  height: 42px;\n  background: #fff;\n  border-bottom: 1px solid #f1e8e8;\n  box-sizing: border-box;\n}\n.logo {\n  position: absolute;\n  left: 12px;\n  top: 6px;\n  line-height: 30px;\n  color: #00afff;\n  font-weight: 600;\n  font-size: 17px;\n  white-space: nowrap;\n  > img {\n    width: 30px;\n    height: 30px;\n    vertical-align: top;\n  }\n  .github {\n    display: inline-block;\n    vertical-align: sub;\n    margin-left: 15px;\n    > img {\n      height: 22px;\n    }\n  }\n}\n\n.center-board-row {\n  padding: 12px 12px 15px 12px;\n  box-sizing: border-box;\n  & > .el-form {\n    // 69 = 12+15+42\n    height: calc(100vh - 69px);\n  }\n}\n.drawing-board {\n  height: 100%;\n  position: relative;\n  .components-body {\n    padding: 0;\n    margin: 0;\n    font-size: 0;\n  }\n  .sortable-ghost {\n    position: relative;\n    display: block;\n    overflow: hidden;\n    &::before {\n      content: \" \";\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      height: 3px;\n      background: rgb(89, 89, 223);\n      z-index: 2;\n    }\n  }\n  .components-item.sortable-ghost {\n    width: 100%;\n    height: 60px;\n    background-color: $selectedColor;\n  }\n  .active-from-item {\n    & > .el-form-item {\n      background: $selectedColor;\n      border-radius: 6px;\n    }\n    & > .drawing-item-copy,\n    & > .drawing-item-delete {\n      display: initial;\n    }\n    & > .component-name {\n      color: $lighterBlue;\n    }\n  }\n  .el-form-item {\n    margin-bottom: 15px;\n  }\n}\n.drawing-item {\n  position: relative;\n  cursor: move;\n  &.unfocus-bordered:not(.activeFromItem) > div:first-child {\n    border: 1px dashed #ccc;\n  }\n  .el-form-item {\n    padding: 12px 10px;\n  }\n}\n.drawing-row-item {\n  position: relative;\n  cursor: move;\n  box-sizing: border-box;\n  border: 1px dashed #ccc;\n  border-radius: 3px;\n  padding: 0 2px;\n  margin-bottom: 15px;\n  .drawing-row-item {\n    margin-bottom: 2px;\n  }\n  .el-col {\n    margin-top: 22px;\n  }\n  .el-form-item {\n    margin-bottom: 0;\n  }\n  .drag-wrapper {\n    min-height: 80px;\n  }\n  &.active-from-item {\n    border: 1px dashed $lighterBlue;\n  }\n  .component-name {\n    position: absolute;\n    top: 0;\n    left: 0;\n    font-size: 12px;\n    color: #bbb;\n    display: inline-block;\n    padding: 0 6px;\n  }\n}\n.drawing-item,\n.drawing-row-item {\n  &:hover {\n    & > .el-form-item {\n      background: $selectedColor;\n      border-radius: 6px;\n    }\n    & > .drawing-item-copy,\n    & > .drawing-item-delete {\n      display: initial;\n    }\n  }\n  & > .drawing-item-copy,\n  & > .drawing-item-delete {\n    display: none;\n    position: absolute;\n    top: -10px;\n    width: 22px;\n    height: 22px;\n    line-height: 22px;\n    text-align: center;\n    border-radius: 50%;\n    font-size: 12px;\n    border: 1px solid;\n    cursor: pointer;\n    z-index: 1;\n  }\n  & > .drawing-item-copy {\n    right: 56px;\n    border-color: $lighterBlue;\n    color: $lighterBlue;\n    background: #fff;\n    &:hover {\n      background: $lighterBlue;\n      color: #fff;\n    }\n  }\n  & > .drawing-item-delete {\n    right: 24px;\n    border-color: #f56c6c;\n    color: #f56c6c;\n    background: #fff;\n    &:hover {\n      background: #f56c6c;\n      color: #fff;\n    }\n  }\n}\n</style>\n"]}]}