{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2d0da715\"],{\"6c2d\":function(t,e,r){\"use strict\";r.r(e);var s=r(\"c7eb\"),i=r(\"1da1\"),o=(r(\"14d9\"),r(\"a434\"),r(\"d3b7\"),r(\"e9c4\"),r(\"e876\")),n={components:{},data:function(){return{customerForm:{list:[]},uploadUrl:__config._BASE_API+\"/common/upload/OSS\",dialogVisible:!1,dialogImageUrl:\"\"}},methods:{getCustomerForm:function(){var t=this;return Object(i.a)(Object(s.a)().mark((function e(){var r,i,n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)(\"SUPPORT_STAFF_SETTING\");case 3:if(200===(r=e.sent).code){for(i=r.data,n=0;n<i.length;n++)for(a in i[n])i[n][a]||(i[n][a]=\"\");t.customerForm.list=i}e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})))()},addBtn:function(){this.customerForm.list.push({url:\"\",imgUrl:\"\"})},delectBtn:function(t){this.customerForm.list.splice(t,1)},submitcustomerForm:function(t){var e=this;this.customerForm.list.some((function(t){return\"\"==t.url||\"\"===t.imgUrl}))?this.$message({type:\"error\",message:\"请填写完整内容\"}):this.$refs[t].validate((function(t){if(!t)return!1;try{Object(o.d)(\"SUPPORT_STAFF_SETTING\",JSON.stringify(e.customerForm.list)).then((function(t){200===t.code&&e.$message({message:\"保存成功\",type:\"success\"})}))}catch(t){}}))}},mounted:function(){this.getCustomerForm()}};r=r(\"2877\"),r=Object(r.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",{staticClass:\"app-container\"},[r(\"SearchFormBox\",{attrs:{title:t.$route.meta.title}},[r(\"el-form\",{ref:\"customerForm\",attrs:{model:t.customerForm,\"label-width\":\"100px\"}},[t._l(t.customerForm.list,(function(e,s){return r(\"el-form-item\",{key:s,attrs:{label:\"\"}},[r(\"div\",{staticStyle:{\"margin-bottom\":\"10px\",display:\"flex\",\"align-items\":\"center\"}},[t._v(\" 名称： \"),r(\"el-input\",{staticStyle:{width:\"150px\",\"margin-right\":\"10px\"},attrs:{maxlength:\"100\"},model:{value:e.name,callback:function(r){t.$set(e,\"name\",\"string\"==typeof r?r.trim():r)},expression:\"item.name\"}}),t._v(\" 图标： \"),r(\"ImageUpload\",{staticStyle:{transform:\"scale(0.7)\"},attrs:{limit:1,isShowTip:!1},model:{value:e.imgUrl,callback:function(r){t.$set(e,\"imgUrl\",r)},expression:\"item.imgUrl\"}}),t._v(\" 客服链接： \"),r(\"el-input\",{staticStyle:{width:\"150px\",\"margin-right\":\"10px\"},model:{value:e.url,callback:function(r){t.$set(e,\"url\",\"string\"==typeof r?r.trim():r)},expression:\"item.url\"}}),r(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(e){return t.delectBtn(s)}}},[t._v(\"删除\")]),r(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:0!==t.customerForm.list.length,expression:\"customerForm.list.length !== 0\"}],attrs:{type:\"success\"},on:{click:t.addBtn}},[t._v(\"添加\")])],1)])})),r(\"el-form-item\",[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.submitcustomerForm(\"customerForm\")}}},[t._v(\"保存\")]),r(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:0===t.customerForm.list.length,expression:\"customerForm.list.length === 0\"}],attrs:{type:\"success\"},on:{click:t.addBtn}},[t._v(\"添加\")])],1)],2)],1),r(\"el-dialog\",{attrs:{visible:t.dialogVisible},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[r(\"img\",{attrs:{width:\"100%\",src:t.dialogImageUrl,alt:\"\"}})])],1)}),[],!1,null,\"a4d32d6c\",null);e.default=r.exports}}]);","extractedComments":[]}