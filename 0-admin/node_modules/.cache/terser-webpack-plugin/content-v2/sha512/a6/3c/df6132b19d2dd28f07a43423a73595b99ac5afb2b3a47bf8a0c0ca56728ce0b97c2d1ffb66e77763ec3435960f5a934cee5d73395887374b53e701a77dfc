{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2727631f\"],{\"6a33\":function(e,t,r){\"use strict\";r.r(t),r(\"d3b7\"),r(\"159b\"),r(\"d81d\"),r(\"a15b\");var n=r(\"c0c7\"),u={name:\"AuthRole\",data:function(){return{loading:!0,total:0,pageNum:1,pageSize:10,roleIds:[],roles:[],form:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.userId;t&&(this.loading=!0,Object(n.j)(t).then((function(t){e.form=t.user,e.roles=t.roles,e.total=e.roles.length,e.$nextTick((function(){e.roles.forEach((function(t){t.flag&&e.$refs.table.toggleRowSelection(t)}))})),e.loading=!1})))},methods:{clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.roleIds=e.map((function(e){return e.roleId}))},getRowKey:function(e){return e.roleId},submitForm:function(){var e=this,t=this.form.userId,r=this.roleIds.join(\",\");Object(n.o)({userId:t,roleIds:r}).then((function(t){e.$modal.msgSuccess(\"授权成功\"),e.close()}))},close:function(){this.$tab.closeOpenPage({path:\"/system/user\"})}}};r=r(\"2877\"),r=Object(r.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"app-container\"},[r(\"h4\",{staticClass:\"form-header h4\"},[e._v(\"基本信息\")]),r(\"el-form\",{ref:\"form\",attrs:{model:e.form,\"label-width\":\"80px\"}},[r(\"el-row\",[r(\"el-col\",{attrs:{span:8,offset:2}},[r(\"el-form-item\",{attrs:{label:\"用户昵称\",prop:\"nickName\"}},[r(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,\"nickName\",t)},expression:\"form.nickName\"}})],1)],1),r(\"el-col\",{attrs:{span:8,offset:2}},[r(\"el-form-item\",{attrs:{label:\"登录账号\",prop:\"userName\"}},[r(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,\"userName\",t)},expression:\"form.userName\"}})],1)],1)],1)],1),r(\"h4\",{staticClass:\"form-header h4\"},[e._v(\"角色信息\")]),r(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"table\",attrs:{\"row-key\":e.getRowKey,data:e.roles.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)},on:{\"row-click\":e.clickRow,\"selection-change\":e.handleSelectionChange}},[r(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),r(\"el-table-column\",{attrs:{type:\"selection\",\"reserve-selection\":!0,width:\"55\"}}),r(\"el-table-column\",{attrs:{label:\"角色编号\",align:\"center\",prop:\"roleId\"}}),r(\"el-table-column\",{attrs:{label:\"角色名称\",align:\"center\",prop:\"roleName\"}}),r(\"el-table-column\",{attrs:{label:\"权限字符\",align:\"center\",prop:\"roleKey\"}}),r(\"el-table-column\",{attrs:{label:\"创建时间\",align:\"center\",prop:\"createTime\",width:\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),r(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total>0\"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{\"update:page\":function(t){e.pageNum=t},\"update:limit\":function(t){e.pageSize=t}}}),r(\"el-form\",{attrs:{\"label-width\":\"100px\"}},[r(\"el-form-item\",{staticStyle:{\"text-align\":\"center\",\"margin-left\":\"-120px\",\"margin-top\":\"30px\"}},[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm()}}},[e._v(\"提交\")]),r(\"el-button\",{on:{click:function(t){return e.close()}}},[e._v(\"返回\")])],1)],1)],1)}),[],!1,null,null,null);t.default=r.exports},c0c7:function(e,t,r){\"use strict\";r.d(t,\"m\",(function(){return o})),r.d(t,\"k\",(function(){return a})),r.d(t,\"b\",(function(){return s})),r.d(t,\"q\",(function(){return l})),r.d(t,\"f\",(function(){return i})),r.d(t,\"n\",(function(){return c})),r.d(t,\"e\",(function(){return d})),r.d(t,\"l\",(function(){return m})),r.d(t,\"s\",(function(){return f})),r.d(t,\"t\",(function(){return p})),r.d(t,\"u\",(function(){return b})),r.d(t,\"j\",(function(){return h})),r.d(t,\"o\",(function(){return g})),r.d(t,\"g\",(function(){return w})),r.d(t,\"h\",(function(){return y})),r.d(t,\"r\",(function(){return j})),r.d(t,\"i\",(function(){return O})),r.d(t,\"c\",(function(){return v})),r.d(t,\"d\",(function(){return k})),r.d(t,\"a\",(function(){return N})),r.d(t,\"p\",(function(){return S}));var n=r(\"b775\"),u=r(\"c38a\");function o(e){return Object(n.a)({url:\"/system/user/list\",method:\"get\",params:e})}function a(e){return Object(n.a)({url:\"/system/user/getInfo/\"+Object(u.e)(e),method:\"get\"})}function s(e){return Object(n.a)({url:\"/system/user\",method:\"post\",data:e})}function l(e){return Object(n.a)({url:\"/system/user\",method:\"put\",data:e})}function i(e){return Object(n.a)({url:\"/system/user/\"+e,method:\"delete\"})}function c(e,t){return e={userId:e,password:t},Object(n.a)({url:\"/system/user/resetPwd\",method:\"put\",data:e})}function d(e,t){return e={userId:e,status:t},Object(n.a)({url:\"/system/user/changeStatus\",method:\"put\",data:e})}function m(){return Object(n.a)({url:\"/system/user/profile\",method:\"get\"})}function f(e){return Object(n.a)({url:\"/system/user/profile\",method:\"put\",data:e})}function p(e,t){return e={oldPassword:e,newPassword:t},Object(n.a)({url:\"/system/user/profile/updatePwd\",method:\"put\",params:e})}function b(e){return Object(n.a)({url:\"/system/user/profile/avatar\",method:\"post\",data:e})}function h(e){return Object(n.a)({url:\"/system/user/authRole/\"+e,method:\"get\"})}function g(e){return Object(n.a)({url:\"/system/user/authRole\",method:\"put\",params:e})}function w(){return Object(n.a)({url:\"/system/user/deptTree\",method:\"get\"})}function y(e){return Object(n.a)({url:\"/system/user/selectAllAgentUser\",method:\"get\",params:e})}function j(e){return Object(n.a)({url:\"/bussiness/user/updateUserAppIds\",method:\"put\",params:e})}function O(e){return Object(n.a)({url:\"/bussiness/user/selectUnboundAppUser\",method:\"get\",params:e})}function v(e){return Object(n.a)({url:\"/system/user/bindingAdminUser\",method:\"get\",params:e})}function k(e){return Object(n.a)({url:\"/system/user/bindingAppUser\",method:\"get\",params:e})}function N(e){return Object(n.a)({url:\"/bussiness/user/list\",method:\"get\"})}function S(e){return Object(n.a)({url:\"/system/user/updateCode\",method:\"get\",params:e})}}}]);","extractedComments":[]}