{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-0e0592d9\"],{\"0d7e\":function(e,t,a){\"use strict\";a.r(t);var s=a(\"5530\"),n=(a(\"d81d\"),a(\"1e75\")),r={name:\"Strategy\",dicts:[\"sys_normal_disable\"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,strategyList:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:10,strategyName:null,status:null},form:{},rules:{strategyName:[{required:!0,message:\"策略名称不能为空\",trigger:\"blur\"}],compensationRate:[{required:!0,message:\"补偿比例不能为空\",trigger:\"blur\"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n.e)(this.queryParams).then((function(t){e.strategyList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,strategyName:null,strategyDesc:null,compensationRate:null,minBetAmount:null,maxBetAmount:null,targetSymbol:null,targetPeriod:null,status:1,remark:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title=\"添加补偿策略配置\"},handleUpdate:function(e){var t=this;this.reset(),e=e.id||this.ids;Object(n.d)(e).then((function(e){t.form=e.data,t.open=!0,t.title=\"修改补偿策略配置\"}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(null!=e.form.id?Object(n.f)(e.form).then((function(t){e.$modal.msgSuccess(\"修改成功\"),e.open=!1,e.getList()})):Object(n.a)(e.form).then((function(t){e.$modal.msgSuccess(\"新增成功\"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$modal.confirm('是否确认删除补偿策略配置编号为\"'+a+'\"的数据项？').then((function(){return Object(n.b)(a)})).then((function(){t.getList(),t.$modal.msgSuccess(\"删除成功\")})).catch((function(){}))},handleExport:function(){this.download(\"bussiness/compensation/strategy/export\",Object(s.a)({},this.queryParams),\"strategy_\".concat((new Date).getTime(),\".xlsx\"))}}};a=a(\"2877\"),a=Object(a.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:e.queryParams,size:\"small\",inline:!0,\"label-width\":\"68px\"}},[a(\"el-form-item\",{attrs:{label:\"策略名称\",prop:\"strategyName\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入策略名称\",clearable:\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.strategyName,callback:function(t){e.$set(e.queryParams,\"strategyName\",t)},expression:\"queryParams.strategyName\"}})],1),a(\"el-form-item\",{attrs:{label:\"状态\",prop:\"status\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择状态\",clearable:\"\"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,\"status\",t)},expression:\"queryParams.status\"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:e.handleQuery}},[e._v(\"搜索\")]),a(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:e.resetQuery}},[e._v(\"重置\")])],1)],1),a(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:add\"],expression:\"['bussiness:compensation:strategy:add']\"}],attrs:{type:\"primary\",plain:\"\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:edit\"],expression:\"['bussiness:compensation:strategy:edit']\"}],attrs:{type:\"success\",plain:\"\",icon:\"el-icon-edit\",size:\"mini\",disabled:e.single},on:{click:e.handleUpdate}},[e._v(\"修改\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:remove\"],expression:\"['bussiness:compensation:strategy:remove']\"}],attrs:{type:\"danger\",plain:\"\",icon:\"el-icon-delete\",size:\"mini\",disabled:e.multiple},on:{click:e.handleDelete}},[e._v(\"删除\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:export\"],expression:\"['bussiness:compensation:strategy:export']\"}],attrs:{type:\"warning\",plain:\"\",icon:\"el-icon-download\",size:\"mini\"},on:{click:e.handleExport}},[e._v(\"导出\")])],1),a(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{data:e.strategyList},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"策略ID\",align:\"center\",prop:\"id\"}}),a(\"el-table-column\",{attrs:{label:\"策略名称\",align:\"center\",prop:\"strategyName\"}}),a(\"el-table-column\",{attrs:{label:\"策略描述\",align:\"center\",prop:\"strategyDesc\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"补偿比例\",align:\"center\",prop:\"compensationRate\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\" \"+e._s((100*t.row.compensationRate).toFixed(2))+\"% \")]}}])}),a(\"el-table-column\",{attrs:{label:\"最小金额\",align:\"center\",prop:\"minBetAmount\"}}),a(\"el-table-column\",{attrs:{label:\"最大金额\",align:\"center\",prop:\"maxBetAmount\"}}),a(\"el-table-column\",{attrs:{label:\"目标交易对\",align:\"center\",prop:\"targetSymbol\"}}),a(\"el-table-column\",{attrs:{label:\"目标周期(秒)\",align:\"center\",prop:\"targetPeriod\"}}),a(\"el-table-column\",{attrs:{label:\"状态\",align:\"center\",prop:\"status\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"dict-tag\",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a(\"el-table-column\",{attrs:{label:\"创建时间\",align:\"center\",prop:\"createTime\",width:\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(e.parseTime(t.row.createTime,\"{y}-{m}-{d} {h}:{i}:{s}\")))])]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:edit\"],expression:\"['bussiness:compensation:strategy:edit']\"}],attrs:{size:\"mini\",type:\"text\",icon:\"el-icon-edit\"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(\"修改\")]),a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:compensation:strategy:remove\"],expression:\"['bussiness:compensation:strategy:remove']\"}],attrs:{size:\"mini\",type:\"text\",icon:\"el-icon-delete\"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(\"删除\")])]}}])})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total>0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}}),a(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"500px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"策略名称\",prop:\"strategyName\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入策略名称\"},model:{value:e.form.strategyName,callback:function(t){e.$set(e.form,\"strategyName\",t)},expression:\"form.strategyName\"}})],1),a(\"el-form-item\",{attrs:{label:\"策略描述\",prop:\"strategyDesc\"}},[a(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"请输入策略描述\"},model:{value:e.form.strategyDesc,callback:function(t){e.$set(e.form,\"strategyDesc\",t)},expression:\"form.strategyDesc\"}})],1),a(\"el-form-item\",{attrs:{label:\"补偿比例\",prop:\"compensationRate\"}},[a(\"el-input-number\",{attrs:{precision:4,step:.01,max:1,min:0,placeholder:\"请输入补偿比例(0-1)\"},model:{value:e.form.compensationRate,callback:function(t){e.$set(e.form,\"compensationRate\",t)},expression:\"form.compensationRate\"}})],1),a(\"el-form-item\",{attrs:{label:\"最小金额\",prop:\"minBetAmount\"}},[a(\"el-input-number\",{attrs:{precision:6,step:1,min:0,placeholder:\"请输入最小投注金额\"},model:{value:e.form.minBetAmount,callback:function(t){e.$set(e.form,\"minBetAmount\",t)},expression:\"form.minBetAmount\"}})],1),a(\"el-form-item\",{attrs:{label:\"最大金额\",prop:\"maxBetAmount\"}},[a(\"el-input-number\",{attrs:{precision:6,step:1,min:0,placeholder:\"请输入最大投注金额\"},model:{value:e.form.maxBetAmount,callback:function(t){e.$set(e.form,\"maxBetAmount\",t)},expression:\"form.maxBetAmount\"}})],1),a(\"el-form-item\",{attrs:{label:\"目标交易对\",prop:\"targetSymbol\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入目标交易对，为空表示全部\"},model:{value:e.form.targetSymbol,callback:function(t){e.$set(e.form,\"targetSymbol\",t)},expression:\"form.targetSymbol\"}})],1),a(\"el-form-item\",{attrs:{label:\"目标周期\",prop:\"targetPeriod\"}},[a(\"el-input-number\",{attrs:{min:1,placeholder:\"请输入目标周期(秒)，为空表示全部\"},model:{value:e.form.targetPeriod,callback:function(t){e.$set(e.form,\"targetPeriod\",t)},expression:\"form.targetPeriod\"}})],1),a(\"el-form-item\",{attrs:{label:\"状态\"}},[a(\"el-radio-group\",{model:{value:e.form.status,callback:function(t){e.$set(e.form,\"status\",t)},expression:\"form.status\"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a(\"el-radio\",{key:t.value,attrs:{label:parseInt(t.value)}},[e._v(e._s(t.label))])})),1)],1),a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"remark\"}},[a(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"请输入内容\"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,\"remark\",t)},expression:\"form.remark\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),a(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,null,null);t.default=a.exports},\"1e75\":function(e,t,a){\"use strict\";a.d(t,\"e\",(function(){return n})),a.d(t,\"d\",(function(){return r})),a.d(t,\"a\",(function(){return o})),a.d(t,\"f\",(function(){return l})),a.d(t,\"b\",(function(){return i})),a.d(t,\"c\",(function(){return m}));var s=a(\"b775\");function n(e){return Object(s.a)({url:\"/bussiness/compensation/strategy/list\",method:\"get\",params:e})}function r(e){return Object(s.a)({url:\"/bussiness/compensation/strategy/\"+e,method:\"get\"})}function o(e){return Object(s.a)({url:\"/bussiness/compensation/strategy\",method:\"post\",data:e})}function l(e){return Object(s.a)({url:\"/bussiness/compensation/strategy\",method:\"put\",data:e})}function i(e){return Object(s.a)({url:\"/bussiness/compensation/strategy/\"+e,method:\"delete\"})}function m(){return Object(s.a)({url:\"/bussiness/compensation/strategy/enabled\",method:\"get\"})}}}]);","extractedComments":[]}