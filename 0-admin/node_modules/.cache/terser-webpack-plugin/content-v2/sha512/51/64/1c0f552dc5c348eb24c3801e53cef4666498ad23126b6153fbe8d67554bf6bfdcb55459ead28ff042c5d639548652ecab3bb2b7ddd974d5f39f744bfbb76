{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2d21b85a\"],{bfaa:function(e,t,r){\"use strict\";r.r(t);var n=r(\"5530\"),l=(r(\"d81d\"),r(\"b775\"));function o(e){return Object(l.a)({url:\"/bussiness/secondContractOrder/list\",method:\"get\",params:e})}var a={name:\"Order\",dicts:[\"coin_quickly_status\",\"coin_quickly_result\",\"coin_quickly_sign\",\"coin_quickly_intervene\",\"coin_quickly_direction\"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:10,orderNo:null,symbol:null,type:null,userId:null,userAddress:null,betContent:null,openResult:null,status:null,betAmount:null,rewardAmount:null,compensationAmount:null,openPrice:null,closePrice:null,openTime:null,closeTime:null,coinSymbol:null,baseSymbol:null,sign:null,manualIntervention:null,rate:null},form:{},rules:{orderNo:[{required:!0,message:\"订单号不能为空\",trigger:\"blur\"}],symbol:[{required:!0,message:\"交易对不能为空\",trigger:\"blur\"}],type:[{required:!0,message:\"类型不能为空\",trigger:\"change\"}],userId:[{required:!0,message:\"用户ID不能为空\",trigger:\"blur\"}],userAddress:[{required:!0,message:\"用户地址不能为空\",trigger:\"blur\"}],betContent:[{required:!0,message:\"预测方向:0 涨 1跌不能为空\",trigger:\"blur\"}],status:[{required:!0,message:\"订单状态 0参与中 1已开奖 2已撤销不能为空\",trigger:\"change\"}],betAmount:[{required:!0,message:\"投注金额不能为空\",trigger:\"blur\"}],rewardAmount:[{required:!0,message:\"获奖金额不能为空\",trigger:\"blur\"}],compensationAmount:[{required:!0,message:\"赔偿金额不能为空\",trigger:\"blur\"}]}}},created:function(){this.getList()},methods:{clipboardSuccess:function(){this.$modal.msgSuccess(\"复制成功\")},sortTableFun:function(e){this.column=e.prop,e.prop&&(\"ascending\"==e.order?this.order=\"asc\":\"descending\"==e.order&&(this.order=\"desc\"),this.indexQueryListFun())},indexQueryListFun:function(){var e=this;this.queryParams.orderByColumn=\"createTime\",this.queryParams.isAsc=this.order,o(this.queryParams).then((function(t){e.rechargeList=t.rows,e.total=t.total,e.loading=!1}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.orderList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderNo:null,symbol:null,type:null,userId:null,userAddress:null,betContent:null,openResult:null,status:null,betAmount:null,rewardAmount:null,compensationAmount:null,createTime:null,openPrice:null,closePrice:null,openTime:null,closeTime:null,coinSymbol:null,baseSymbol:null,sign:null,manualIntervention:null,rate:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title=\"添加秒合约订单\"},handleUpdate:function(e){var t=this;this.reset(),e=e.id||this.ids;e=e,Object(l.a)({url:\"/bussiness/secondContractOrder/\"+e,method:\"get\"}).then((function(e){t.form=e.data,t.open=!0,t.title=\"修改秒合约订单\"}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(null!=e.form.id?(t=e.form,Object(l.a)({url:\"/bussiness/secondContractOrder\",method:\"put\",data:t}).then((function(t){e.$modal.msgSuccess(\"修改成功\"),e.open=!1,e.getList()}))):(t=e.form,Object(l.a)({url:\"/bussiness/secondContractOrder\",method:\"post\",data:t}).then((function(t){e.$modal.msgSuccess(\"新增成功\"),e.open=!1,e.getList()}))))}))},handleDelete:function(e){var t=this,r=e.id||this.ids;this.$modal.confirm('是否确认删除秒合约订单编号为\"'+r+'\"的数据项？').then((function(){return e=r,Object(l.a)({url:\"/bussiness/secondContractOrder/\"+e,method:\"delete\"});var e})).then((function(){t.getList(),t.$modal.msgSuccess(\"删除成功\")})).catch((function(){}))},handleExport:function(){this.download(\"bussiness/order/export\",Object(n.a)({},this.queryParams),\"order_\".concat((new Date).getTime(),\".xlsx\"))}}};r=r(\"2877\"),r=Object(r.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"app-container\"},[r(\"SearchFormBox\",[r(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:e.queryParams,size:\"small\",inline:!0,\"label-width\":\"68px\"}},[r(\"el-form-item\",{attrs:{label:\"用户ID\",prop:\"userId\"}},[r(\"el-input\",{attrs:{clearable:\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.userId,callback:function(t){e.$set(e.queryParams,\"userId\",t)},expression:\"queryParams.userId\"}})],1),r(\"el-form-item\",{attrs:{label:\"订单号\",prop:\"orderNo\"}},[r(\"el-input\",{attrs:{clearable:\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderNo,callback:function(t){e.$set(e.queryParams,\"orderNo\",t)},expression:\"queryParams.orderNo\"}})],1),r(\"el-form-item\",[r(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:e.handleQuery}},[e._v(\"搜索\")]),r(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:e.resetQuery}},[e._v(\"重置\")])],1)],1)],1),r(\"TableContentBox\",[r(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[r(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1),r(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{height:\"calc(100vh - 360px)\",border:\"\",\"default-sort\":{prop:\"date\",order:\"descending\"},data:e.orderList},on:{\"sort-change\":e.sortTableFun,\"selection-change\":e.handleSelectionChange}},[r(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),r(\"el-table-column\",{attrs:{label:\"用户ID\",align:\"center\",prop:\"userId\"}}),r(\"el-table-column\",{attrs:{label:\"订单号\",align:\"center\",prop:\"orderNo\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"el-link\",{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:t.row.orderNo,expression:\"scope.row.orderNo\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:e.clipboardSuccess,expression:\"clipboardSuccess\",arg:\"success\"}],attrs:{underline:!1}},[e._v(e._s(t.row.orderNo)+\" \"),r(\"i\",{staticClass:\"el-icon-copy-document\"})])]}}])}),r(\"el-table-column\",{attrs:{label:\"交易对\",align:\"center\",prop:\"symbol\"}}),r(\"el-table-column\",{attrs:{label:\"周期\",align:\"center\",prop:\"type\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"div\",[e._v(e._s(t.row.type)+\" S\")])]}}])}),r(\"el-table-column\",{attrs:{label:\"预测方向\",align:\"center\",prop:\"betContent\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"dict-tag\",{attrs:{options:e.dict.type.coin_quickly_direction,value:t.row.betContent}})]}}])}),r(\"el-table-column\",{attrs:{label:\"订单状态\",align:\"center\",prop:\"status\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"dict-tag\",{attrs:{options:e.dict.type.coin_quickly_result,value:t.row.status}})]}}])}),r(\"el-table-column\",{attrs:{label:\"开奖结果\",align:\"center\",prop:\"openResult\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"dict-tag\",{attrs:{options:e.dict.type.coin_quickly_status,value:t.row.openResult}})]}}])}),r(\"el-table-column\",{attrs:{label:\"投注金额\",align:\"center\",prop:\"betAmount\"}}),r(\"el-table-column\",{attrs:{label:\"获奖金额\",align:\"center\",prop:\"rewardAmount\"}}),r(\"el-table-column\",{attrs:{label:\"赔偿金额\",align:\"center\",prop:\"compensationAmount\"}}),r(\"el-table-column\",{attrs:{label:\"开盘价格\",align:\"center\",prop:\"openPrice\"}}),r(\"el-table-column\",{attrs:{label:\"关盘价格\",align:\"center\",prop:\"closePrice\"}}),r(\"el-table-column\",{attrs:{label:\"开盘时间\",sortable:\"\",align:\"center\",prop:\"openTime\",width:\"150px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s(e.parseTime(t.row.openTime)))])]}}])}),r(\"el-table-column\",{attrs:{label:\"关盘时间\",align:\"center\",prop:\"closeTime\",width:\"150px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s(e.parseTime(t.row.closeTime)))])]}}])}),r(\"el-table-column\",{attrs:{label:\"交易币种/结算币种\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s(t.row.coinSymbol)+\"/\"+e._s(t.row.baseSymbol))])]}}])}),r(\"el-table-column\",{attrs:{label:\"订单标记\",align:\"center\",prop:\"sign\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"dict-tag\",{attrs:{options:e.dict.type.coin_quickly_sign,value:t.row.sign}})]}}])}),r(\"el-table-column\",{attrs:{label:\"是否人工干预\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.manualIntervention?r(\"el-button\",{attrs:{type:\"success\",size:\"mini\",plain:\"\"}},[e._v(\"是\")]):1==t.row.manualIntervention?r(\"el-button\",{attrs:{type:\"info\",size:\"mini\",plain:\"\"}},[e._v(\"否\")]):e._e()]}}])}),r(\"el-table-column\",{attrs:{label:\"赔率(%)\",align:\"center\",prop:\"rate\"}}),r(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",width:\"150\",align:\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.status?r(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"secondContractOrder:order:edit\"],expression:\"['secondContractOrder:order:edit']\"}],attrs:{size:\"medium\",plain:\"\",type:\"primary\"},on:{click:function(r){return e.handleUpdate(t.row)}}},[e._v(\"输赢设置\")]):e._e()]}}])})],1),r(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total > 0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}})],1),r(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"500px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t}}},[r(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"80px\"}},[r(\"el-form-item\",{attrs:{label:\"订单标记 \",prop:\"sign\"}},[r(\"el-radio-group\",{model:{value:e.form.sign,callback:function(t){e.$set(e.form,\"sign\",t)},expression:\"form.sign\"}},[r(\"el-radio\",{attrs:{label:0}},[e._v(\"正常\")]),r(\"el-radio\",{attrs:{label:1}},[e._v(\"包赢\")]),r(\"el-radio\",{attrs:{label:2}},[e._v(\"包输\")])],1)],1)],1),r(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),r(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}