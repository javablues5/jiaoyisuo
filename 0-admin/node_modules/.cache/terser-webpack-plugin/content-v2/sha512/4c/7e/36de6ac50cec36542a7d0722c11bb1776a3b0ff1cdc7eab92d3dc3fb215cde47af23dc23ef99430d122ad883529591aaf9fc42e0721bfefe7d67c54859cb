{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2c02e63f\"],{\"471e\":function(e,t,a){\"use strict\";a.d(t,\"d\",(function(){return n})),a.d(t,\"c\",(function(){return l})),a.d(t,\"a\",(function(){return s})),a.d(t,\"e\",(function(){return o})),a.d(t,\"b\",(function(){return i}));var r=a(\"b775\");function n(e){return Object(r.a)({url:\"/bussiness/load/product/list\",method:\"get\",params:e})}function l(e){return Object(r.a)({url:\"/bussiness/load/product/\"+e,method:\"get\"})}function s(e){return Object(r.a)({url:\"/bussiness/load/product\",method:\"post\",data:e})}function o(e){return Object(r.a)({url:\"/bussiness/load/product\",method:\"put\",data:e})}function i(e){return Object(r.a)({url:\"/bussiness/load/product/\"+e,method:\"delete\"})}},\"5b90\":function(e,t,a){\"use strict\";a(\"f4f4\")},\"70a0\":function(e,t,a){\"use strict\";a.r(t);var r=a(\"5530\"),n=(a(\"d81d\"),a(\"471e\")),l={name:\"Product\",dicts:[\"t_repay_type\"],data:function(){return{isFreeze:!0,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,productList:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:10,params:{amountMin:\"\",amountMax:\"\"},cycleType:null,repayType:null,searchValue:null,odds:null,repayOrg:null,isFreeze:null},form:{},rules:{amount:[{required:!0,message:\"请输入贷款额度\",trigger:\"blur\"}],odds:[{required:!0,message:\"请输入日利率\",trigger:\"blur\"}],repayType:[{required:!0,message:\"请选择还款类型\",trigger:\"change\"}],repayOrg:[{required:!0,message:\"请输入还款机构\",trigger:\"blur\"}],cycleType:[{required:!0,message:\"请输入还款周期\",trigger:\"blur\"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n.d)(this.queryParams).then((function(t){e.productList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,amount:null,cycleType:null,repayType:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,searchValue:null,odds:null,repayOrg:null,isFreeze:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.queryParams.params.amountMin=\"\",this.queryParams.params.amountMax=\"\",this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title=\"添加借贷产品\"},handleUpdate:function(e){var t=this;this.reset(),e=e.id||this.ids;Object(n.c)(e).then((function(e){t.form=e.data,t.open=!0,t.title=\"修改借贷产品\"}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){e.form.status=1==e.form.status?1:0,t&&(null!=e.form.id?Object(n.e)(e.form).then((function(t){e.$modal.msgSuccess(\"修改成功\"),e.open=!1,e.getList()})):(e.form.isFreeze=1==e.isFreeze?0:1,Object(n.a)(e.form).then((function(t){e.$modal.msgSuccess(\"新增成功\"),e.open=!1,e.getList()}))))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$modal.confirm('是否确认删除借贷产品编号为\"'+a+'\"的数据项？').then((function(){return Object(n.b)(a)})).then((function(){t.getList(),t.$modal.msgSuccess(\"删除成功\")})).catch((function(){}))},handleExport:function(){this.download(\"bussiness/product/export\",Object(r.a)({},this.queryParams),\"product_\".concat((new Date).getTime(),\".xlsx\"))}}};a(\"5b90\"),a=a(\"2877\"),a=Object(a.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"SearchFormBox\",[a(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:e.queryParams,size:\"small\",inline:!0,\"label-width\":\"68px\"}},[a(\"el-form-item\",{attrs:{label:\"贷款额度\",prop:\"amount\"}},[a(\"el-input\",{staticClass:\"amount\",attrs:{clearable:\"\",placeholder:\"最小金额\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.params.amountMin,callback:function(t){e.$set(e.queryParams.params,\"amountMin\",t)},expression:\"queryParams.params.amountMin\"}}),a(\"span\",[e._v(\" - \")]),a(\"el-input\",{staticClass:\"amount\",attrs:{clearable:\"\",placeholder:\"最大金额\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.params.amountMax,callback:function(t){e.$set(e.queryParams.params,\"amountMax\",t)},expression:\"queryParams.params.amountMax\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:e.handleQuery}},[e._v(\"搜索\")]),a(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:e.resetQuery}},[e._v(\"重置\")])],1)],1)],1),a(\"TableContentBox\",[a(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:product:add\"],expression:\"['bussiness:product:add']\"}],attrs:{type:\"primary\",plain:\"\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),a(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{height:\"calc(100vh - 360px)\",border:\"\",data:e.productList},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"主键\",align:\"center\",prop:\"id\"}}),a(\"el-table-column\",{attrs:{label:\"最小贷款额度(USDT)\",align:\"center\",prop:\"amountMin\"}}),a(\"el-table-column\",{attrs:{label:\"最大贷款额度(USDT)\",align:\"center\",prop:\"amountMax\"}}),a(\"el-table-column\",{attrs:{label:\"周期类型\",align:\"center\",prop:\"cycleType\"}}),a(\"el-table-column\",{attrs:{label:\"还款类型\",align:\"center\",width:\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.repayType?a(\"span\",[e._v(\"到期一次还本息\")]):e._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"状态\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.status?a(\"el-button\",{attrs:{type:\"info\",size:\"mini\",plain:\"\"}},[e._v(\"未开启\")]):1==t.row.status?a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\",plain:\"\"}},[e._v(\"已开启\")]):e._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"日利率\",align:\"center\",prop:\"odds\"}}),a(\"el-table-column\",{attrs:{label:\"还款机构\",align:\"center\",prop:\"repayOrg\"}}),a(\"el-table-column\",{attrs:{label:\"是否冻结\",align:\"center\",prop:\"isFreeze\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[\"0\"==t.row.isFreeze?a(\"el-button\",{attrs:{type:\"info\",size:\"mini\",plain:\"\"}},[e._v(\"已冻结\")]):\"1\"==t.row.isFreeze?a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\",plain:\"\"}},[e._v(\"未冻结\")]):e._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"备注\",align:\"center\",prop:\"remark\"}}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-popover\",{staticClass:\"popover-table-menu\",attrs:{placement:\"bottom\",width:\"50\",trigger:\"click\"}},[a(\"div\",{staticClass:\"popover-table-menu-btn-list\"},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:product:edit\"],expression:\"['bussiness:product:edit']\"}],attrs:{plain:\"\",size:\"mini\",type:\"primary\"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(\"修改\")]),a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:product:remove\"],expression:\"['bussiness:product:remove']\"}],attrs:{plain:\"\",size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(\"删除\")])],1),a(\"div\",{staticClass:\"menu\",attrs:{slot:\"reference\"},slot:\"reference\"},[e._v(\"···\")])])]}}])})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total > 0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}})],1),a(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"500px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"最小贷款额度\",prop:\"amountMin\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入贷款额度\"},model:{value:e.form.amountMin,callback:function(t){e.$set(e.form,\"amountMin\",t)},expression:\"form.amountMin\"}})],1),a(\"el-form-item\",{attrs:{label:\"最大贷款额度\",prop:\"amountMax\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入贷款额度\"},model:{value:e.form.amountMax,callback:function(t){e.$set(e.form,\"amountMax\",t)},expression:\"form.amountMax\"}})],1),a(\"el-form-item\",{attrs:{label:\"日利率\",prop:\"odds\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入日利率\"},model:{value:e.form.odds,callback:function(t){e.$set(e.form,\"odds\",t)},expression:\"form.odds\"}})],1),a(\"el-form-item\",{attrs:{label:\"还款类型\",prop:\"repayType\"}},[a(\"el-select\",{staticStyle:{width:\"150px\",\"margin-right\":\"10px\"},model:{value:e.form.repayType,callback:function(t){e.$set(e.form,\"repayType\",t)},expression:\"form.repayType\"}},e._l(e.dict.type.t_repay_type,(function(e){return a(\"el-option\",{key:e.label,attrs:{label:e.label,value:e.raw.dictValue}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"还款机构\",prop:\"repayOrg\"}},[a(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"请输入内容\"},model:{value:e.form.repayOrg,callback:function(t){e.$set(e.form,\"repayOrg\",t)},expression:\"form.repayOrg\"}})],1),a(\"el-form-item\",{attrs:{label:\"贷款周期\",prop:\"cycleType\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入贷款周期\"},model:{value:e.form.cycleType,callback:function(t){e.$set(e.form,\"cycleType\",t)},expression:\"form.cycleType\"}})],1),a(\"el-form-item\",{attrs:{label:\"状态\",prop:\"status\"}},[a(\"el-switch\",{model:{value:e.form.status,callback:function(t){e.$set(e.form,\"status\",t)},expression:\"form.status\"}})],1),e.form.noticeId?a(\"el-form-item\",{attrs:{label:\"是否冻结\",prop:\"isFreeze\"}},[a(\"el-switch\",{attrs:{\"active-value\":\"0\",\"inactive-value\":\"1\"},model:{value:e.form.isFreeze,callback:function(t){e.$set(e.form,\"isFreeze\",t)},expression:\"form.isFreeze\"}})],1):a(\"el-form-item\",{attrs:{label:\"是否冻结\",prop:\"isFreeze\"}},[a(\"el-switch\",{attrs:{\"active-value\":!0,\"inactive-value\":!1},model:{value:e.isFreeze,callback:function(t){e.isFreeze=t},expression:\"isFreeze\"}})],1),a(\"el-form-item\",{attrs:{label:\"用户备注\",prop:\"remark\"}},[a(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"请输入内容\"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,\"remark\",t)},expression:\"form.remark\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),a(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,\"10520c6d\",null);t.default=a.exports},f4f4:function(e,t,a){}}]);","extractedComments":[]}