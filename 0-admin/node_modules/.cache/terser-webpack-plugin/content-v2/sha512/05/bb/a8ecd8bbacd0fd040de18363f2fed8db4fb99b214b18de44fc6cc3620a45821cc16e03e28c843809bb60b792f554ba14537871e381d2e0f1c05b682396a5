{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-7603ebf6\"],{\"8e4c\":function(e,t,n){\"use strict\";n.r(t);var l=n(\"5530\"),r=(n(\"4de4\"),n(\"d3b7\"),n(\"d81d\"),n(\"99af\"),n(\"a15b\"),n(\"c8e9\")),i={name:\"Currency\",data:function(){return{currentMarket:\"\",coinList:[],addCoinForm:{symbols:void 0},oneOpen:!1,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,currencyList:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:10,symbol:null,coin:null,baseCoin:null,feeRate:null,coinPrecision:null,basePrecision:null,sellMin:null,buyMax:null,orderMin:null,orderMax:null,minSell:null,enable:null,isShow:null,isDeal:null,marketBuy:null,marketSell:null,limitedBuy:null,limitedSell:null,createDate:null,updateDate:null,searchValue:null,showSymbol:null},form:{},rules:{coin:[{required:!0,message:\"交易币种不能为空\",trigger:\"blur\"}],feeRate:[{required:!0,message:\"手续费率不能为空\",trigger:\"blur\"}],orderMin:[{required:!0,message:\"最小下单量不能为空\",trigger:\"blur\"}],orderMax:[{required:!0,message:\"最大下单量不能为空\",trigger:\"blur\"}],minSell:[{required:!0,message:\"最低卖出量不能为空\",trigger:\"blur\"}]}}},created:function(){this.getList()},methods:{changeCoin:function(e){this.currentMarket=this.coinList.filter((function(t){return t.id==e}))},getCoinList:function(){var e=this;Object(r.d)().then((function(t){e.coinList=t.rows.map((function(e){return e.label=\"\".concat(e.symbol,\"-\").concat(e.market),e}))}))},getList:function(){var e=this;this.loading=!0,Object(r.e)(this.queryParams).then((function(t){e.currencyList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,symbol:null,coin:null,baseCoin:null,feeRate:null,coinPrecision:null,basePrecision:null,sellMin:null,buyMax:null,orderMin:null,orderMax:null,minSell:null,enable:null,isShow:null,isDeal:null,marketBuy:null,marketSell:null,limitedBuy:null,limitedSell:null,createBy:null,createDate:null,updateBy:null,updateDate:null,searchValue:null,showSymbol:null,currentId:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getCoinList(),this.form={id:null,symbol:null,coin:null,baseCoin:null,feeRate:null,coinPrecision:null,basePrecision:null,sellMin:null,buyMax:null,orderMin:null,orderMax:null,minSell:null,enable:\"1\",isShow:null,isDeal:null,marketBuy:null,marketSell:null,limitedBuy:null,limitedSell:null,createBy:null,createDate:null,updateBy:null,updateDate:null,searchValue:null,showSymbol:null,currentId:null},this.open=!0,this.title=\"添加币币交易币种配置\"},handleOneAdd:function(){this.getCoinList(),this.reset(),this.oneOpen=!0,this.title=\"一键新增\"},handleUpdate:function(e){this.reset(),this.form=e,this.open=!0,this.title=\"修改币币交易币种配置\"},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(null!=e.form.id?Object(r.f)(e.form).then((function(t){e.$modal.msgSuccess(\"修改成功\"),e.open=!1,e.getList()})):(e.form.market=e.currentMarket[0].market,e.form.coin=e.currentMarket[0].symbol,Object(r.a)(e.form).then((function(t){e.$modal.msgSuccess(\"新增成功\"),e.open=!1,e.getList()}))))}))},handleDelete:function(e){var t=this,n=e.id||this.ids;this.$modal.confirm('是否确认删除币币交易币种配置编号为\"'+n+'\"的数据项？').then((function(){return Object(r.c)(n)})).then((function(){t.getList(),t.$modal.msgSuccess(\"删除成功\")})).catch((function(){}))},handleExport:function(){this.download(\"bussiness/currency/export\",Object(l.a)({},this.queryParams),\"currency_\".concat((new Date).getTime(),\".xlsx\"))},bindList:function(e){e=e.map((function(e){return e.symbol.toLowerCase()})),0==e.length?this.addCoinForm.coin=\"\":1==e.length?this.addCoinForm.coin=e.join(\"\"):this.addCoinForm.coin=e.join(\",\")},addCoin:function(){var e=this;Object(r.b)({symbols:this.addCoinForm.coin}).then((function(t){e.$modal.msgSuccess(t.msg),e.getList()}))},submitOneForm:function(){this.addCoin(),this.oneOpen=!1},oneCancel:function(){this.oneOpen=!1}}};n=n(\"2877\"),n=Object(n.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"SearchFormBox\",[n(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:e.queryParams,size:\"small\",inline:!0,\"label-width\":\"80px\"}},[n(\"el-form-item\",{attrs:{label:\"交易对\",prop:\"symbol\"}},[n(\"el-input\",{attrs:{placeholder:\"请输入交易对\",clearable:\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.symbol,callback:function(t){e.$set(e.queryParams,\"symbol\",t)},expression:\"queryParams.symbol\"}})],1),n(\"el-form-item\",{attrs:{label:\"交易币种\",prop:\"coin\"}},[n(\"el-input\",{attrs:{placeholder:\"请输入交易币种\",clearable:\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.queryParams.coin,callback:function(t){e.$set(e.queryParams,\"coin\",t)},expression:\"queryParams.coin\"}})],1),n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:e.handleQuery}},[e._v(\"搜索\")]),n(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:e.resetQuery}},[e._v(\"重置\")])],1)],1)],1),n(\"TableContentBox\",[n(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[n(\"el-col\",{attrs:{span:1.5}},[n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:add\"],expression:\"['bussiness:currency:symbol:add']\"}],attrs:{type:\"primary\",plain:\"\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),n(\"el-col\",{attrs:{span:1.5}},[n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:remove\"],expression:\"['bussiness:currency:symbol:remove']\"}],attrs:{type:\"danger\",plain:\"\",size:\"mini\",disabled:e.multiple},on:{click:e.handleDelete}},[e._v(\"删除\")])],1),n(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{height:\"calc(100vh - 400px)\",border:\"\",data:e.currencyList},on:{\"selection-change\":e.handleSelectionChange}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),n(\"el-table-column\",{attrs:{type:\"index\",width:\"50\",align:\"center\"}}),n(\"el-table-column\",{attrs:{label:\"图标\",align:\"center\",prop:\"logo\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[n(\"img\",{staticStyle:{width:\"30px\"},attrs:{src:e.row.logo}})]}}])}),n(\"el-table-column\",{attrs:{label:\"交易对\",align:\"center\",prop:\"symbol\",width:\"120\"}}),n(\"el-table-column\",{attrs:{label:\"前端展示交易对\",align:\"center\",prop:\"showSymbol\",width:\"120\"}}),n(\"el-table-column\",{attrs:{label:\"交易 / 结算币种\",width:\"120\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"div\",[e._v(\" \"+e._s(t.row.coin)),n(\"span\",[e._v(\" / \")]),e._v(e._s(t.row.baseCoin)+\" \")])]}}])}),n(\"el-table-column\",{attrs:{label:\"手续费(%)\",align:\"center\",prop:\"feeRate\"}}),n(\"el-table-column\",{attrs:{label:\"最小 / 最大下单量\",width:\"90\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"div\",[e._v(\" \"+e._s(t.row.orderMin)),n(\"span\",[e._v(\" / \")]),e._v(e._s(t.row.orderMax)+\" \")])]}}])}),n(\"el-table-column\",{attrs:{label:\"最低卖出量\",width:\"90\",align:\"center\",prop:\"minSell\"}}),n(\"el-table-column\",{attrs:{label:\"启用禁用\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[1==t.row.enable?n(\"el-tag\",{attrs:{type:\"primary\",size:\"mini\",plain:\"\"}},[e._v(\"启用\")]):2==t.row.enable?n(\"el-tag\",{attrs:{type:\"info\",size:\"mini\",plain:\"\"}},[e._v(\"禁用\")]):e._e()]}}])}),n(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",width:\"150\",align:\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:query\"],expression:\"['bussiness:currency:symbol:query']\"}],attrs:{size:\"small\",type:\"pramiary\",plain:\"\"},on:{click:function(n){return e.handleUpdate(t.row)}}},[e._v(\"修改\")]),n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:remove\"],expression:\"['bussiness:currency:symbol:remove']\"}],attrs:{size:\"small\",type:\"danger\",plain:\"\"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v(\"删除\")])]}}])})],1),n(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total > 0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}})],1),n(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"700px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t}}},[n(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[n(\"div\",{staticClass:\"select\"},[n(\"el-form-item\",{attrs:{label:\"展示交易对\",prop:\"showSymbol\"}},[n(\"el-input\",{model:{value:e.form.showSymbol,callback:function(t){e.$set(e.form,\"showSymbol\",t)},expression:\"form.showSymbol\"}})],1),n(\"el-form-item\",{attrs:{label:\"币种\",prop:\"currentId\"}},[n(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{filterable:\"\",clearable:\"\"},on:{change:e.changeCoin},model:{value:e.form.currentId,callback:function(t){e.$set(e.form,\"currentId\",t)},expression:\"form.currentId\"}},e._l(e.coinList,(function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1),n(\"el-form-item\",{attrs:{label:\"手续费率\",prop:\"feeRate\"}},[n(\"el-input\",{model:{value:e.form.feeRate,callback:function(t){e.$set(e.form,\"feeRate\",t)},expression:\"form.feeRate\"}})],1),n(\"el-form-item\",{attrs:{label:\"最小下单量\",prop:\"orderMin\"}},[n(\"el-input\",{attrs:{type:\"number\"},model:{value:e.form.orderMin,callback:function(t){e.$set(e.form,\"orderMin\",t)},expression:\"form.orderMin\"}})],1),n(\"el-form-item\",{attrs:{label:\"最大下单量\",prop:\"orderMax\"}},[n(\"el-input\",{attrs:{type:\"number\"},model:{value:e.form.orderMax,callback:function(t){e.$set(e.form,\"orderMax\",t)},expression:\"form.orderMax\"}})],1),n(\"el-form-item\",{attrs:{label:\"最低卖出量\",prop:\"minSell\"}},[n(\"el-input\",{model:{value:e.form.minSell,callback:function(t){e.$set(e.form,\"minSell\",t)},expression:\"form.minSell\"}})],1)],1),n(\"el-form-item\",{attrs:{label:\"启用\",prop:\"enable\"}},[n(\"el-switch\",{attrs:{\"active-value\":\"1\",\"inactive-value\":\"2\"},model:{value:e.form.enable,callback:function(t){e.$set(e.form,\"enable\",t)},expression:\"form.enable\"}})],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:edit\"],expression:\"['bussiness:currency:symbol:edit']\"}],attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),n(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1),n(\"el-dialog\",{attrs:{title:e.title,visible:e.oneOpen,width:\"800px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.oneOpen=t}}},[n(\"el-form\",{attrs:{\"label-width\":\"80px\"}},[n(\"el-row\",{staticClass:\"row\"},[n(\"el-col\",{attrs:{span:20}},[n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{data:e.coinList},on:{\"selection-change\":e.bindList}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"50\",align:\"center\"}}),n(\"el-table-column\",{attrs:{label:\"图标\",align:\"center\",prop:\"logo\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[n(\"img\",{staticStyle:{width:\"30px\"},attrs:{src:e.row.logo}})]}}])}),n(\"el-table-column\",{key:\"symbol\",attrs:{label:\"币种名称\",align:\"center\",prop:\"symbol\"}})],1)],1)],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:currency:symbol:add\"],expression:\"['bussiness:currency:symbol:add']\"}],attrs:{type:\"primary\"},on:{click:e.submitOneForm}},[e._v(\"确 定\")]),n(\"el-button\",{on:{click:e.oneCancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,\"213f47d1\",null);t.default=n.exports},c8e9:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return r})),n.d(t,\"d\",(function(){return i})),n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return s})),n.d(t,\"f\",(function(){return o})),n.d(t,\"c\",(function(){return u}));var l=n(\"b775\");function r(e){return Object(l.a)({url:\"/bussiness/currency/symbol/list\",method:\"get\",params:e})}function i(){return Object(l.a)({url:\"/bussiness/klineSymbol/list\",method:\"get\"})}function a(e){return Object(l.a)({url:\"/bussiness/currency/symbol\",method:\"post\",data:e})}function s(e){return Object(l.a)({url:\"/bussiness/currency/symbol/addBatch/\",method:\"post\",params:e})}function o(e){return Object(l.a)({url:\"/bussiness/currency/symbol\",method:\"put\",data:e})}function u(e){return Object(l.a)({url:\"/bussiness/currency/symbol/\"+e,method:\"delete\"})}}}]);","extractedComments":[]}