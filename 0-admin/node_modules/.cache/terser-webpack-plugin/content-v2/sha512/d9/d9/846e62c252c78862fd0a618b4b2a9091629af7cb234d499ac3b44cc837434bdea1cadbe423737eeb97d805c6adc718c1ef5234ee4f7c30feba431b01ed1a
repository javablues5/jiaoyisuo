{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-69f16072\"],{\"55fe\":function(e,t,s){},6201:function(e,t,s){\"use strict\";s(\"55fe\")},7330:function(e,t,s){\"use strict\";s.r(t);var a=s(\"5530\"),r=(s(\"4de4\"),s(\"d3b7\"),s(\"d81d\"),s(\"b775\")),i=s(\"e876\"),n={name:\"UserRecharge\",data:function(){return{currentList:[],update:!1,coinList:[],loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userRechargeList:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:10,symbol:null,rechargeAdress:null,userId:null},form:{},rules:{symbol:[{required:!0,message:\"币种不能为空\",trigger:\"change\"}]}}},destroyed:function(){this.queryParams.userId=null},created:function(){var e=this;this.getList(),this.form.userId=this.$route.query.userId,Object(i.b)(\"ASSET_COIN\").then((function(t){e.coinList=t.data}))},methods:{changeCoin:function(e){this.currentList=this.coinList.filter((function(t){if(t.coinName==e)return t}))},generate:function(){var e;e={coin:this.currentList[0].coin},Object(r.a)({url:\"/bussiness/symbol/address/getAdress\",method:\"post\",data:e}).then((function(e){}))},getList:function(){var e,t=this;this.loading=!0,this.queryParams.userId=this.$route.query.userId,e=this.queryParams,Object(r.a)({url:\"/bussiness/symbol/address/list\",method:\"get\",params:e}).then((function(e){t.userRechargeList=e.rows,t.total=e.total,t.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,symbol:null,rechargeAdress:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,userId:null,address:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title=\"添加用户充值地址\"},handleUpdate:function(e){var t=this;this.reset(),e=e.id||this.ids;this.update=!0,e=e,Object(r.a)({url:\"/bussiness/symbol/address/\"+e,method:\"get\"}).then((function(e){t.form=e.data,t.open=!0,t.title=\"修改用户充值地址\"}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(null!=e.form.id?(t=e.form,Object(r.a)({url:\"/bussiness/symbol/address\",method:\"put\",data:t}).then((function(t){e.$modal.msgSuccess(\"修改成功\"),e.open=!1,e.getList(),e.update=!1}))):(t={userId:e.$route.query.userId,symbol:e.form.symbol,address:e.form.address,coin:e.currentList[0].coin},t=t,Object(r.a)({url:\"/bussiness/symbol/address\",method:\"post\",data:t}).then((function(t){e.$modal.msgSuccess(\"新增成功\"),e.open=!1,e.getList()}))))}))},handleDelete:function(e){var t=this,s=e.id||this.ids;this.$modal.confirm('是否确认删除用户充值地址编号为\"'+s+'\"的数据项？').then((function(){return e=s,Object(r.a)({url:\"/bussiness/symbol/address/\"+e,method:\"delete\"});var e})).then((function(){t.getList(),t.$modal.msgSuccess(\"删除成功\")})).catch((function(){}))},handleExport:function(){this.download(\"bussiness/userRecharge/export\",Object(a.a)({},this.queryParams),\"userRecharge_\".concat((new Date).getTime(),\".xlsx\"))}}};s(\"6201\"),s=s(\"2877\"),s=Object(s.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"app-container\"},[s(\"SearchFormBox\",[s(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:e.queryParams,size:\"small\",inline:!0,\"label-width\":\"68px\"}},[s(\"el-form-item\",{attrs:{label:\"币种名称\",prop:\"symbol\"}},[s(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{clearable:\"\"},model:{value:e.queryParams.symbol,callback:function(t){e.$set(e.queryParams,\"symbol\",t)},expression:\"queryParams.symbol\"}},e._l(e.coinList,(function(e){return s(\"el-option\",{key:e.id,attrs:{label:e.coinName,value:e.coinName}})})),1)],1),s(\"el-form-item\",[s(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:e.handleQuery}},[e._v(\"搜索\")]),s(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:e.resetQuery}},[e._v(\"重置\")])],1)],1)],1),s(\"TableContentBox\",[s(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[s(\"el-col\",{attrs:{span:1.5}},[s(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:symbol/address:add\"],expression:\"['bussiness:symbol/address:add']\"}],attrs:{type:\"primary\",plain:\"\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),s(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1),s(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{height:\"calc(100vh - 360px)\",border:\"\",data:e.userRechargeList},on:{\"selection-change\":e.handleSelectionChange}},[s(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),s(\"el-table-column\",{attrs:{label:\"币种名称\",align:\"center\",prop:\"symbol\"}}),s(\"el-table-column\",{attrs:{label:\"充值地址\",align:\"center\",prop:\"address\"}}),s(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",fixed:\"right\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[s(\"div\",{staticClass:\"btns\"},[s(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:symbol/address:edit\"],expression:\"['bussiness:symbol/address:edit']\"}],attrs:{size:\"mini\",plain:\"\",type:\"primary\"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v(\"修改\")]),s(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:symbol/address:remove\"],expression:\"['bussiness:symbol/address:remove']\"}],attrs:{size:\"mini\",plain:\"\",type:\"danger\"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v(\"删除\")])],1)]}}])})],1)],1),s(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:0<e.total,expression:\"total > 0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}}),s(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"500px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t}}},[s(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"80px\"}},[s(\"el-form-item\",{attrs:{label:\"用户ID\"}},[s(\"el-input\",{attrs:{type:\"text\",disabled:\"\"},model:{value:e.$route.query.userId,callback:function(t){e.$set(e.$route.query,\"userId\",t)},expression:\"$route.query.userId\"}})],1),e.update?e._e():s(\"el-form-item\",{attrs:{label:\"充值类型\",prop:\"symbol\"}},[s(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{clearable:\"\"},on:{change:e.changeCoin},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,\"symbol\",t)},expression:\"form.symbol\"}},e._l(e.coinList,(function(e){return s(\"el-option\",{key:e.id,attrs:{label:e.coinName,value:e.coinName}})})),1)],1),e.update?s(\"el-form-item\",{attrs:{label:\"充值类型\",prop:\"symbol\"}},[s(\"el-input\",{attrs:{type:\"text\",disabled:\"\"},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,\"symbol\",t)},expression:\"form.symbol\"}})],1):e._e(),s(\"el-form-item\",{attrs:{label:\"充值地址\",prop:\"address\"}},[s(\"el-input\",{attrs:{type:\"text\",placeholder:\"请输入内容\"},model:{value:e.form.address,callback:function(t){e.$set(e.form,\"address\",t)},expression:\"form.address\"}})],1)],1),s(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),s(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,\"5feebf58\",null);t.default=s.exports}}]);","extractedComments":[]}