{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2d0d7c95\"],{\"77fe\":function(e,t,r){\"use strict\";r.r(t),r(\"ac1f\"),r(\"00b4\"),r(\"d9e2\"),r(\"d3b7\"),r(\"25f0\"),r(\"4de4\"),r(\"e9c4\"),r(\"159b\"),r(\"14d9\");var a=r(\"e876\"),l={data:function(){return{loading:!1,whithdrawChannelList:[],open:!1,title:\"\",form:{},rules:{rechargeType:[{required:!0,message:\"提现币种不能为空\",trigger:\"blur\"},{validator:function(e,t,r){if(t&&!/^[a-z]+$/.test(t))return r(new Error(\"提现币种只能输入小写\"));r()},trigger:\"blur\"}],rechargeName:[{required:!0,message:\"展示名称不能为空\",trigger:\"blur\"}],type:[{required:!0,message:\"提现类型不能为空\",trigger:\"change\"}],withdrawalMix:[{required:!0,message:\"最小限制不能为空\",trigger:\"blur\"}],withdrawalMax:[{required:!0,message:\"最大限制不能为空\",trigger:\"blur\"}],fee:[{required:!0,message:\"固定手续费不能为空\",trigger:\"blur\"}],ratio:[{required:!0,message:\"手续费率不能为空\",trigger:\"blur\"}],dayWithdrawalNum:[{required:!0,message:\"每日提现次数不能为空\",trigger:\"blur\"}],freeNum:[{required:!0,message:\"免费提现次数不能为空\",trigger:\"blur\"}]},showTypeValue:\"\",showTypeIfndex:0,showTypeList:[\"数字货币\",\"银行卡\"]}},methods:{close:function(){this.form={},this.getList(),this.reset(),this.open=!1},handleSelectionChange:function(){},getList:function(){var e=this;this.loading=!0,Object(a.b)(\"WITHDRAWAL_CHANNEL_SETTING\").then((function(t){\"200\"==t.code&&(e.loading=!1,e.whithdrawChannelList=t.data)}))},handleChange:function(e,t){this.open=!0,this.reset(),this.title=\"修改提现通道配置\",this.form=this.whithdrawChannelList[t],this.form.index=t.toString(),this.showTypeValue=this.showTypeList[this.whithdrawChannelList[t].type]},handleAdd:function(){this.form={},this.reset(),this.open=!0,this.title=\"添加提现通道配置\"},handleDelete:function(e){var t=this,r=this.whithdrawChannelList.filter((function(t){return t.rechargeType!=e.rechargeType}));Object(a.d)(\"WITHDRAWAL_CHANNEL_SETTING\",JSON.stringify(r)).then((function(e){200===e.code&&(t.$message({message:\"删除成功\",type:\"success\"}),t.getList())}))},submitForm:function(){var e=this,t=!0;this.$refs.form.validate((function(r){r&&(null!=e.form.index?(e.whithdrawChannelList[e.form.index]=e.form,Object(a.d)(\"WITHDRAWAL_CHANNEL_SETTING\",JSON.stringify(e.whithdrawChannelList)).then((function(t){\"200\"==t.code?(e.$modal.msgSuccess(\"修改成功\"),e.reset(),e.open=!1,e.getList()):e.$modal.msgError(t.msg)}))):(e.whithdrawChannelList.forEach((function(r,a){r.rechargeName==e.form.rechargeName&&(e.$modal.msgError(\"已存在重复币种\"),t=!1)})),e.whithdrawChannelList.push(e.form),1==t&&Object(a.d)(\"WITHDRAWAL_CHANNEL_SETTING\",JSON.stringify(e.whithdrawChannelList)).then((function(t){\"200\"==t.code?(e.$modal.msgSuccess(\"新增成功\"),e.reset(),e.open=!1,e.getList()):e.$modal.msgError(t.msg)}))))}))},cancel:function(){this.open=!1},reset:function(){this.resetForm(\"form\")}},mounted:function(){this.getList()}};r=r(\"2877\"),r=Object(r.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"app-container\"},[r(\"TableContentBox\",[r(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}}),r(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{height:\"calc(100vh - 360px)\",border:\"\",data:e.whithdrawChannelList},on:{\"selection-change\":e.handleSelectionChange}},[r(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),r(\"el-table-column\",{attrs:{type:\"index\",width:\"55\",align:\"center\"}}),r(\"el-table-column\",{attrs:{label:\"展示名称\",align:\"center\",prop:\"rechargeName\"}}),r(\"el-table-column\",{attrs:{label:\"提现币种\",align:\"center\",prop:\"rechargeType\"}}),r(\"el-table-column\",{attrs:{label:\"提现状态\",align:\"center\",prop:\"status\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[\"0\"==t.row.status?r(\"el-tag\",{attrs:{type:\"info\"}},[e._v(\"关闭\")]):e._e(),\"1\"==t.row.status?r(\"el-tag\",{attrs:{type:\"primary\"}},[e._v(\"开启\")]):e._e()]}}])}),r(\"el-table-column\",{attrs:{label:\"提现类型\",align:\"center\",prop:\"type\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[\"0\"==t.row.type?r(\"p\",[e._v(\"数字货币\")]):e._e(),\"1\"==t.row.type?r(\"p\",[e._v(\"银行卡\")]):e._e()]}}])}),r(\"el-table-column\",{attrs:{label:\"提现范围\",align:\"center\",prop:\"withdrawalMix\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"p\",[e._v(e._s(t.row.withdrawalMix)+\"~\"+e._s(t.row.withdrawalMax))])]}}])}),r(\"el-table-column\",{attrs:{label:\"固定手续费\",align:\"center\",prop:\"fee\"}}),r(\"el-table-column\",{attrs:{label:\"手续费率(%)\",align:\"center\",prop:\"ratio\"}}),r(\"el-table-column\",{attrs:{label:\"次数限制(日)\",align:\"center\",prop:\"dayWithdrawalNum\"}}),r(\"el-table-column\",{attrs:{label:\"免费提现次数\",align:\"center\",prop:\"freeNum\"}}),r(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"150\",align:\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bussiness:user:edit\"],expression:\"['bussiness:user:edit']\"}],attrs:{size:\"small\",plain:\"\",type:\"primary\"},on:{click:function(r){return e.handleChange(t.row,t.$index)}}},[e._v(\"修改\")])]}}])})],1)],1),r(\"el-dialog\",{attrs:{title:e.title,visible:e.open,width:\"600px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(t){e.open=t},close:e.close}},[r(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"120px\"}},[r(\"el-form-item\",{attrs:{label:\"提现币种\",prop:\"rechargeType\"}},[null!=e.form.index?r(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.rechargeType,callback:function(t){e.$set(e.form,\"rechargeType\",t)},expression:\"form.rechargeType\"}}):r(\"el-input\",{model:{value:e.form.rechargeType,callback:function(t){e.$set(e.form,\"rechargeType\",t)},expression:\"form.rechargeType\"}})],1),r(\"el-form-item\",{attrs:{label:\"展示名称\",prop:\"rechargeName\"}},[null!=e.form.index?r(\"el-input\",{attrs:{placeholder:\"请输入展示名称\",disabled:\"\"},model:{value:e.form.rechargeName,callback:function(t){e.$set(e.form,\"rechargeName\",t)},expression:\"form.rechargeName\"}}):r(\"el-input\",{attrs:{placeholder:\"请输入展示名称\"},model:{value:e.form.rechargeName,callback:function(t){e.$set(e.form,\"rechargeName\",t)},expression:\"form.rechargeName\"}})],1),r(\"el-form-item\",{attrs:{label:\"提现状态\",prop:\"status\"}},[r(\"el-switch\",{attrs:{\"active-value\":\"1\",\"inactive-value\":\"0\"},model:{value:e.form.status,callback:function(t){e.$set(e.form,\"status\",t)},expression:\"form.status\"}})],1),r(\"el-form-item\",{attrs:{label:\"选择提现类型\",prop:\"type\"}},[null!=e.form.index?[0==e.form.type?r(\"el-input\",{attrs:{placeholder:\"请输入展示名称\",disabled:\"\"},model:{value:e.showTypeList[0],callback:function(t){e.$set(e.showTypeList,0,t)},expression:\"showTypeList[0]\"}}):e._e(),1==e.form.type?r(\"el-input\",{attrs:{placeholder:\"请输入展示名称\",disabled:\"\"},model:{value:e.showTypeList[1],callback:function(t){e.$set(e.showTypeList,1,t)},expression:\"showTypeList[1]\"}}):e._e()]:r(\"el-select\",{model:{value:e.form.type,callback:function(t){e.$set(e.form,\"type\",t)},expression:\"form.type\"}},[r(\"el-option\",{attrs:{label:\"数字货币\",value:\"0\"}}),r(\"el-option\",{attrs:{label:\"银行卡\",value:\"1\"}})],1)],2),r(\"el-form-item\",{attrs:{label:\"最小限制\",prop:\"withdrawalMix\"}},[r(\"el-input\",{attrs:{onkeyup:\"value=value.replace(/^\\\\D*(\\\\d*(?:\\\\.\\\\d{0,3})?).*$/g, '$1')\",placeholder:\"请输入最小限制金额(0.001)\"},model:{value:e.form.withdrawalMix,callback:function(t){e.$set(e.form,\"withdrawalMix\",t)},expression:\"form.withdrawalMix\"}})],1),r(\"el-form-item\",{attrs:{label:\"最大限制\",prop:\"withdrawalMax\"}},[r(\"el-input\",{attrs:{onkeyup:\"value=value.replace(/^\\\\D*(\\\\d*(?:\\\\.\\\\d{0,3})?).*$/g, '$1')\",placeholder:\"请输入最大限制金额(0.001)\"},model:{value:e.form.withdrawalMax,callback:function(t){e.$set(e.form,\"withdrawalMax\",t)},expression:\"form.withdrawalMax\"}})],1),r(\"el-form-item\",{attrs:{label:\"固定手续费\",prop:\"fee\"}},[r(\"el-input\",{attrs:{onkeyup:\"value=value.replace(/^\\\\D*(\\\\d*(?:\\\\.\\\\d{0,3})?).*$/g, '$1')\",placeholder:\"请输入固定手续费(0.001)\"},model:{value:e.form.fee,callback:function(t){e.$set(e.form,\"fee\",t)},expression:\"form.fee\"}})],1),r(\"el-form-item\",{attrs:{label:\"手续费率\",prop:\"ratio\"}},[r(\"el-input\",{attrs:{onkeyup:\"value=value.replace(/^\\\\D*(\\\\d*(?:\\\\.\\\\d{0,3})?).*$/g, '$1')\",placeholder:\"请输入手续费率(0.001)\"},model:{value:e.form.ratio,callback:function(t){e.$set(e.form,\"ratio\",t)},expression:\"form.ratio\"}})],1),r(\"el-form-item\",{attrs:{label:\"次数限制(日)\",prop:\"dayWithdrawalNum\"}},[r(\"el-input\",{attrs:{placeholder:\"请输入每日可提现次数\"},model:{value:e.form.dayWithdrawalNum,callback:function(t){e.$set(e.form,\"dayWithdrawalNum\",e._n(t))},expression:\"form.dayWithdrawalNum\"}})],1),r(\"el-form-item\",{attrs:{label:\"免费提现次数\",prop:\"freeNum\"}},[r(\"el-input\",{attrs:{placeholder:\"请输入免费提现次数\"},model:{value:e.form.freeNum,callback:function(t){e.$set(e.form,\"freeNum\",e._n(t))},expression:\"form.freeNum\"}})],1)],1),r(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),r(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)],1)}),[],!1,null,\"9855d4d4\",null);t.default=r.exports}}]);","extractedComments":[]}