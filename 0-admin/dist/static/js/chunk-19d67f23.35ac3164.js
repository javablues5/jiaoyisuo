(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-19d67f23"],{1084:function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"e",(function(){return u})),r.d(t,"l",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return a})),r.d(t,"k",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"b",(function(){return m})),r.d(t,"h",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"a",(function(){return b})),r.d(t,"j",(function(){return p}));var s=r("b775");function n(e){return Object(s.a)({url:"/bussiness/user/list",method:"get",params:e})}function u(e){return Object(s.a)({url:"/bussiness/user/"+e,method:"get"})}function o(e){return Object(s.a)({url:"/bussiness/user",method:"put",data:e})}function l(e){return Object(s.a)({url:"/bussiness/user/"+e,method:"delete"})}var a=function(e){return Object(s.a)({url:"/bussiness/asset/list",method:"get",params:e})},i=function(e){return Object(s.a)({url:"/bussiness/user/subAmount",method:"post",data:e})},c=function(e){return Object(s.a)({url:"/bussiness/user/sendBous",method:"post",data:e})},m=function(e){return Object(s.a)({url:"/bussiness/user/buff",method:"post",data:e})},d=function(e){return Object(s.a)({url:"/bussiness/user/updateLoginPwd",method:"post",data:e})},f=function(e){return Object(s.a)({url:"/bussiness/user/updateTransPwd",method:"post",data:e})},b=function(e){return Object(s.a)({url:"/bussiness/user",method:"post",data:e})},p=function(e){return Object(s.a)({url:"/bussiness/user/updateBlackStatus",method:"put",data:e})}},4401:function(e,t,r){"use strict";r.r(t);var s=r("c7eb"),n=r("1da1"),u=(r("7db0"),r("d3b7"),r("4de4"),r("14d9"),r("1084")),o={dicts:["t_asset_type"],props:{value:{type:Boolean,required:!0},user:{type:Object,default:function(){}}},watch:{user:{handler:function(){this.getAssetList()},deep:!0,immediate:!0}},data:function(){return{assetList:[],form:{},rules:{amount:[{required:!0,message:"金额不能为空",trigger:"blur"}],type:[{required:!0,message:"资产类型不能为空",trigger:"blur"}],giveType:[{required:!0,message:"彩金类型不能为空",trigger:"blur"}],symbol:[{required:!0,message:"币种不能为空",trigger:"blur"}]}}},computed:{visible:{get:function(){return this.value},set:function(e){}},hasAmount:function(){var e=this,t=this.showAssetList.find((function(t){return t.symbol==e.form.symbol}));return(null==t?void 0:t.amout)||0},showAssetList:function(){for(var e=this,t=this.assetList.filter((function(t){return t.type==e.form.type})),r=[],s=t.length-1;0<=s;s--)r.push(t[s]);return r}},mounted:function(){},methods:{getAssetList:function(){var e=this;return Object(n.a)(Object(s.a)().mark((function t(){var r,n;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=e.user)&&r.userId)return e.reset(),e.form.type=null==(r=e.dict.type.t_asset_type[0])?void 0:r.value,e.form.userId=e.user.userId,t.next=6,Object(u.d)({userId:e.user.userId,pageNum:1,pageSize:1e3});t.next=8;break;case 6:200==(r=t.sent).code&&(e.assetList=r.rows,e.form.symbol=(null==(n=e.showAssetList[0])?void 0:n.symbol)||"");case 8:case"end":return t.stop()}}),t)})))()},reset:function(){this.form={userId:null,type:null,amount:null,symbol:null,remark:null},this.resetForm("form")},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.form.userId=e.user.userId,Object(u.i)(e.form).then((function(t){200==t.code?(e.$modal.msgSuccess(t.msg),e.$emit("getDataList")):e.$modal.msgError(t.msg)})).finally((function(){e.cancel()})))}))},cancel:function(){this.$emit("input",!1),this.reset()}}};r=r("2877"),r=Object(r.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"彩金",visible:e.visible,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.visible=t},close:e.cancel}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户ID"}},[r("el-input",{attrs:{disabled:"",value:e.user.userId}})],1),r("el-form-item",{attrs:{label:"账号"}},[r("el-input",{attrs:{disabled:"",value:e.user.loginName}})],1),r("el-form-item",{attrs:{label:"彩金类型",prop:"giveType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择彩金类型"},model:{value:e.form.giveType,callback:function(t){e.$set(e.form,"giveType",t)},expression:"form.giveType"}},[r("el-option",{attrs:{label:"赠送",value:"0"}}),r("el-option",{attrs:{label:"扣减",value:"1"}})],1)],1),r("el-form-item",{attrs:{label:"资产类型",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择资产类型",clearable:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.dict.type.t_asset_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"币种",prop:"symbol"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择币种",clearable:""},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}},e._l(e.showAssetList,(function(e){return r("el-option",{key:e.symbol,attrs:{label:e.symbol,value:e.symbol}})})),1)],1),r("el-form-item",{attrs:{label:"现有金额"}},[r("el-input",{attrs:{disabled:"",value:e.hasAmount}})],1),r("el-form-item",{attrs:{label:"金额",prop:"amount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入金额"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),r("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)}),[],!1,null,null,null);t.default=r.exports}}]);