(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-874b40f8"],{"3e3f":function(e,t,s){"use strict";s.r(t);var r=s("c7eb"),a=s("1da1"),l=s("b775");function n(e){return Object(l.a)({url:"/bussiness/info/"+e,method:"get"})}function o(e){return Object(l.a)({url:"/bussiness/info",method:"put",data:e})}var i={name:"Info",dicts:["t_address_type"],data:function(){return{loading:!0,showSearch:!0,total:0,infoList:[],title:"",defiTitle:"",open:!1,defiOpen:!1,queryParams:{pageNum:1,pageSize:10,userId:null,address:null,walletType:null},form:{},rules:{usdtMonitor:[{required:!0,message:"监控额度不能为空",trigger:"blur"}]},defiForm:{},defiFormRules:{}}},created:function(){this.getList()},methods:{clipboardSuccess:function(){this.$modal.msgSuccess("复制成功")},refresh:function(e){var t=this;return Object(a.a)(Object(r.a)().mark((function s(){var a;return Object(r.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r={userId:e.userId,address:e.address},Object(l.a)({url:"/bussiness/info/refresh",method:"post",data:r});case 2:200==(a=s.sent).code?(t.$modal.msgSuccess(a.msg),t.getList()):t.$modal.msgError(a.msg);case 4:case"end":return s.stop()}var r}),s)})))()},collection:function(e){var t=this;return Object(a.a)(Object(r.a)().mark((function s(){var a;return Object(r.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r={userId:e.userId,address:e.address},Object(l.a)({url:"/bussiness/info/collection",method:"post",data:r});case 2:200==(a=s.sent).code?(t.$modal.msgSuccess(a.msg),t.getList()):t.$modal.msgError(a.msg);case 4:case"end":return s.stop()}var r}),s)})))()},getList:function(){var e,t=this;this.loading=!0,e=this.queryParams,Object(l.a)({url:"/bussiness/info/list",method:"get",params:e}).then((function(e){t.infoList=e.rows,t.total=e.total,t.loading=!1}))},cancel:function(){this.open=!1,this.defiOpen=!1,this.reset()},reset:function(){this.form={userId:null,address:null,walletType:null,usdtAllowed:null,usdt:null,eth:null,btc:null,allowedNotice:null,usdtMonitor:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,searchValue:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleUpdate:function(e){var t=this;this.reset(),n(e.userId||this.ids).then((function(e){t.form=e.data,t.open=!0,t.title="修改监控额度"}))},UpdateDefi:function(e){var t=this;this.reset(),n(e.userId||this.ids).then((function(e){t.defiForm=e.data,t.defiOpen=!0,t.defiTitle="DEFI假分"}))},submitDefiForm:function(){var e=this;this.$refs.defiForm.validate((function(t){t&&null!=e.defiForm.userId&&o(e.defiForm).then((function(t){e.$modal.msgSuccess("修改成功"),e.defiOpen=!1,e.getList()}))}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(null!=e.form.userId?o(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):(t=e.form,Object(l.a)({url:"/bussiness/info",method:"post",data:t}).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))}}};s("5650"),s=s("2877"),s=Object(s.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("SearchFormBox",[s("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[s("el-input",{attrs:{placeholder:"请输入用户ID",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userId,callback:function(t){e.$set(e.queryParams,"userId",t)},expression:"queryParams.userId"}})],1),s("el-form-item",{attrs:{label:"地址",prop:"address"}},[s("el-input",{attrs:{placeholder:"请输入地址",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.address,callback:function(t){e.$set(e.queryParams,"address",t)},expression:"queryParams.address"}})],1),s("el-form-item",{attrs:{label:"地址类型",prop:"walletType"}},[s("el-select",{attrs:{placeholder:"请选择地址类型",clearable:""},model:{value:e.queryParams.walletType,callback:function(t){e.$set(e.queryParams,"walletType",t)},expression:"queryParams.walletType"}},e._l(e.dict.type.t_address_type,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),s("TableContentBox",[s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{height:"calc(100vh - 360px)",border:"",data:e.infoList}},[s("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),s("el-table-column",{attrs:{label:"地址",align:"center",prop:"address"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.address?s("div",[s("el-link",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.row.address,expression:"scope.row.address"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{underline:!1}},[e._v(" "+e._s(t.row.address&&t.row.address.substr(0,4)+"******"+t.row.address.substr(-4))+" "),s("i",{staticClass:"el-icon-copy-document"})])],1):s("div",[e._v("无地址")])]}}])}),s("el-table-column",{attrs:{label:"地址类型",align:"center",prop:"walletType"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("dict-tag",{attrs:{options:e.dict.type.t_address_type,value:t.row.walletType}})]}}])}),s("el-table-column",{attrs:{label:"授权USDT金额上限",align:"center",prop:"usdtAllowed"}}),s("el-table-column",{attrs:{label:"钱包U余额",align:"center",prop:"usdt"}}),s("el-table-column",{attrs:{label:"钱包ETH余额",align:"center",prop:"eth"}}),s("el-table-column",{attrs:{label:"钱包TRX余额",align:"center",prop:"trx"}}),s("el-table-column",{attrs:{label:"监控额度",align:"center",prop:"usdtMonitor"}}),s("el-table-column",{attrs:{label:"defi授权假分",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.status?s("span",[e._v(" 是")]):"N"==t.row.status?s("span",[e._v(" 否")]):e._e()]}}])}),s("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"btns"},[s("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(s){return e.refresh(t.row)}}},[e._v(" 刷新 ")]),s("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:info:edit"],expression:"['bussiness:info:edit']"}],attrs:{size:"small",plain:"",type:"warning"},on:{click:function(s){return e.collection(t.row)}}},[e._v(" 归集 ")]),s("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:info:edit"],expression:"['bussiness:info:edit']"}],attrs:{size:"small",plain:"",type:"danger"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v(" 监控额度 ")]),s("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:info:edit"],expression:"['bussiness:info:edit']"}],attrs:{size:"small",plain:"",type:"primary"},on:{click:function(s){return e.UpdateDefi(t.row)}}},[e._v(" defi授权假分 ")])],1)]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total,expression:"total"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"监控额度",prop:"usdtMonitor"}},[s("el-input",{attrs:{type:"number",placeholder:"请输入监控额度"},model:{value:e.form.usdtMonitor,callback:function(t){e.$set(e.form,"usdtMonitor",t)},expression:"form.usdtMonitor"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),s("el-dialog",{attrs:{title:e.defiTitle,visible:e.defiOpen,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.defiOpen=t}}},[s("el-form",{ref:"defiForm",attrs:{model:e.defiForm,rules:e.defiFormRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"钱包余额",prop:"usdt"}},[s("el-input",{attrs:{type:"number"},model:{value:e.defiForm.usdt,callback:function(t){e.$set(e.defiForm,"usdt",t)},expression:"defiForm.usdt"}})],1),s("el-form-item",{attrs:{label:"授权",prop:"usdtAllowed"}},[s("el-input",{attrs:{type:"number"},model:{value:e.defiForm.usdtAllowed,callback:function(t){e.$set(e.defiForm,"usdtAllowed",t)},expression:"defiForm.usdtAllowed"}})],1),s("el-form-item",{attrs:{label:"DEFI假分",prop:"status"}},[s("el-select",{staticStyle:{width:"100%","margin-right":"10px"},model:{value:e.defiForm.status,callback:function(t){e.$set(e.defiForm,"status",t)},expression:"defiForm.status"}},[s("el-option",{attrs:{label:"是",value:"Y"}}),s("el-option",{attrs:{label:"否",value:"N"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitDefiForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)}),[],!1,null,"6b66eac1",null);t.default=s.exports},5650:function(e,t,s){"use strict";s("d819")},d819:function(e,t,s){}}]);