(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-361a6df8"],{3876:function(e,t){function r(e){if(!(this instanceof r))return new r(e);this[0]=e?new Date(e):new Date}const n=["","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],a=["日","一","二","三","四","五","六"],s={d:864e5,H:36e5,m:6e4,s:1e3,S:1};r.prototype={format(e){return"string"!=typeof e?this.toLocaleString():e.replace(/Y{4}|M{1,4}|Do|D{1,2}|d{1,4}|Q|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|A|a|x|X/g,e=>this[e]?this[e]():e)},fromNow(){var e=this[0].getTime(),t=Date.now();t=Math.floor(t-e);return t<1e4?"刚刚":t<6e4?parseInt(t/1e3)+"秒前":t<36e5?parseInt(t/6e4)+"分钟前":t<864e5?parseInt(t/36e5)+"小时前":t<2592e6?parseInt(t/864e5)+"天前":t<31104e6?parseInt(t/2592e6)+"月前":parseInt(t/31104e6)+"年前"},fillZero(e){return e<10?"0"+e:e},YYYY(){return this[0].getFullYear()},Q(){return Math.ceil(this.M()/3)},M(){return this[0].getMonth()+1},MM(){return this.fillZero(this.M())},MMM(){return this.M()+"月"},MMMM(){return n[this.M()]},D(){return this[0].getDate()},Do(){return this.D()+"日"},DD(){return this.fillZero(this.D())},d(){return this[0].getDay()},dd(){return a[this.d()]},ddd(){return"周"+this.dd()},dddd(){return"星期"+this.dd()},H(){return this[0].getHours()},HH(){return this.fillZero(this.H())},h(){return this.H()%12||12},hh(){return this.fillZero(this.h())},m(){return this[0].getMinutes()},mm(){return this.fillZero(this.m())},s(){return this[0].getSeconds()},ss(){return this.fillZero(this.s())},SSS(){return this[0].getMilliseconds()},SS(){return Math.floor(this.SSS()/10)},S(){return Math.floor(this.SS()/10)},A(){let e=100*this.H()+this.m();return["凌晨","早上","上午","中午","下午","晚上"][[600,900,1130,1230,1800,1/0].findIndex((function(t){return e<t}))]},a(){return this.A()},x(){return this[0].getTime()},X(){return Math.floor(this.x()/1e3)}},r.countdown=function(e){let t=0;return"number"==typeof e?t=1e3*e+Date.now():"string"==typeof e?t=new Date(e).getTime():e instanceof Date&&(t=e.getTime()),{format:function(e){var r=Date.now();let n=t-r;return n=Math.max(0,n),e.replace(/(?:#(\d+))?([dHmsS])/g,(function(e,t,r){if(s[r]){var a=n;n%=s[r];let e=parseInt(a/s[r]).toString();return e=t&&e.length<t?new Array(t-e.length).fill(0).join("")+e:e}return r}))}}},e.exports=r},de58:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"f",(function(){return u}));var n=r("b775");function a(){return Object(n.a)({url:"/bussiness/model/symbolList",method:"post"})}function s(e){return Object(n.a)({url:"/bussiness/model",method:"post",data:e})}function o(e){return Object(n.a)({url:"/bussiness/model/list",method:"get",params:e})}function i(e){return Object(n.a)({url:"/bussiness/model/".concat(e),method:"get"})}function l(e){return Object(n.a)({url:"/bussiness/model/".concat(e),method:"delete"})}function u(e){return Object(n.a)({url:"/bussiness/model",method:"put",data:e})}},e0cf:function(e,t,r){"use strict";r.r(t);var n=r("c7eb"),a=r("1da1"),s=(r("7db0"),r("d3b7"),r("d81d"),r("14d9"),r("de58")),o=r("3876");o={name:"Info",dicts:["t_address_type"],data:function(){return{loading:!0,showSearch:!0,total:0,dataList:[],queryParams:{pageNum:1,pageSize:10,userId:null,address:null},form:{},modelList:[{value:0,label:"跟随型趋势"},{value:2,label:"秒杀型趋势"}]}},created:function(){this.getList()},methods:{TimeFormater:r.n(o).a,getModelName:function(e){var t;return(null==(t=this.modelList.find((function(t){return t.value==e})))?void 0:t.label)||""},getList:function(){var e=this;this.loading=!0,Object(s.b)(this.queryParams).then((function(t){e.dataList=t.rows.map((function(e){return e.popoverShow=!1,e})),e.total=t.total,e.loading=!1}))},reset:function(){this.form={},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handlePriview:function(e){e.popoverShow=!1,this.$router.push({path:"/bot/trade-robot",query:{id:e.id,type:"priview"}})},handleUpdate:function(e){e.popoverShow=!1,this.$router.push({path:"/bot/trade-robot",query:{id:e.id,type:"update"}})},handleDelete:function(e){var t=this;return Object(a.a)(Object(n.a)().mark((function r(){var a;return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.popoverShow=!1,r.next=3,Object(s.a)(e.id);case 3:200==(a=r.sent).code?(t.$modal.msgSuccess(a.msg),t.resetQuery()):t.$modal.msgError(a.msg);case 5:case"end":return r.stop()}}),r)})))()}}},r=r("2877"),r=Object(r.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("SearchFormBox",[r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"交易对",prop:"symbol"}},[r("el-input",{attrs:{placeholder:"请输入交易对",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.symbol,callback:function(t){e.$set(e.queryParams,"symbol",t)},expression:"queryParams.symbol"}})],1),r("el-form-item",{attrs:{label:"控制粒度 (分钟)",prop:"granularity"}},[r("el-input",{attrs:{placeholder:"请选择控制粒度",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.granularity,callback:function(t){e.$set(e.queryParams,"granularity",t)},expression:"queryParams.granularity"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),r("TableContentBox",[r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{height:"calc(100vh - 360px)",border:"",data:e.dataList}},[r("el-table-column",{attrs:{label:"交易对",align:"center",prop:"symbol"}}),r("el-table-column",{attrs:{label:"控盘策略",align:"center",prop:"model"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getModelName(t.row.model))+" ")]}}])}),r("el-table-column",{attrs:{label:"控制粒度 (分钟)",align:"center",prop:"granularity"}}),r("el-table-column",{attrs:{label:"浮动比例 (%)",align:"center",prop:"pricePencent"}}),r("el-table-column",{attrs:{label:"最大涨幅",align:"center",prop:"increase"}}),r("el-table-column",{attrs:{label:"最大跌幅",align:"center",prop:"decline"}}),r("el-table-column",{attrs:{label:"开始时间",align:"center",prop:"beginTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.TimeFormater(t.row.beginTime).format("YYYY-MM-DD HH:mm"))+" ")]}}])}),r("el-table-column",{attrs:{label:"结束时间",align:"center",prop:"endTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.TimeFormater(t.row.endTime).format("YYYY-MM-DD HH:mm"))+" ")]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"80","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{staticClass:"popover-table-menu",attrs:{placement:"bottom",width:"50",trigger:"click"},model:{value:t.row.popoverShow,callback:function(r){e.$set(t.row,"popoverShow",r)},expression:"scope.row.popoverShow"}},[r("div",{staticClass:"popover-table-menu-btn-list"},[r("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:trade-robot:detail"],expression:"['bussiness:trade-robot:detail']"}],attrs:{size:"mini",plain:"",type:"success"},on:{click:function(r){return e.handlePriview(t.row)}}},[e._v(" 预览 ")]),r("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:trade-robot:edit"],expression:"['bussiness:trade-robot:edit']"}],attrs:{size:"mini",plain:"",type:"warning"},on:{click:function(r){return e.handleUpdate(t.row)}}},[e._v(" 修改 ")]),r("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:trade-robot:remove"],expression:"['bussiness:trade-robot:remove']"}],attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])],1),r("div",{staticClass:"menu",attrs:{slot:"reference"},slot:"reference"},[e._v("···")])])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total,expression:"total"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)}),[],!1,null,null,null);t.default=r.exports}}]);