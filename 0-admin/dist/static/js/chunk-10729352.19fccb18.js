(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-10729352","chunk-2d0b379e","chunk-2d0aeef7"],{"0bd3":function(e,t,i){"use strict";i.r(t),i("e9c4");var r=i("e876"),o={dicts:["t_asset_type"],props:{value:{type:Boolean,required:!0}},data:function(){return{form1:{},rules:{seniorLimit:[{required:!0,message:"金额不能为空",trigger:"blur"}]}}},mounted:function(){var e=this;Object(r.b)("AUTH_LIMIT").then((function(t){200===t.code&&(e.form1=t.data)}))},computed:{visible:{get:function(){return this.value},set:function(e){}}},methods:{reset:function(){this.form1={seniorLimit:null,isOpenSenior:null},this.resetForm("form1")},submitForm:function(){var e=this;this.$refs.form1.validate((function(t){t&&Object(r.d)("AUTH_LIMIT",JSON.stringify(e.form1)).then((function(t){200==t.code&&e.$modal.msgSuccess(t.msg)}))}))},cancel:function(){this.$emit("input",!1)}}};i=i("2877"),i=Object(i.a)(o,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("el-dialog",{attrs:{title:"限额设置",visible:e.visible,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.visible=t},close:e.cancel}},[t("el-form",{ref:"form1",attrs:{model:e.form1,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"限额",prop:"seniorLimit"}},[t("el-input",{model:{value:e.form1.seniorLimit,callback:function(t){e.$set(e.form1,"seniorLimit",t)},expression:"form1.seniorLimit"}})],1),t("el-form-item",{attrs:{label:"状态",prop:"isOpenSenior"}},[t("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},model:{value:e.form1.isOpenSenior,callback:function(t){e.$set(e.form1,"isOpenSenior",t)},expression:"form1.isOpenSenior"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)}),[],!1,null,null,null);t.default=i.exports},2912:function(e,t,i){"use strict";i.r(t),i("d3b7"),i("e9c4");var r=i("e876"),o={props:{value:{type:Boolean,required:!0}},data:function(){return{form:{},rules:{primaryLimit:[{required:!0,message:"金额不能为空",trigger:"blur"}]}}},mounted:function(){var e=this;Object(r.b)("AUTH_LIMIT").then((function(t){200===t.code&&(e.form=t.data)}))},computed:{visible:{get:function(){return this.value},set:function(e){}}},methods:{reset:function(){this.form={primaryLimit:null,isOpenPrimary:null},this.resetForm("form")},submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&Object(r.d)("AUTH_LIMIT",JSON.stringify(e.form)).then((function(t){200==t.code&&(e.$modal.msgSuccess(t.msg),e.cancel(),e.getList())})).finally((function(){e.cancel()}))}))},cancel:function(){this.$emit("input",!1)}}};i=i("2877"),i=Object(i.a)(o,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("el-dialog",{attrs:{title:"限额设置",visible:e.visible,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.visible=t},close:e.cancel}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"限额",prop:"primaryLimit"}},[t("el-input",{attrs:{type:"number"},model:{value:e.form.primaryLimit,callback:function(t){e.$set(e.form,"primaryLimit",t)},expression:"form.primaryLimit"}})],1),t("el-form-item",{attrs:{label:"状态",prop:"isOpenPrimary"}},[t("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},model:{value:e.form.isOpenPrimary,callback:function(t){e.$set(e.form,"isOpenPrimary",t)},expression:"form.isOpenPrimary"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)}),[],!1,null,null,null);t.default=i.exports},6773:function(e,t,i){"use strict";i("a009")},"8a13":function(e,t,i){"use strict";i.r(t);var r=i("c7eb"),o=i("1da1"),n=(i("d81d"),i("e9c4"),i("d3b7"),i("159b"),i("25f0"),i("b0c0"),i("e876")),l=i("2912"),a=i("0bd3");l={data:function(){return{open1:!1,form1:{},primaryLimitDialog:!1,seniorLimitDialog:!1,currentForm:{},loading:!0,sidebarList:[],open:!1,title:"",ids:[],single:!0,multiple:!0,form:{},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],key:[{required:!0,message:"键名不能为空",trigger:"blur"}],jumpUrl:[{required:!0,message:"跳转地址不能为空",trigger:"blur"}],jumpType:[{required:!0,message:"跳转类型不能为空",trigger:"change"}],sort:[{type:"number",required:!0,message:"排序不能为空",trigger:"blur"}],logoUrl:[{required:!0,message:"图标不能为空",trigger:"blur"}]}}},components:{PrimaryLimit:l.default,SeniorLimit:a.default},mounted:function(){this.getList()},methods:{close:function(){this.getList(),this.reset(),this.open=!1},getDataList:function(){this.getList()},getList:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(n.b)("APP_SIDEBAR_SETTING");case 4:200===(i=t.sent).code&&(setTimeout((function(){e.loading=!1}),300),i=i.data,e.sidebarList=i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},handleAdd:function(){this.form={},this.reset(),this.open=!0,this.title="添加侧边栏"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!==e.length,this.multiple=!e.length},submitForm:function(){var e=this,t=!0;this.$refs.form.validate((function(i){i&&(e.form.index?1==t&&Object(n.d)("APP_SIDEBAR_SETTING",JSON.stringify(e.form)).then((function(t){"200"==t.code?(e.$modal.msgSuccess("修改成功"),e.reset(),e.open=!1,e.getList()):e.$modal.msgError(t.msg)})):(e.form.isOpen=e.form.isOpen||!1,e.sidebarList.forEach((function(i,r){i.key==e.form.key&&(e.$modal.msgError("已存在重复键名"),t=!1)})),1==t&&Object(n.d)("APP_SIDEBAR_SETTING",JSON.stringify(e.form)).then((function(t){"200"==t.code?(e.$modal.msgSuccess("新增成功"),e.reset(),e.open=!1,e.getList()):e.$modal.msgError(t.msg)}))))}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.resetForm("form")},handleUpdate:function(e,t){this.open=!0,this.form=e,this.form.index=t.toString()},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除侧边栏"'+e.name+'"？').then((function(){return e.name="",Object(n.d)("APP_SIDEBAR_SETTING",JSON.stringify(e))})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleLimitA:function(e){this[e]=!0},handleLimitB:function(e){this[e]=!0,this.open1=!0}}},i("6773"),a=i("2877"),i=Object(a.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("TableContentBox",[i("el-row",{staticClass:"mb8",attrs:{gutter:10}},[i("el-col",{attrs:{span:1.5}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.handleAdd()}}},[e._v("新增")])],1),i("right-toolbar",{attrs:{search:!1},on:{queryTable:e.getList}})],1),i("el-table",{staticStyle:{overflow:"auto"},attrs:{data:e.sidebarList,height:"calc(100vh - 360px)",border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),i("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),i("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),i("el-table-column",{attrs:{label:"键名",align:"center",prop:"key"}}),i("el-table-column",{attrs:{label:"图标",align:"center",prop:"logoUrl"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("el-image",{staticStyle:{width:"30px",height:"auto"},attrs:{src:e.row.logoUrl,"preview-src-list":[e.row.logoUrl]}})]}}])}),i("el-table-column",{attrs:{label:"跳转地址",align:"center",prop:"jumpUrl"}}),i("el-table-column",{attrs:{label:"跳转类型",align:"center",prop:"jumpType"},scopedSlots:e._u([{key:"default",fn:function(t){return["link"==t.row.jumpType?i("p",[e._v("超链接")]):e._e(),"path"==t.row.jumpType?i("p",[e._v("路由跳转")]):e._e()]}}])}),i("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort"}}),i("el-table-column",{attrs:{label:"状态",align:"center",prop:"isOpen"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.isOpen?i("el-tag",{attrs:{type:"success",size:"mini",plain:""}},[e._v("开启")]):e._e(),"0"==t.row.isOpen?i("el-tag",{attrs:{type:"info",size:"mini",plain:""}},[e._v("关闭")]):e._e()]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","class-name":"small-padding fixed-width",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(i){return e.handleUpdate(t.row,t.$index)}}},[e._v("修改")]),i("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(i){return e.handleDelete(t.row)}}},[e._v("删除")]),"primary"==t.row.key?i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.handleLimitA("primaryLimitDialog")}}},[e._v("初级限额")]):"advanced"==t.row.key?i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.handleLimitB("seniorLimitDialog")}}},[e._v("高级限额")]):e._e()],1)]}}])})],1)],1),i("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t},close:e.close}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"键名",prop:"key"}},[e.form.index?i("el-input",{attrs:{disabled:""},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}}):i("el-input",{model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),i("el-form-item",{attrs:{label:"图标",prop:"logoUrl"}},[i("ImageUpload",{attrs:{limit:1},model:{value:e.form.logoUrl,callback:function(t){e.$set(e.form,"logoUrl",t)},expression:"form.logoUrl"}})],1),i("el-form-item",{attrs:{label:"跳转地址",prop:"jumpUrl"}},[i("el-input",{model:{value:e.form.jumpUrl,callback:function(t){e.$set(e.form,"jumpUrl",t)},expression:"form.jumpUrl"}})],1),i("el-form-item",{attrs:{label:"跳转类型",prop:"jumpType"}},[i("el-select",{attrs:{clearable:""},model:{value:e.form.jumpType,callback:function(t){e.$set(e.form,"jumpType",t)},expression:"form.jumpType"}},[i("el-option",{key:"0",attrs:{label:"路由跳转",value:"path"}}),i("el-option",{key:"1",attrs:{label:"超链接",value:"link"}})],1)],1),i("el-form-item",{attrs:{label:"排序",prop:"sort"}},[i("el-input",{model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",e._n(t))},expression:"form.sort"}})],1),i("el-form-item",{attrs:{label:"状态",prop:"isOpen"}},[i("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},model:{value:e.form.isOpen,callback:function(t){e.$set(e.form,"isOpen",t)},expression:"form.isOpen"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),i("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),i("PrimaryLimit",{model:{value:e.primaryLimitDialog,callback:function(t){e.primaryLimitDialog=t},expression:"primaryLimitDialog"}}),i("SeniorLimit",{model:{value:e.seniorLimitDialog,callback:function(t){e.seniorLimitDialog=t},expression:"seniorLimitDialog"}})],1)}),[],!1,null,"1b11f53d",null);t.default=i.exports},a009:function(e,t,i){}}]);