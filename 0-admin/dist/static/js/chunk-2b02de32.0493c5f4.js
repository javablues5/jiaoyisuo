(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2b02de32"],{5911:function(e,t,a){"use strict";a.r(t);var l=a("ceee"),s=a("313ef"),c={name:"Cache",data:function(){return{commandstats:null,usedmemory:null,cache:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;Object(l.d)().then((function(t){e.cache=t.data,e.$modal.closeLoading(),e.commandstats=s.init(e.$refs.commandstats,"macarons"),e.commandstats.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),e.usedmemory=s.init(e.$refs.usedmemory,"macarons"),e.usedmemory.setOption({tooltip:{formatter:"{b} <br/>{a} : "+e.cache.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:e.cache.info.used_memory_human},data:[{value:parseFloat(e.cache.info.used_memory_human),name:"内存消耗"}]}]})}))},openLoading:function(){this.$modal.loading("正在加载缓存监控数据，请稍候！")}}};a=a("2877"),a=Object(a.a)(c,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"app-container"},[t("el-row",[t("el-col",{staticClass:"card-box",attrs:{span:24}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[t("i",{staticClass:"el-icon-monitor"}),e._v(" 基本信息")])]),t("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[t("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[t("tbody",[t("tr",[t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("Redis版本")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.redis_version))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("运行模式")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s("standalone"==e.cache.info.redis_mode?"单机":"集群"))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("端口")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.tcp_port))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("客户端数")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.connected_clients))]):e._e()])]),t("tr",[t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("运行时间(天)")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.uptime_in_days))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("使用内存")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.used_memory_human))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("使用CPU")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(parseFloat(e.cache.info.used_cpu_user_children).toFixed(2)))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("内存配置")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.maxmemory_human))]):e._e()])]),t("tr",[t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("AOF是否开启")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s("0"==e.cache.info.aof_enabled?"否":"是"))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("RDB是否成功")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.rdb_last_bgsave_status))]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("Key数量")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.dbSize?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.dbSize)+" ")]):e._e()]),t("td",{staticClass:"el-table__cell is-leaf"},[t("div",{staticClass:"cell"},[e._v("网络入口/出口")])]),t("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?t("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.instantaneous_input_kbps)+"kps/"+e._s(e.cache.info.instantaneous_output_kbps)+"kps")]):e._e()])])])])])])],1),t("el-col",{staticClass:"card-box",attrs:{span:12}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[t("i",{staticClass:"el-icon-pie-chart"}),e._v(" 命令统计")])]),t("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[t("div",{ref:"commandstats",staticStyle:{height:"420px"}})])])],1),t("el-col",{staticClass:"card-box",attrs:{span:12}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[t("i",{staticClass:"el-icon-odometer"}),e._v(" 内存信息")])]),t("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[t("div",{ref:"usedmemory",staticStyle:{height:"420px"}})])])],1)],1)],1)}),[],!1,null,null,null);t.default=a.exports},ceee:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return r}));var l=a("b775");function s(){return Object(l.a)({url:"/monitor/cache",method:"get"})}function c(){return Object(l.a)({url:"/monitor/cache/getNames",method:"get"})}function i(e){return Object(l.a)({url:"/monitor/cache/getKeys/"+e,method:"get"})}function n(e,t){return Object(l.a)({url:"/monitor/cache/getValue/"+e+"/"+t,method:"get"})}function o(e){return Object(l.a)({url:"/monitor/cache/clearCacheName/"+e,method:"delete"})}function d(e){return Object(l.a)({url:"/monitor/cache/clearCacheKey/"+e,method:"delete"})}function r(){return Object(l.a)({url:"/monitor/cache/clearCacheAll",method:"delete"})}}}]);