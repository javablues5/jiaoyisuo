(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5334da52"],{"30cf":function(e,t,r){},"96b3":function(e,t,r){"use strict";r.r(t),r("d81d"),r("4de4"),r("d3b7"),r("14d9"),r("e9c4");var a=r("e876"),l={name:"Config",dicts:["third_recharge_type"],data:function(){return{type:0,currentTypeList:{},index:"",total:0,orderList:[],open:!1,title:"",loading:!0,activeName:"second",form:{name:"",code:"",status:1,url:"",APIKEY:"",companyName:"",mechId:"",returnUrl:"",thirdPayStatu:"1",thirdWithStatu:"1"},currentType:"",rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"}],url:[{required:!0,message:"地址不能为空",trigger:"blur"}],APIKEY:[{required:!0,message:"APIKEY不能为空",trigger:"blur"}],companyName:[{required:!0,message:"方法名称不能为空",trigger:"blur"}],mechId:[{required:!0,message:"编号不能为空",trigger:"blur"}],returnUrl:[{required:!0,message:"回调地址不能为空",trigger:"blur"}]},currencyForm:{currencyList:[]}}},mounted:function(){this.getRecharge()},methods:{reset:function(){this.form={name:"",code:"",status:1,url:"",APIKEY:"",companyName:"",mechId:"",returnUrl:"",thirdPayStatu:"1",thirdWithStatu:"1"}},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},cancel:function(){this.open=!1,this.reset()},getRecharge:function(){var e=this;Object(a.b)("THIRD_CHANNL").then((function(t){e.orderList=t.data,e.loading=!1}))},submitForm:function(){var e=this;this.$refs.form.validate((function(t){var r=!0;t&&(null!=e.form.change?(t=[],t=e.orderList.map((function(t,r){return t.code==e.currentType?e.form:t})),Object(a.d)("THIRD_CHANNL",t).then((function(t){200===t.code&&(e.$message({message:"修改成功",type:"success"}),e.getRecharge(),e.open=!1,e.reset())}))):(e.orderList.filter((function(t){t.code==e.form.code&&(e.$modal.msgSuccess("编码不能重复"),r=!1)})),r&&(e.orderList.push(e.form),Object(a.d)("THIRD_CHANNL",JSON.stringify(e.orderList)).then((function(t){200===t.code&&(e.$message({message:"保存成功",type:"success"}),e.getRecharge(),e.open=!1,e.reset())})))))}))},addBtn:function(){this.type=1,this.open=!0},handleDelete:function(e){var t=this,r=this.orderList.filter((function(t){return t.code!=e.code}));Object(a.d)("THIRD_CHANNL",JSON.stringify(r)).then((function(e){200===e.code&&(t.$message({message:"删除成功",type:"success"}),t.getRecharge())}))},handleChange:function(e){this.form=e,this.currentType=e.code,this.form.change=!0,this.open=!0,this.type=2,this.title="修改三方充提"}}};r("f84f"),r=r("2877"),r=Object(r.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("TableContentBox",[r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["bussiness:currency:add"],expression:"['bussiness:currency:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.addBtn}},[e._v("新增")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{height:"calc(100vh - 360px)",border:"",data:e.orderList},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),r("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),r("el-table-column",{attrs:{label:"编码",align:"center",prop:"code"}}),r("el-table-column",{attrs:{label:"地址",align:"center",prop:"url"}}),r("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("el-tag",{attrs:{type:"info"}},[e._v("关闭")]):e._e(),0==t.row.status?r("el-tag",{attrs:{type:"primary"}},[e._v("开启")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"三方充值通道",align:"center",prop:"thirdPayStatu"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.thirdPayStatu?r("el-tag",{attrs:{type:"info"}},[e._v("关闭")]):e._e(),"0"==t.row.thirdPayStatu?r("el-tag",{attrs:{type:"primary"}},[e._v("开启")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"三方提现通道",align:"center",prop:"thirdWithStatu"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.thirdWithStatu?r("el-tag",{attrs:{type:"info"}},[e._v("关闭")]):e._e(),"0"==t.row.thirdWithStatu?r("el-tag",{attrs:{type:"primary"}},[e._v("开启")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"APIKEY",align:"center",prop:"key"}}),r("el-table-column",{attrs:{label:"方法名称",align:"center",prop:"companyName"}}),r("el-table-column",{attrs:{label:"编号",align:"center",prop:"mechId"}}),r("el-table-column",{attrs:{label:"回调地址",align:"center",prop:"returnUrl"}}),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{staticClass:"popover-table-menu",attrs:{placement:"bottom",width:"50",trigger:"click"}},[r("div",{staticClass:"popover-table-menu-btn-list"},[r("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(r){return e.handleChange(t.row)}}},[e._v("修改")]),r("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])],1),r("div",{staticClass:"menu",attrs:{slot:"reference"},slot:"reference"},[e._v("···")])])]}}])})],1)],1),r("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"编码",prop:"code"}},[r("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),r("el-form-item",{attrs:{label:"地址",prop:"url"}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:"APIKEY",prop:"key"}},[r("el-input",{model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),r("el-form-item",{attrs:{label:"方法名称",prop:"companyName"}},[r("el-input",{model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1),r("el-form-item",{attrs:{label:"编号",prop:"mechId"}},[r("el-input",{model:{value:e.form.mechId,callback:function(t){e.$set(e.form,"mechId",t)},expression:"form.mechId"}})],1),r("el-form-item",{attrs:{label:"回调地址",prop:"returnUrl"}},[r("el-input",{model:{value:e.form.returnUrl,callback:function(t){e.$set(e.form,"returnUrl",t)},expression:"form.returnUrl"}})],1),r("div",{staticClass:"open"},[r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-switch",{attrs:{"active-value":0,"inactive-value":1},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),r("el-form-item",{attrs:{label:"充值通道",prop:"thirdPayStatu"}},[r("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},model:{value:e.form.thirdPayStatu,callback:function(t){e.$set(e.form,"thirdPayStatu",t)},expression:"form.thirdPayStatu"}})],1),r("el-form-item",{attrs:{label:"提现通道",prop:"thirdWithStatu"}},[r("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},model:{value:e.form.thirdWithStatu,callback:function(t){e.$set(e.form,"thirdWithStatu",t)},expression:"form.thirdWithStatu"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),r("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),r("router-view")],1)}),[],!1,null,"4173313b",null);t.default=r.exports},f84f:function(e,t,r){"use strict";r("30cf")}}]);