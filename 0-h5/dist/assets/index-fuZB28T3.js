import{_ as a,a as e,f as t,r as n,ad as l,aT as s,e as u,R as o,aU as r,x as c,c as v}from"./index-D_GDdZsP.js";import{r as i,c as d,A as f,a as p,j as m,u as _,k as A,t as b,w as y,q as k,C as O,y as V,F as h,s as x,aG as C,o as I,a1 as S,a2 as U,aH as w}from"./vendor-DNdropHc.js";import{u as g}from"./useFreeze-D4J_klo6.js";const j={class:"content_box"},z={class:"title fw-bold"},F={class:"cardOne"},N={class:"left"},T={class:"left_top"},q={class:"left_bottom"},E={class:"cardTwo"},P={class:"top"},B={class:"bottom"},D=["placeholder"],G=(a=>(S("data-v-016c684c"),a=a(),U(),a))((()=>A("i",null,"|",-1))),H={class:"keyong"},L={class:"fw-num"},R=a({__name:"index",setup(a){var S,U;const{_isFreeze:R}=g(),J=e();t();const{_toast:K}=n(),M=i({coin:"usdt",transferOutAccount:"",transferInAccount:"",amount:""}),Q=i([]),W=async()=>{let a=await s();"200"==a.code&&(Q.value=a.data)},X=d((()=>{let a="";return Q.value.forEach(((e,t)=>{(null==e?void 0:e.type)==M.value.transferOutAccount&&(a=e.availableAmount)})),a})),Y=d((()=>J.getAssetsTabList.filter((a=>!!a.isOpen&&("平台资产"==a.name&&(a.keyStr=u(a.keyStr,["latcoin"])),"理财资产"==a.name&&(a.keyStr=u(a.keyStr,["paxpay","latcoin"])),"合约资产"==a.name&&(a.keyStr=u(a.keyStr,["paxpay","latcoin"])),a.text=a.keyStr,a.value={"平台资产":1,"理财资产":2,"合约资产":3}[a.name],!0))).sort(((a,e)=>a.sort-e.sort))));M.value.transferOutAccount=(null==(S=Y.value[0])?void 0:S.value)||"",M.value.transferInAccount=(null==(U=Y.value[1])?void 0:U.value)||"";const Z=d((()=>Y.value.filter((a=>a.value!=M.value.transferInAccount)))),$=d((()=>Y.value.filter((a=>a.value!=M.value.transferOutAccount)))),aa=()=>{o.includes(__config._APP_ENV)?R(o)&&ea():ea()},ea=()=>{if(""==M.value.amount||M.value.amount<=0)return K("transfer_please_amount");r(M.value).then((a=>{"200"==a.code?(K("transfer_success"),W()):x(a.msg||"")}))},ta=()=>{M.value.amount=X.value},na=()=>{[M.value.transferOutAccount,M.value.transferInAccount]=[M.value.transferInAccount,M.value.transferOutAccount]};return f((()=>{W()})),(a,e)=>{var t,n,s;const o=c,r=w,i=C,d=v;return I(),p(h,null,[m(o,{currentName:_(u)("transfer")},null,8,["currentName"]),A("div",j,[A("p",z,b(_(u)("transfer")),1),A("div",F,[A("div",N,[A("div",T,[A("span",null,b(_(u)("transfer_from")),1),m(i,{"active-color":"#17ac74"},{default:y((()=>[m(r,{modelValue:M.value.transferOutAccount,"onUpdate:modelValue":e[0]||(e[0]=a=>M.value.transferOutAccount=a),options:Z.value},null,8,["modelValue","options"])])),_:1})]),A("div",q,[A("span",null,b(_(u)("transfer_to",["aams"])),1),m(i,{"active-color":"#17ac74"},{default:y((()=>[m(r,{modelValue:M.value.transferInAccount,"onUpdate:modelValue":e[1]||(e[1]=a=>M.value.transferInAccount=a),options:$.value},null,8,["modelValue","options"])])),_:1})])]),A("div",{class:"right",onClick:na},[m(d,{name:"huazhuanbtn",class:"huazhuanbtn"})])]),A("div",E,[A("div",P,b(_(u)("transfer_amount")),1),A("div",B,[k(A("input",{type:"number",placeholder:"".concat(_(u)("transfer_less",["aams"]),"1").concat(null==(t=M.value.coin)?void 0:t.toUpperCase()),"onUpdate:modelValue":e[2]||(e[2]=a=>M.value.amount=a)},null,8,D),[[O,M.value.amount]]),A("span",{onClick:ta},b(_(u)("swap_all")),1),G,A("p",null,b(null==(n=M.value.coin)?void 0:n.toUpperCase()),1)])]),A("div",H,[V(b(_(u)("transfer_available"))+"：",1),A("span",L,b(X.value)+" "+b(null==(s=M.value.coin)?void 0:s.toUpperCase()),1)]),A("div",{class:"btnBox",onClick:aa},[m(l,{btnValue:_(u)("transfer_require"),btnColor:"#138A5D"},null,8,["btnValue"])])])],64)}}},[["__scopeId","data-v-016c684c"]]);export{R as default};
