import{S as e}from"./success-CMQbKahv.js";import{_ as s,r as a,e as l,ad as n,av as d,c as t,aw as o,f as u,x as c}from"./index-D_GDdZsP.js";import{e as i,N as r,r as p,o as w,a as v,k as m,j as _,q as P,E as f,u as y,s as g,t as b,i as k,ar as h,l as C,w as x}from"./vendor-DNdropHc.js";const N={class:"content"},V={class:"input"},F=["type"],I=s({__name:"SetForm",emits:["setPwd"],setup(e,{emit:s}){const{_toast:o}=a(),u=i({pwd:!1}),c=()=>{u.pwd=!u.pwd};r((()=>u.pwd),((e,s)=>{}));const b=s,k=p(!1);r(k,(e=>{b("setPwd",e)}));const h=p({password:""}),C=()=>{""!=h.value.password?d(h.value.password).then((e=>{"200"==e.code?(o("Fund_password_set_success"),k.value=!0):g(e.msg)})):o("Fund_password_noempty")};return(e,s)=>{const a=t;return w(),v("div",N,[m("div",V,[_(a,{name:"mima",class:"icon"}),P(m("input",{type:u.pwd?"text":"password","onUpdate:modelValue":s[0]||(s[0]=e=>y(h).password=e)},null,8,F),[[f,y(h).password]]),_(a,{name:u.pwd?"openeyes":"closeeyse",class:"icon",onClick:c},null,8,["name"])]),m("div",{class:"btnBox",onClick:C},[_(n,{btnValue:y(l)("btnConfirm",["bitmake"])},null,8,["btnValue"])])])}}},[["__scopeId","data-v-fe980e6f"]]),U={class:"content"},j={class:"tip"},S={class:"input"},B=["type","placeholder"],O={class:"tip"},R={class:"input"},T=["type","placeholder"],q={class:"tip"},D={class:"input"},E=["type","placeholder"],K={key:0,class:"pwdDiff"},z=s({__name:"ChangeForm",emits:["setPwd"],setup(e,{emit:s}){const{_toast:d}=a(),u=p(!1),c=p(!1),i=p(!1),h=p({newPwd:"",oldPwd:"",NPwd:""}),C=e=>{"oldPwd"==e?c.value=!c.value:"newPwd"==e?u.value=!u.value:i.value=!i.value},x=s,N=p(!1);r(N,(e=>{x("setPwd",e)}));const V=p(!1),F=()=>{V.value=!(h.value.newPwd==h.value.NPwd)},I=()=>{""!=h.value.oldPwd?""!=h.value.newPwd?h.value.newPwd===h.value.NPwd?o(h.value.oldPwd,h.value.newPwd,1).then((e=>{"200"==e.code?(d("Fund_password_update_success"),N.value=!0):g(e.msg)})):d("register_pwd_diff"):d("Fund_password_pleaseNew"):d("Fund_password_pleaseOld")};return(e,s)=>{const a=t;return w(),v("div",U,[m("div",j,b(y(l)("Old_Password")),1),m("div",S,[_(a,{name:"mima",class:"icon"}),P(m("input",{type:c.value?"text":"password","onUpdate:modelValue":s[0]||(s[0]=e=>h.value.oldPwd=e),placeholder:y(l)("login_please")},null,8,B),[[f,h.value.oldPwd]]),_(a,{name:c.value?"openeyes":"closeeyse",class:"icon",onClick:s[1]||(s[1]=e=>C("oldPwd"))},null,8,["name"])]),m("div",O,b(y(l)("New_Password")),1),m("div",R,[_(a,{name:"mima",class:"icon"}),P(m("input",{type:u.value?"text":"password","onUpdate:modelValue":s[2]||(s[2]=e=>h.value.newPwd=e),placeholder:y(l)("login_please")},null,8,T),[[f,h.value.newPwd]]),_(a,{name:u.value?"openeyes":"closeeyse",class:"icon",onClick:s[3]||(s[3]=e=>C("newPwd"))},null,8,["name"])]),m("div",q,b(y(l)("Confirm_Password")),1),m("div",D,[_(a,{name:"mima",class:"icon"}),P(m("input",{type:i.value?"text":"password","onUpdate:modelValue":s[4]||(s[4]=e=>h.value.NPwd=e),onInput:F,placeholder:y(l)("login_please")},null,40,E),[[f,h.value.NPwd]]),_(a,{name:i.value?"openeyes":"closeeyse",class:"icon",onClick:s[5]||(s[5]=e=>C("NPwd"))},null,8,["name"])]),V.value?(w(),v("p",K,"*"+b(y(l)("register_pwd_diff")),1)):k("",!0),m("div",{class:"btnBox",onClick:I},[_(n,{btnValue:y(l)("btnConfirm",["bitmake"])},null,8,["btnValue"])])])}}},[["__scopeId","data-v-12e0d4f8"]]),A=s({__name:"fund-password",setup(s){var d;const{_toast:t}=a(),o=u();o.getUserInfo();const{userInfo:i}=h(o),r={iconRight:[{iconName:"kefu",clickTo:"event_serviceChange"}]},P=p(null==(d=i.value.detail)?void 0:d.userTardPwd),f=p(!0),g=()=>{P.value=!0,f.value=!1,o.getUserInfo()},N=e=>{f.value=e,P.value=e,o.getUserInfo()},V=()=>{t("custorm_service")};return(s,a)=>(w(),v("div",null,[_(c,{currentName:y(P)?y(l)("Change_security_password"):y(l)("sidebar_tardPwd",["bitmake"]),cuttentRight:r,border_bottom:!0},null,8,["currentName"]),!y(P)&&y(f)?(w(),C(I,{key:0,onSetPwd:N})):k("",!0),y(P)&&!y(f)?(w(),C(z,{key:1,onSetPwd:N})):k("",!0),y(P)&&y(f)?(w(),C(e,{key:2,text:y(l)("Fund_password_has_set"),imgUrl:"defi/fund.png",class:"success"},{btn:x((()=>[m("div",{class:"btnBox",onClick:g},[_(n,{btnValue:y(l)("Change_security_password")},null,8,["btnValue"])]),m("div",{class:"forgot",onClick:V},b(y(l)("forgot_security_code"))+"?",1)])),_:1},8,["text"])):k("",!0)]))}},[["__scopeId","data-v-570c6da9"]]);export{A as default};
