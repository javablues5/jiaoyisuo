import{ar as e,r as a,a as l,j as s,u as i,k as t,t as o,q as n,C as c,F as d,s as u,G as r,o as m,a1 as v,a2 as p}from"./vendor-DNdropHc.js";import{_,r as f,f as h,x as b,ad as g,ay as k,aB as x,e as C}from"./index-D_GDdZsP.js";const y=""+new URL("email-CEM4HUlp.png",import.meta.url).href,U={class:"content-box"},I={key:0,class:"bind-not"},N={class:"item"},V={class:"text"},j={class:"input"},B=["placeholder"],R={class:"item"},w={class:"text"},F={class:"input"},q=["placeholder"],D={class:"code-box"},E={key:0,class:"wait-code"},G={key:1,class:"bind-yes"},H={class:"top"},L=(e=>(v("data-v-3aaf139f"),e=e(),p(),e))((()=>t("img",{src:y,alt:""},null,-1))),M={class:"text"},T={class:"email"},$=_({__name:"email-authentication",setup(v){var p;const{_toast:_}=f(),y=h();y.getUserInfo();const{userInfo:$}=e(y),z={iconRight:[{iconName:"kefu",clickTo:"event_serviceChange"}]},A=a(null==(p=$.value.user)?void 0:p.email),J=a(A.value),K=a({email:"",code:""}),O=a(0),P=a(!1),Q=()=>{""!=K.value.email?k("BIND",K.value.email).then((e=>{"200"==e.code?(P.value=!0,O.value=6e4):u(e.msg)})):_("login_please_emailCode")},S=()=>{P.value=!1},W=()=>{""!=K.value.email?""!=K.value.code?x(K.value.email,K.value.code).then((e=>{"200"==e.code?(_("email_bind_success"),A.value=K.value.email,J.value=!0):u(e.msg)})):_("verification_code"):_("login_please_emailCode")};return(e,a)=>{const u=r;return m(),l(d,null,[s(b,{currentName:i(C)("sidebar_certified"),cuttentRight:z,border_bottom:!0},null,8,["currentName"]),t("div",U,[i(J)?(m(),l("div",G,[t("div",H,[L,t("div",M,o(i(C)("email_bind_success")),1),t("div",T,o(i(C)("email_your"))+"ï¼š"+o(i(A)),1)]),t("div",{class:"change-email",onClick:a[2]||(a[2]=e=>J.value=!1)},o(i(C)("email_update")),1),t("div",{class:"back",onClick:a[3]||(a[3]=a=>e.$router.push("/"))},o(i(C)("backhome")),1)])):(m(),l("div",I,[t("div",N,[t("div",V,o(i(C)("login_emailCode")),1),t("div",j,[n(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>i(K).email=e),placeholder:i(C)("recharge_input")},null,8,B),[[c,i(K).email]])])]),t("div",R,[t("div",w,o(i(C)("verification_code")),1),t("div",F,[n(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>i(K).code=e),placeholder:i(C)("recharge_input")},null,8,q),[[c,i(K).code]]),t("div",D,[i(P)?(m(),l("div",E,[s(u,{time:i(O),format:"ss",onFinish:S},null,8,["time"])])):(m(),l("div",{key:1,class:"send-code",onClick:Q},o(i(C)("login_send")),1))])])]),t("div",{class:"btnBox",onClick:W},[s(g,{btnValue:i(C)("btnConfirm",["bitmake"])},null,8,["btnValue"])])]))])],64)}}},[["__scopeId","data-v-3aaf139f"]]);export{$ as default};
