import{h as a,r as e,c as s,a as l,j as t,u as r,k as d,t as n,w as o,l as c,i as u,ar as i,ay as v,az as m,I as p,o as _,y as f,aA as h}from"./vendor-DNdropHc.js";import{_ as w,r as y,x as g,f as b,ak as k,e as x}from"./index-D_GDdZsP.js";const C=""+new URL("../resource/images/defi/ERC.png",import.meta.url).href,I=""+new URL("../resource/images/defi/TRC.png",import.meta.url).href,R={class:"bg"},T={class:"form"},U={class:"form-item"},L={class:"label"},j=["src"],E={class:"tit"},V={class:"tip"},N={class:"form-item"},z={class:"label"},A={class:"input"},H=w({__name:"add-address",setup(w){const{_toast:H}=y(),P=a(),S=e(!1),q=e(0),B=s((()=>1==q.value?I:C)),D=e({type:"ETH",address:""}),F=e(!1),G=e([{name:"ERC"},{name:"TRC"}]),J=(a,e)=>{q.value=e,D.value.type=a.name,S.value=!1},K=()=>{S.value=!0},M=async()=>{D.value.address=await navigator.clipboard.readText()},O=()=>{var a;if(!D.value.address)return H("wallet_address_cannot_be_empty");F.value=!0;const e=b(),{userInfo:s}=i(e);k({type:D.value.type,address:D.value.address.toLocaleLowerCase(),userId:null==(a=s.value.user)?void 0:a.userId}).then((async a=>{H("set_success"),D.value.address="",setTimeout((()=>{P.back(),e.getUserInfo()}),1500)})).finally((()=>{F.value=!1}))};return(a,e)=>{const s=h,i=v,w=m,y=p;return _(),l("div",R,[t(g,{currentName:r(x)("bind_address"),border_bottom:!0},null,8,["currentName"]),d("div",T,[d("div",U,[d("div",L,n(r(x)("please_select_a_chain")),1),d("div",{class:"input",onClick:K},[d("img",{src:B.value,class:"coin"},null,8,j),d("div",E,n(D.value.type),1),d("div",V,[t(s,{name:"arrow-down"})])])]),d("div",N,[d("div",z,n(r(x)("withdrawal_Please_enter_address")),1),d("div",A,[t(i,{class:"input-field",type:"textarea",modelValue:D.value.address,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value.address=a),placeholder:r(x)("exchange.input")},null,8,["modelValue","placeholder"]),d("div",{class:"tip",onClick:M},n(r(x)("pasta")),1)])]),t(w,{block:"",class:"submit",loading:F.value,onClick:O},{default:o((()=>[f(n(r(x)("confirm")),1)])),_:1},8,["loading"])]),G.value.length?(_(),c(y,{key:0,show:S.value,"onUpdate:show":e[1]||(e[1]=a=>S.value=a),actions:G.value,onSelect:J,"cancel-text":r(x)("cancel")},null,8,["show","actions","cancel-text"])):u("",!0)])}}},[["__scopeId","data-v-0d72859c"]]);export{H as default};
