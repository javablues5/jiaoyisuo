import{d as a,_ as e,f as t,e as s,Q as l,aa as i,x as n,o,a0 as c,ap as d,b as v,c as u}from"./index-D_GDdZsP.js";import{r,c as m,A as f,an as p,u as b,a as h,k as g,j as C,t as y,w as _,n as w,i as k,F as x,p as I,am as M,o as A,y as T,a1 as L,a2 as P}from"./vendor-DNdropHc.js";/* empty css                                                              */import{P as F}from"./index-BakVKHJg.js";const N=a=>(L("data-v-657c908d"),a=a(),P(),a),B={key:0},E={class:"content"},R={class:"code_box"},S={class:"code1 fw-bold"},D={class:"code2"},O={class:"erweima"},j={class:"sharkCode"},H={class:"ff-num"},z={class:"shareLink"},W={class:"ff-num"},Q={class:"ff-num link"},V={key:1},X={class:"banner"},$={class:"shareContent"},q={class:"shareContent_title fw-bold"},G={class:"shareContent_info"},J={class:"sharkCode"},K={class:"ff-num"},U={class:"shareLink",contentFix:"start"},Y={class:"ff-num"},Z={class:"team-overview"},aa={class:"overview-tabs"},ea={key:0,class:"overview-content"},ta={class:"team-core-data"},sa={class:"data-item"},la=N((()=>g("div",{class:"data-label"},"团队总人数",-1))),ia={class:"data-value"},na={class:"data-change"},oa={class:"data-item"},ca=N((()=>g("div",{class:"data-label"},"今日登录",-1))),da={class:"data-value"},va={class:"data-change"},ua={class:"data-item"},ra=N((()=>g("div",{class:"data-label"},"活跃率",-1))),ma={class:"data-value active-rate"},fa={class:"team-balance"},pa={class:"balance-item"},ba=N((()=>g("div",{class:"balance-label"},"团队余额",-1))),ha={class:"balance-value"},ga=N((()=>g("div",{class:"balance-change positive"},"基于佣金数据",-1))),Ca={class:"balance-item"},ya=N((()=>g("div",{class:"balance-label"},"今日总盈利",-1))),_a={class:"balance-value"},wa=N((()=>g("div",{class:"balance-change positive"},"预估收益",-1))),ka={class:"funds-overview"},xa=N((()=>g("div",{class:"funds-title"},"资金概览",-1))),Ia={class:"funds-data"},Ma={class:"fund-item positive"},Aa=N((()=>g("div",{class:"fund-label"},"今日流入",-1))),Ta={class:"fund-value"},La={class:"fund-item negative"},Pa=N((()=>g("div",{class:"fund-label"},"今日流出",-1))),Fa={class:"fund-value"},Na={class:"fund-item positive"},Ba=N((()=>g("div",{class:"fund-label"},"净流入",-1))),Ea={class:"fund-value"},Ra={class:"activity-chart"},Sa=M('<div class="chart-title" data-v-657c908d>7日团队活跃度趋势</div><div class="chart-legend" data-v-657c908d><span class="legend-item" data-v-657c908d><i class="dot blue" data-v-657c908d></i>登录人数 </span><span class="legend-item" data-v-657c908d><i class="dot green" data-v-657c908d></i>活跃率 </span></div>',2),Da={class:"chart-container"},Oa=N((()=>g("div",{class:"chart-days"},[g("span",null,"周一"),g("span",null,"周二"),g("span",null,"周三"),g("span",null,"周四"),g("span",null,"周五"),g("span",null,"周六"),g("span",null,"周日")],-1))),ja={key:1,class:"members-content"},Ha={class:"members-filter"},za={class:"filter-tabs"},Wa=N((()=>g("div",{class:"sort-option"}," 排序 ↑ ",-1))),Qa={class:"member-list"},Va={class:"member-avatar"},Xa={class:"member-info"},$a={class:"member-name"},qa={class:"member-id"},Ga=N((()=>g("i",{class:"status-dot"},null,-1))),Ja={class:"member-balance"},Ka={key:2,class:"records-content"},Ua=N((()=>g("div",{class:"records-summary"},[g("div",{class:"summary-item"},[g("div",{class:"summary-label"},"成员详情"),g("div",{class:"summary-value"},"全部 >")])],-1))),Ya={class:"records-list"},Za={class:"record-avatar"},ae={class:"record-info"},ee={class:"record-member"},te={class:"record-id"},se={class:"record-time"},le={class:"record-amount"},ie=N((()=>g("i",{class:"status-indicator"},null,-1))),ne=e({__name:"plug",setup(e){var M;const L={iconRight:[{iconName:"guize",clickTo:""}]},P=t().userInfo,N=null==(M=null==P?void 0:P.user)?void 0:M.activeCode,ne="".concat(location.origin,"/#/i&"),oe=r(!0),ce=r({}),de=r([]),ve=r({}),ue=r("overview"),re=r("all"),me=r(null),fe=r({totalMembers:0,directMembers:0,todayLogin:0,subordinateLogin:0,activeRate:"0",teamBalance:"0",todayProfit:"0",todayInflow:"0",todayOutflow:"0",netInflow:"0"}),pe=r([]),be=m((()=>"all"===re.value?pe.value:pe.value.filter((a=>a.type===re.value)))),he=r([]),ge=async()=>{const e=await a("/api/agentActivityInfo/getAgentInfo");if("200"===e.code){ce.value=e.data;const a=e.data;fe.value={totalMembers:(a.oneCount||0)+(a.twoCount||0)+(a.threeCount||0),directMembers:a.oneCount||0,todayLogin:Math.floor(.6*((a.oneCount||0)+(a.twoCount||0)+(a.threeCount||0))),subordinateLogin:(a.twoCount||0)+(a.threeCount||0),activeRate:a.oneCount?(Math.floor(.6*((a.oneCount||0)+(a.twoCount||0)+(a.threeCount||0)))/((a.oneCount||0)+(a.twoCount||0)+(a.threeCount||0))*100).toFixed(1):"0",teamBalance:(a.sumAmount||0).toFixed(2),todayProfit:(.08*a.sumAmount||0).toFixed(2),todayInflow:(.15*a.sumAmount||0).toFixed(2),todayOutflow:(.07*a.sumAmount||0).toFixed(2),netInflow:(.08*a.sumAmount||0).toFixed(2)}}},Ce=async()=>{oe.value=!0;const e=await(t={params:{leve:Ie.value+1}},a("/api/agentActivityInfo/getAgentList",t));var t;"200"===e.code&&setTimeout((()=>{oe.value=!1,de.value=e.data,pe.value=e.data.map(((a,e)=>({id:a.fromId||"member_".concat(e),name:a.fromId?"用户".concat(a.fromId.slice(-4)):"用户".concat(e+1),balance:(a.sumAmount||0).toFixed(2),status:Math.random()>.3?"online":"offline",statusText:Math.random()>.3?Math.random()>.5?"当前在线":"".concat(Math.floor(12*Math.random())+1,"小时前在线"):"今日未登录",type:0===Ie.value?"direct":"subordinate"}))),he.value=e.data.map(((a,e)=>({id:e+1,memberName:a.fromId?"用户".concat(a.fromId.slice(-4)):"用户".concat(e+1),memberId:a.fromId||"member_".concat(e),time:a.createTime?o(a.createTime,"MM/DD HH:mm",!0):"今日",amount:(a.sumAmount||0).toFixed(2),type:(a.sumAmount||0)>0?"profit":"loss",status:"completed",statusText:"已完成"})))}),500)};f((async()=>{await ge(),await Ce(),await(async()=>{const a=await c("PROMOTION_CENTER_EXPLAIN");(a.code="200")&&(ve.value=a.data)})(),p((()=>{(()=>{if(!me.value)return;const a=me.value,e=a.getContext("2d"),t=a.width,s=a.height;e.clearRect(0,0,t,s);const l=fe.value.todayLogin||0,i=parseFloat(fe.value.activeRate)||0,n=[],o=[];for(let v=0;v<7;v++){const a=.3*(Math.random()-.5),e=.2*(Math.random()-.5);n.push(Math.max(0,l*(1+a))),o.push(Math.max(0,i*(1+e)))}if(0===l)return e.fillStyle="#9ca3af",e.font="12px Arial",e.textAlign="center",void e.fillText("暂无数据",t/2,s/2);const c=Math.max(...n),d=Math.max(...o);c>0&&(e.beginPath(),e.strokeStyle="#3b82f6",e.lineWidth=2,n.forEach(((a,l)=>{const i=l/6*(t-40)+20,n=s-20-a/c*(s-40);0===l?e.moveTo(i,n):e.lineTo(i,n)})),e.stroke()),d>0&&(e.beginPath(),e.strokeStyle="#10b981",e.lineWidth=2,o.forEach(((a,l)=>{const i=l/6*(t-40)+20,n=s-20-a/d*(s-40);0===l?e.moveTo(i,n):e.lineTo(i,n)})),e.stroke())})()}))}));const ye=r(!1),_e=s("plug_rule"),we=r("bottom");let ke=()=>{ye.value=!0},xe=()=>{ye.value=!1};m((()=>{let a=[];return a=[{title:"推广规则",content:[{childContent:"如果用户使用了您的邀请码注册，即为您的下级。这个用户再次的邀请用户，即为您的二级下级。 of Stake，即权益证明）机制产生的奖励。在这个机制中，用户将数字资产委托给节点，节点在区块链上行使出块、打包交易等权利并获得奖励。用户根据锁仓数量按比例分享节点获得的奖励。"}]},{title:"推广奖励",content:[{childContent:"如果用户使用了您的邀请码注册，即为您的下级。这个用户再次的邀请用户，即为您的二级下级。"},{childTitle:"1.下级充值奖励。",childContent:"您的下级进行充值，您即可获得他充值金额的1%作为奖励。"},{childTitle:"2.下级挖矿奖励。",childContent:"您的下级，如果进行了锁仓挖矿。那么你也可以获得对应的收益。"}]},{title:"例：A-B-C-D-E..",content:[{childContent:"A可以获得B收益的3%"},{childContent:"A可以获得C收益的2%"},{childContent:"A可以获得D收益的1%"},{childContent:"B可以获得C收益的3%"},{childContent:"B可以获得D收益的2%"},{childContent:"B可以获得E收益的1%"}]}],a}));const Ie=r(0);return m((()=>{let a=[];return a=[s("plug_one",["aams"]),s("plug_two",["aams"]),s("plug_three",["aams"])],a})),(a,e)=>{const t=v,o=u;return b(d).includes(a._getConfig("_APP_ENV"))?(A(),h("div",B,[g("div",E,[C(t,{filePath:"plugbg.png",class:"img-bg"}),g("div",{class:"toBack",onClick:e[0]||(e[0]=e=>a.$router.push("/"))},[C(o,{name:"back",class:"back"}),g("div",R,[g("p",S,y(b(s)("plug_invite")),1),g("p",D,y(b(s)("plug_toInvite")),1),g("div",O,[C(l,{address:b(N)},null,8,["address"])]),g("div",j,[C(i,{data:b(N)},{copyMsg:_((()=>[g("p",H,y(b(s)("plug_shareCode"))+"："+y(b(N)),1)])),_:1},8,["data"])]),g("div",z,[g("p",W,y(b(s)("plug_shareLink"))+"：",1),C(i,{data:"".concat(ne).concat(b(N))},{copyMsg:_((()=>[g("p",Q,y(ne)+y(b(N)),1)])),_:1},8,["data"])])])])])])):(A(),h("div",V,[C(n,{currentName:b(s)("plug"),cuttentRight:L,border_bottom:!1,onShowPopup:b(ke)},null,8,["currentName","onShowPopup"]),g("div",X,[g("div",{class:w("dark"==a.__theme?"plugbg":"plug_bg")},[g("div",$,[g("p",q,y(b(s)("plug_invite",["aams"])),1),g("p",G,y(b(s)("plug_toInvite")),1),g("div",J,[C(i,{data:b(N),contentFix:"start",fontSize:"12px"},{copyMsg:_((()=>[g("p",K,y(b(s)("plug_shareCode"))+"："+y(b(N)),1)])),_:1},8,["data"])]),g("div",U,[C(i,{data:"".concat(ne).concat(b(N)),fontSize:"12px"},{copyMsg:_((()=>[g("p",Y,y(b(s)("plug_shareLink"))+"："+y(ne)+y(b(N)),1)])),_:1},8,["data"])])])],2),g("div",Z,[g("div",aa,[g("div",{class:w(["tab-item",{active:"overview"===ue.value}]),onClick:e[1]||(e[1]=a=>ue.value="overview")}," 概览 ",2),g("div",{class:w(["tab-item",{active:"members"===ue.value}]),onClick:e[2]||(e[2]=a=>ue.value="members")}," 成员 ",2),g("div",{class:w(["tab-item",{active:"records"===ue.value}]),onClick:e[3]||(e[3]=a=>ue.value="records")}," 记录 ",2)]),"overview"===ue.value?(A(),h("div",ea,[g("div",ta,[g("div",sa,[la,g("div",ia,y(fe.value.totalMembers),1),g("div",na,"直属: "+y(fe.value.directMembers)+"人",1)]),g("div",oa,[ca,g("div",da,y(fe.value.todayLogin),1),g("div",va,"下级: "+y(fe.value.subordinateLogin)+"人",1)]),g("div",ua,[ra,g("div",ma,y(fe.value.activeRate)+"%",1)])]),g("div",fa,[g("div",pa,[ba,g("div",ha,y(fe.value.teamBalance),1),ga]),g("div",Ca,[ya,g("div",_a,y(fe.value.todayProfit),1),wa])]),g("div",ka,[xa,g("div",Ia,[g("div",Ma,[Aa,g("div",Ta,"+"+y(fe.value.todayInflow),1)]),g("div",La,[Pa,g("div",Fa,"-"+y(fe.value.todayOutflow),1)]),g("div",Na,[Ba,g("div",Ea,"+"+y(fe.value.netInflow),1)])]),g("div",Ra,[Sa,g("div",Da,[g("canvas",{ref_key:"activityChart",ref:me,width:"300",height:"120"},null,512)]),Oa])])])):k("",!0),"members"===ue.value?(A(),h("div",ja,[g("div",Ha,[g("div",za,[g("div",{class:w(["filter-tab",{active:"all"===re.value}]),onClick:e[4]||(e[4]=a=>re.value="all")}," 全部 ",2),g("div",{class:w(["filter-tab",{active:"direct"===re.value}]),onClick:e[5]||(e[5]=a=>re.value="direct")}," 直属 ",2),g("div",{class:w(["filter-tab",{active:"subordinate"===re.value}]),onClick:e[6]||(e[6]=a=>re.value="subordinate")}," 下级 ",2)]),Wa]),g("div",Qa,[(A(!0),h(x,null,I(be.value,(a=>(A(),h("div",{class:"member-item",key:a.id},[g("div",Va,y(a.name.charAt(0)),1),g("div",Xa,[g("div",$a,y(a.name),1),g("div",qa,"ID: "+y(a.id),1),g("div",{class:w(["member-status",a.status])},[Ga,T(" "+y(a.statusText),1)],2)]),g("div",Ja,y(a.balance),1)])))),128))])])):k("",!0),"records"===ue.value?(A(),h("div",Ka,[Ua,g("div",Ya,[(A(!0),h(x,null,I(he.value,(a=>(A(),h("div",{class:"record-item",key:a.id},[g("div",Za,y(a.memberName.charAt(0)),1),g("div",ae,[g("div",ee,y(a.memberName),1),g("div",te,"ID: "+y(a.memberId),1),g("div",se,y(a.time),1)]),g("div",le,[g("div",{class:w(["amount-value",a.type])},y("profit"===a.type?"+":"")+y(a.amount),3),g("div",{class:w(["record-status",a.status])},[ie,T(" "+y(a.statusText),1)],2)])])))),128))])])):k("",!0)])]),C(F,{show:ye.value,onHandelClose:b(xe),title:b(_e),content:ve.value,direction:we.value},null,8,["show","onHandelClose","title","content","direction"])]))}}},[["__scopeId","data-v-657c908d"]]);export{ne as default};
