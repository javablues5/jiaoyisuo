import{c as a,o as e,a as t,k as n,t as s,u as l,j as i,F as o,p as u,i as c,l as r,r as m,ar as h,A as d,w as p,K as w,q as y,v as _,Q as S,L as v,T as g}from"./vendor-DNdropHc.js";import{_ as f,e as k,g as N,h as b,i as j,c as D,k as x,a5 as A,a6 as P,b as Y,f as E,a as H,a7 as z,a8 as C,C as I,a9 as U}from"./index-D_GDdZsP.js";const T={class:"userAmount"},V={class:"userInfo fw-num"},O={class:"currencyAbout"},B=["onClick"],F=f({__name:"amount",props:{data:{type:Object},amount:{type:String},coin:{type:String,default:"USDT"},type:{type:String},showicon:{type:String}},emits:["handleYanjin","handleShuaxin"],setup(c,{emit:r}){const m=c,h=r,d=()=>{h("handleYanjin")},p=()=>{h("handleShuaxin")},w=a((()=>{let a=[];return a="平台资产"==m.type?["paxpay","aams"].includes(__config._APP_ENV)?[{icon:"chongbi",title:k("asset_recharge",["aams"]),url:"/recharge",isShow:!0},{icon:"tibi",title:k("asset_withdraw",["aams"]),url:"/withdraw",isShow:!0},{icon:"dui",title:k("asset_swap"),url:"/swap",isShow:!0},{icon:"daikuai",title:k("asset_loan"),url:"/loan",isShow:!1},{icon:"huazhuan",title:k("asset_transfer"),url:"/transfer",isShow:!0}]:["coinmarketcap"].includes(__config._APP_ENV)?[{icon:"chongbi",title:k("asset_recharge",["coinmarketcap"]),url:"/recharge",isShow:!0},{icon:"tibi",title:k("asset_withdraw",["coinmarketcap"]),url:"/withdraw",isShow:!0},{icon:"dui",title:k("asset_swap"),url:"/swap",isShow:!0},{icon:"huazhuan",title:k("asset_transfer"),url:"/loan",isShow:!0}]:[{icon:"chongbi",title:k("asset_recharge",["latcoin"]),url:"/recharge",isShow:!0},{icon:"tibi",title:k("asset_withdraw",["latcoin"]),url:"/withdraw",isShow:!0},{icon:"dui",title:k("asset_swap"),url:"/swap",isShow:!0},{icon:"daikuai",title:k("asset_loan"),url:"/loan",isShow:!1},{icon:"huazhuan",title:k("asset_transfer"),url:"/transfer",isShow:!0}]:["paxpay"].includes(__config._APP_ENV)?[{icon:"huazhuan",title:k("asset_transfer"),url:"/transfer",isShow:!0}]:[{icon:"huazhuan",title:k("asset_transfer"),url:"/transfer",isShow:!0},{icon:"daikuai",title:k("asset_loan"),url:"/loan",isShow:!0}],a}));return(a,r)=>{const m=D;return e(),t(o,null,[n("div",T,[n("div",null,[n("p",null,s(l(k)("asset_account",["ebc"]))+"(USDT)",1),i(m,{name:c.showicon,class:"yanjin",onClick:d},null,8,["name"]),i(m,{name:"refresh",class:"shuaxin",onClick:p})]),n("p",V,s(a._numberWithCommas(c.amount)),1)]),n("div",O,[(e(!0),t(o,null,u(l(w).filter((a=>a.isShow)),((a,l)=>(e(),t("div",{key:l,onClick:e=>{return t=a.url,void(N.includes(__config._APP_ENV)&&"/recharge"==t?b("event_serviceChange"):j(t));var t}},[i(m,{name:a.icon,class:"currencyIcon"},null,8,["name"]),n("p",null,s(a.title),1)],8,B)))),128))])],64)}}},[["__scopeId","data-v-0042edaa"]]),L={class:"assetDetails"},q={key:0,class:"title"},K={class:"left fw-bold"},Q={class:"details"},W={class:"top"},G={class:"fw-num"},J={class:"bottom"},M={class:"til"},R={class:"num fw-num"},X={key:0,class:"til"},Z={key:1,class:"til"},$={class:"num fw-num"},aa={class:"til"},ea={class:"num fw-num"},ta=f({__name:"amountDetail",props:{assetDetails:{type:Object},showNum:{type:Boolean}},setup(a){const i=a,m=(a,e=0)=>{let t=x(a,e);return t=i.showNum?A(t):P(),t};return(i,h)=>{const d=D,p=Y;return e(),t("div",L,[(e(!0),t(o,null,u(a.assetDetails,((a,o)=>(e(),t("div",{key:o},["usdt"==a.icon?(e(),t("div",q,[n("div",K,s(l(k)("asset_detail",["ebc"])),1)])):c("",!0),n("div",Q,[n("div",W,["USDT"==a.title?(e(),r(d,{key:0,name:a.icon,class:"currencyIcon"},null,8,["name"])):(e(),r(p,{key:1,filePath:a.loge},null,8,["filePath"])),n("p",G,s(a.title),1)]),n("div",J,[n("div",null,[n("p",M,s(l(k)("asset_available")),1),n("p",R,s(m(a.keyong)),1)]),n("div",null,[["rxce"].includes(i._getConfig("_APP_ENV"))?(e(),t("p",X,s(l(k)("asset_cold")),1)):(e(),t("p",Z,s(l(k)("asset_occupation",["bitmake","ebc"])),1)),n("p",$,s(m(a.zhanyong,4)),1)]),n("div",null,[n("p",aa,s(l(k)("asset_equivalent",["bitmake","ebc"]))+"(USDT)",1),n("p",ea,s(m(a.zhehe)),1)])])])])))),128))])}}},[["__scopeId","data-v-50e71cf9"]]),na={__name:"platAccount",props:{assetDetails:{type:Object},amountSum:{type:String},showNum:{type:Boolean},type:{type:String}},emits:["handleYanjin","handleShuaxin"],setup(a,{emit:n}){const s=n,o=()=>{s("handleYanjin")},u=()=>{s("handleShuaxin")};return(n,s)=>(e(),t("div",null,[i(F,{amount:a.showNum?a.amountSum:l(P)(a.amountSum),onHandleYanjin:o,onHandleShuaxin:u,type:a.type,showicon:a.showNum?"yanjin-k":"yanjin-g"},null,8,["amount","type","showicon"]),i(ta,{assetDetails:a.assetDetails,showNum:a.showNum},null,8,["assetDetails","showNum"])]))}},sa={__name:"financAccount",props:{assetDetails:{type:Object},amountSum:{type:String},showNum:{type:Boolean}},emits:["handleYanjin","handleShuaxin"],setup(a,{emit:n}){const s=n,o=()=>{s("handleYanjin")},u=()=>{s("handleShuaxin")};return(n,s)=>(e(),t("div",null,[i(F,{amount:a.showNum?a.amountSum:l(P)(a.amountSum),onHandleYanjin:o,onHandleShuaxin:u,showicon:a.showNum?"yanjin-k":"yanjin-g"},null,8,["amount","showicon"]),i(ta,{assetDetails:a.assetDetails,showNum:a.showNum},null,8,["assetDetails","showNum"])]))}},la={__name:"contarctAccount",props:{assetDetails:{type:Object},amountSum:{type:String},showNum:{type:Boolean}},emits:["handleYanjin","handleShuaxin"],setup(a,{emit:n}){const s=n,o=()=>{s("handleYanjin")},u=()=>{s("handleShuaxin")};return(n,s)=>(e(),t("div",null,[i(F,{amount:a.showNum?a.amountSum:l(P)(a.amountSum),onHandleYanjin:o,onHandleShuaxin:u,showicon:a.showNum?"yanjin-k":"yanjin-g"},null,8,["amount","showicon"]),i(ta,{assetDetails:a.assetDetails,showNum:a.showNum},null,8,["assetDetails","showNum"])]))}},ia=f({__name:"index",setup(n){var s;const c=E(),f=H(),N=a((()=>f.getAssetsTabList.filter((a=>!!a.isOpen&&("平台资产"==a.name&&(a.keyStr=k(a.keyStr,["latcoin"])),"理财资产"==a.name&&(a.keyStr=k(a.keyStr,["paxpay","latcoin"])),"合约资产"==a.name&&(a.keyStr=k(a.keyStr,["paxpay","latcoin"])),!0))).sort(((a,e)=>a.sort-e.sort)))),b=m((null==(s=N.value[0])?void 0:s.name)||""),j=m("0"),D=a=>{j.value!=a.name&&(c.getUserInfo(),j.value=a.name)},A=m("true"==localStorage.getItem(z.EYES)||!0),P=()=>{A.value=!A.value,localStorage.setItem(z.EYES,A.value)},Y=()=>{S({forbidClick:!0,duration:0}),c.getUserInfo(),F()},{asset:T}=h(c),V=a((()=>{let a=[];return T.value.forEach(((e,t)=>{var n,s;if(1==e.type&&"平台资产"==b.value||2==e.type&&"理财资产"==b.value||3==e.type&&"合约资产"==b.value){let t={};if(t.keyong=x(e.availableAmount),C.includes(__config._APP_ENV)){let a=0;B.value&&B.value.forEach(((t,n)=>{t.coin==e.symbol&&1==e.type&&(a=t.price)})),t.zhanyong=x(I(e.occupiedAmount,a))}else t.zhanyong=x(e.occupiedAmount);t.zhehe=x(e.exchageAmount),"usdt"==e.symbol?(t.icon="usdt",t.loge=e.loge,t.title="USDT",a.unshift(t)):(t.loge=e.loge,t.title=null==(n=e.symbol)?void 0:n.replace("usdt","").trim().toLocaleUpperCase(),t.icon=null==(s=e.symbol)?void 0:s.replace("usdt","").trim(),a.push(t))}})),a})),O=a((()=>{let a=0;for(let e=0;e<V.value.length;e++)a+=Number(V.value[e].zhehe);return x(a)})),B=m(),F=async()=>{if(C.includes(__config._APP_ENV)){const a=await U();"200"==a.code&&(B.value=a.data)}};return d((()=>{F()})),(a,n)=>{const s=g,c=v;return e(),t("div",null,[i(c,{shrink:"",active:l(b),"onUpdate:active":n[0]||(n[0]=a=>w(b)?b.value=a:null),"title-inactive-color":"#333","title-active-color":"#4936DF",color:"#4936DF","line-width":"16",onClickTab:D},{default:p((()=>[(e(!0),t(o,null,u(l(N),((a,t)=>(e(),r(s,{title:a.keyStr,key:t,name:a.name},null,8,["title","name"])))),128))])),_:1},8,["active"]),y(i(na,{amountSum:l(O),assetDetails:l(V),onHandleYanjin:P,onHandleShuaxin:Y,showNum:l(A),type:l(b)},null,8,["amountSum","assetDetails","showNum","type"]),[[_,"平台资产"==l(b)]]),y(i(sa,{amountSum:l(O),assetDetails:l(V),onHandleYanjin:P,onHandleShuaxin:Y,showNum:l(A),type:l(b)},null,8,["amountSum","assetDetails","showNum","type"]),[[_,"理财资产"==l(b)]]),y(i(la,{amountSum:l(O),assetDetails:l(V),onHandleYanjin:P,onHandleShuaxin:Y,showNum:l(A),type:l(b)},null,8,["amountSum","assetDetails","showNum","type"]),[[_,"合约资产"==l(b)]])])}}},[["__scopeId","data-v-5ba9fa09"]]);export{ia as default};
