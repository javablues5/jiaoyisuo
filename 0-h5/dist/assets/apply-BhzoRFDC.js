import{h as a,M as s,e,r as l,c as t,A as n,a as u,j as i,u as o,k as r,t as d,q as c,C as v,K as m,s as p,o as b}from"./vendor-DNdropHc.js";import{_ as f,r as _,f as I,x as y,ad as h,t as x,e as g}from"./index-D_GDdZsP.js";import{C as j,P as w}from"./ProductInfo-b0pf6RMX.js";import{p as q,a as C}from"./index-D1roj0Ib.js";const S={class:"infoItem"},A={class:"title fw-bold"},P=["placeholder"],U={class:"tip-list"},V={class:"row"},k={class:"label"},L={class:"value"},N={class:"row"},T={class:"label"},B={class:"value"},D={class:"infoItem"},K=f({__name:"apply",setup(f){const{_toast:K}=_(),M=I();M.getUserInfo();const O=a(),Z=s(),z=e({}),E=l(""),F=t((()=>{var a;let s=0;return M.asset.length&&(s=(null==(a=M.asset.filter((a=>"usdt"===a.symbol))[0])?void 0:a.availableAmount)||0),s})),G=l(),H=()=>{var a;let s={userId:null==(a=M.userInfo.user)?void 0:a.userId,ownId:z.id,amount:x(null==z?void 0:z.price,G.value||0),number:G.value||0};G.value>0&&G.value<z.numLimit?q(s).then((a=>{"200"==a.code?(K("Subscription_successful"),setTimeout((()=>{O.push("/subscription/order")}),500)):p(a.msg)})):K("Please_ correct_quantity")};return n((()=>{E.value=Z.query.id,(async()=>{if(E.value){const a=await C(E.value);200==a.code&&Object.assign(z,a.data)}})()})),(a,s)=>(b(),u("div",null,[i(y,{currentName:o(g)("Apply_subscription")},null,8,["currentName"]),i(j,{data:o(z)},null,8,["data"]),r("div",S,[r("p",A,d(o(g)("Subscription_quantity")),1),c(r("input",{type:"number",class:"numInput",placeholder:o(g)("exchange.input"),"onUpdate:modelValue":s[0]||(s[0]=a=>m(G)?G.value=a:null)},null,8,P),[[v,o(G)]])]),r("div",U,[r("div",V,[r("div",k,d(o(g)("available_quantity")),1),r("div",L,d(o(z).numLimit)+" "+d(o(z).showSymbol),1)]),r("div",N,[r("div",T,d(o(g)("exchange_balance")),1),r("div",B,d(o(F)||0)+" USDT",1)])]),r("div",D,[i(w,{data:o(z)},null,8,["data"])]),r("div",{class:"infoItem btnBox",onClick:H},[i(h,{btnValue:o(g)("btnConfirm")},null,8,["btnValue"])])]))}},[["__scopeId","data-v-f617943b"]]);export{K as default};
